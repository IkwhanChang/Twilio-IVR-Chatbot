{"ast":null,"code":"!function (e, t) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = t(require(\"prop-types\"), require(\"react\")) : \"function\" == typeof define && define.amd ? define([\"prop-types\", \"react\"], t) : (e = e || self).AvatarEditor = t(e.PropTypes, e.React);\n}(this, function (e, r) {\n  \"use strict\";\n\n  function a(e, t) {\n    for (var n = 0; n < t.length; n++) {\n      var o = t[n];\n      o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, o.key, o);\n    }\n  }\n\n  function s(e, t, n) {\n    return t in e ? Object.defineProperty(e, t, {\n      value: n,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }) : e[t] = n, e;\n  }\n\n  function h() {\n    return (h = Object.assign || function (e) {\n      for (var t = 1; t < arguments.length; t++) {\n        var n = arguments[t];\n\n        for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o]);\n      }\n\n      return e;\n    }).apply(this, arguments);\n  }\n\n  function o(t, e) {\n    var n,\n        o = Object.keys(t);\n    return Object.getOwnPropertySymbols && (n = Object.getOwnPropertySymbols(t), e && (n = n.filter(function (e) {\n      return Object.getOwnPropertyDescriptor(t, e).enumerable;\n    })), o.push.apply(o, n)), o;\n  }\n\n  function y(t) {\n    for (var e = 1; e < arguments.length; e++) {\n      var n = null != arguments[e] ? arguments[e] : {};\n      e % 2 ? o(Object(n), !0).forEach(function (e) {\n        s(t, e, n[e]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : o(Object(n)).forEach(function (e) {\n        Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e));\n      });\n    }\n\n    return t;\n  }\n\n  function c(e) {\n    return (c = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n      return e.__proto__ || Object.getPrototypeOf(e);\n    })(e);\n  }\n\n  function u(e, t) {\n    return (u = Object.setPrototypeOf || function (e, t) {\n      return e.__proto__ = t, e;\n    })(e, t);\n  }\n\n  function l(e, t) {\n    if (null == e) return {};\n\n    var n,\n        o = function (e, t) {\n      if (null == e) return {};\n\n      for (var n, o = {}, i = Object.keys(e), a = 0; a < i.length; a++) n = i[a], 0 <= t.indexOf(n) || (o[n] = e[n]);\n\n      return o;\n    }(e, t);\n\n    if (Object.getOwnPropertySymbols) for (var i = Object.getOwnPropertySymbols(e), a = 0; a < i.length; a++) n = i[a], 0 <= t.indexOf(n) || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n]);\n    return o;\n  }\n\n  function d(e) {\n    if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    return e;\n  }\n\n  function p(a) {\n    var r = function () {\n      if (\"undefined\" == typeof Reflect || !Reflect.construct) return !1;\n      if (Reflect.construct.sham) return !1;\n      if (\"function\" == typeof Proxy) return !0;\n\n      try {\n        return Date.prototype.toString.call(Reflect.construct(Date, [], function () {})), !0;\n      } catch (e) {\n        return !1;\n      }\n    }();\n\n    return function () {\n      var e,\n          t,\n          n,\n          o,\n          i = c(a);\n      return t = r ? (e = c(this).constructor, Reflect.construct(i, arguments, e)) : i.apply(this, arguments), n = this, !(o = t) || \"object\" != typeof o && \"function\" != typeof o ? d(n) : o;\n    };\n  }\n\n  function f(e, t) {\n    return function (e) {\n      if (Array.isArray(e)) return e;\n    }(e) || function (e, t) {\n      if (\"undefined\" == typeof Symbol || !(Symbol.iterator in Object(e))) return;\n      var n = [],\n          o = !0,\n          i = !1,\n          a = void 0;\n\n      try {\n        for (var r, s = e[Symbol.iterator](); !(o = (r = s.next()).done) && (n.push(r.value), !t || n.length !== t); o = !0);\n      } catch (e) {\n        i = !0, a = e;\n      } finally {\n        try {\n          o || null == s.return || s.return();\n        } finally {\n          if (i) throw a;\n        }\n      }\n\n      return n;\n    }(e, t) || n(e, t) || function () {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }();\n  }\n\n  function n(e, t) {\n    if (e) {\n      if (\"string\" == typeof e) return i(e, t);\n      var n = Object.prototype.toString.call(e).slice(8, -1);\n      return \"Object\" === n && e.constructor && (n = e.constructor.name), \"Map\" === n || \"Set\" === n ? Array.from(e) : \"Arguments\" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? i(e, t) : void 0;\n    }\n  }\n\n  function i(e, t) {\n    (null == t || t > e.length) && (t = e.length);\n\n    for (var n = 0, o = new Array(t); n < t; n++) o[n] = e[n];\n\n    return o;\n  }\n\n  function g(i, a) {\n    return new Promise(function (e, t) {\n      var n,\n          o = new Image();\n      o.onload = function () {\n        return e(o);\n      }, o.onerror = t, !1 == (null !== (n = i) && !!n.match(/^\\s*data:([a-z]+\\/[a-z]+(;[a-z-]+=[a-z-]+)?)?(;base64)?,[a-z0-9!$&',()*+;=\\-._~:@/?%\\s]*\\s*$/i)) && a && (o.crossOrigin = a), o.src = i;\n    });\n  }\n\n  e = e && Object.prototype.hasOwnProperty.call(e, \"default\") ? e.default : e, r = r && Object.prototype.hasOwnProperty.call(r, \"default\") ? r.default : r;\n\n  function m(e) {\n    var o = !1;\n    return {\n      promise: new Promise(function (t, n) {\n        e.then(function (e) {\n          return o ? n({\n            isCanceled: !0\n          }) : t(e);\n        }, function (e) {\n          return n(o ? {\n            isCanceled: !0\n          } : e);\n        });\n      }),\n      cancel: function () {\n        o = !0;\n      }\n    };\n  }\n\n  var t,\n      v = !(\"undefined\" == typeof window || \"undefined\" == typeof navigator || !(\"ontouchstart\" in window || 0 < navigator.msMaxTouchPoints)),\n      w = \"undefined\" != typeof File,\n      b = {\n    touch: {\n      react: {\n        down: \"onTouchStart\",\n        mouseDown: \"onMouseDown\",\n        drag: \"onTouchMove\",\n        move: \"onTouchMove\",\n        mouseMove: \"onMouseMove\",\n        up: \"onTouchEnd\",\n        mouseUp: \"onMouseUp\"\n      },\n      native: {\n        down: \"touchstart\",\n        mouseDown: \"mousedown\",\n        drag: \"touchmove\",\n        move: \"touchmove\",\n        mouseMove: \"mousemove\",\n        up: \"touchend\",\n        mouseUp: \"mouseup\"\n      }\n    },\n    desktop: {\n      react: {\n        down: \"onMouseDown\",\n        drag: \"onDragOver\",\n        move: \"onMouseMove\",\n        up: \"onMouseUp\"\n      },\n      native: {\n        down: \"mousedown\",\n        drag: \"dragStart\",\n        move: \"mousemove\",\n        up: \"mouseup\"\n      }\n    }\n  },\n      M = v ? b.touch : b.desktop,\n      O = \"undefined\" != typeof window && window.devicePixelRatio ? window.devicePixelRatio : 1,\n      P = {\n    x: .5,\n    y: .5\n  },\n      I = function () {\n    !function (e, t) {\n      if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n      e.prototype = Object.create(t && t.prototype, {\n        constructor: {\n          value: e,\n          writable: !0,\n          configurable: !0\n        }\n      }), t && u(e, t);\n    }(i, r.Component);\n    var e,\n        t,\n        n,\n        o = p(i);\n\n    function i(e) {\n      var v;\n      return function (e, t) {\n        if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n      }(this, i), s(d(v = o.call(this, e)), \"state\", {\n        drag: !1,\n        my: null,\n        mx: null,\n        image: P\n      }), s(d(v), \"handleImageReady\", function (e) {\n        var t = v.getInitialSize(e.width, e.height);\n        t.resource = e, t.x = .5, t.y = .5, v.setState({\n          drag: !1,\n          image: t\n        }, v.props.onImageReady), v.props.onLoadSuccess(t);\n      }), s(d(v), \"clearImage\", function () {\n        v.canvas.getContext(\"2d\").clearRect(0, 0, v.canvas.width, v.canvas.height), v.setState({\n          image: P\n        });\n      }), s(d(v), \"handleMouseDown\", function (e) {\n        (e = e || window.event).preventDefault(), v.setState({\n          drag: !0,\n          mx: null,\n          my: null\n        });\n      }), s(d(v), \"handleMouseUp\", function () {\n        v.state.drag && (v.setState({\n          drag: !1\n        }), v.props.onMouseUp());\n      }), s(d(v), \"handleMouseMove\", function (e) {\n        var t, n, o, i, a, r, s, h, c, u, l, d, p, g, m, f;\n        e = e || window.event, !1 !== v.state.drag && (e.preventDefault(), o = {\n          mx: t = e.targetTouches ? e.targetTouches[0].pageX : e.clientX,\n          my: n = e.targetTouches ? e.targetTouches[0].pageY : e.clientY\n        }, f = v.props.rotate, f = (f %= 360) < 0 ? f + 360 : f, v.state.mx && v.state.my && (i = v.state.mx - t, a = v.state.my - n, r = v.state.image.width * v.props.scale, s = v.state.image.height * v.props.scale, c = (h = v.getCroppingRect()).x, u = h.y, c *= r, u *= s, l = function (e) {\n          return e * (Math.PI / 180);\n        }, d = Math.cos(l(f)), g = u + -i * (p = Math.sin(l(f))) + a * d, m = {\n          x: (c + i * d + a * p) / r + 1 / v.props.scale * v.getXScale() / 2,\n          y: g / s + 1 / v.props.scale * v.getYScale() / 2\n        }, v.props.onPositionChange(m), o.image = y(y({}, v.state.image), m)), v.setState(o), v.props.onMouseMove(e));\n      }), s(d(v), \"setCanvas\", function (e) {\n        v.canvas = e;\n      }), v.canvas = null, v;\n    }\n\n    return e = i, (t = [{\n      key: \"componentDidMount\",\n      value: function () {\n        this.props.disableHiDPIScaling && (O = 1);\n        var e,\n            t,\n            n = this.canvas.getContext(\"2d\");\n        this.props.image && this.loadImage(this.props.image), this.paint(n), document && (e = !!function () {\n          var t = !1;\n\n          try {\n            var e = Object.defineProperty({}, \"passive\", {\n              get: function () {\n                t = !0;\n              }\n            });\n            window.addEventListener(\"test\", e, e), window.removeEventListener(\"test\", e, e);\n          } catch (e) {\n            t = !1;\n          }\n\n          return t;\n        }() && {\n          passive: !1\n        }, t = M.native, document.addEventListener(t.move, this.handleMouseMove, e), document.addEventListener(t.up, this.handleMouseUp, e), v && (document.addEventListener(t.mouseMove, this.handleMouseMove, e), document.addEventListener(t.mouseUp, this.handleMouseUp, e)));\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function (e, t) {\n        this.props.image && this.props.image !== e.image || this.props.width !== e.width || this.props.height !== e.height ? this.loadImage(this.props.image) : this.props.image || t.image === P || this.clearImage();\n        var n = this.canvas.getContext(\"2d\");\n        n.clearRect(0, 0, this.canvas.width, this.canvas.height), this.paint(n), this.paintImage(n, this.state.image, this.props.border), e.image === this.props.image && e.width === this.props.width && e.height === this.props.height && e.position === this.props.position && e.scale === this.props.scale && e.rotate === this.props.rotate && t.my === this.state.my && t.mx === this.state.mx && t.image.x === this.state.image.x && t.image.y === this.state.image.y || this.props.onImageChange();\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function () {\n        var e;\n        document && (e = M.native, document.removeEventListener(e.move, this.handleMouseMove, !1), document.removeEventListener(e.up, this.handleMouseUp, !1), v && (document.removeEventListener(e.mouseMove, this.handleMouseMove, !1), document.removeEventListener(e.mouseUp, this.handleMouseUp, !1)));\n      }\n    }, {\n      key: \"isVertical\",\n      value: function () {\n        return !this.props.disableCanvasRotation && this.props.rotate % 180 != 0;\n      }\n    }, {\n      key: \"getBorders\",\n      value: function (e) {\n        var t = 0 < arguments.length && void 0 !== e ? e : this.props.border;\n        return Array.isArray(t) ? t : [t, t];\n      }\n    }, {\n      key: \"getDimensions\",\n      value: function () {\n        var e = this.props,\n            t = e.width,\n            n = e.height,\n            o = e.rotate,\n            i = e.border,\n            a = {},\n            r = f(this.getBorders(i), 2),\n            s = r[0],\n            h = r[1],\n            c = t,\n            u = n;\n        return this.isVertical() ? (a.width = u, a.height = c) : (a.width = c, a.height = u), a.width += 2 * s, a.height += 2 * h, {\n          canvas: a,\n          rotate: o,\n          width: t,\n          height: n,\n          border: i\n        };\n      }\n    }, {\n      key: \"getImage\",\n      value: function () {\n        var e = this.getCroppingRect(),\n            t = this.state.image;\n        e.x *= t.resource.width, e.y *= t.resource.height, e.width *= t.resource.width, e.height *= t.resource.height;\n        var n = document.createElement(\"canvas\");\n        this.isVertical() ? (n.width = e.height, n.height = e.width) : (n.width = e.width, n.height = e.height);\n        var o = n.getContext(\"2d\");\n        return o.translate(n.width / 2, n.height / 2), o.rotate(this.props.rotate * Math.PI / 180), o.translate(-n.width / 2, -n.height / 2), this.isVertical() && o.translate((n.width - n.height) / 2, (n.height - n.width) / 2), o.drawImage(t.resource, -e.x, -e.y), n;\n      }\n    }, {\n      key: \"getImageScaledToCanvas\",\n      value: function () {\n        var e = this.getDimensions(),\n            t = e.width,\n            n = e.height,\n            o = document.createElement(\"canvas\");\n        return this.isVertical() ? (o.width = n, o.height = t) : (o.width = t, o.height = n), this.paintImage(o.getContext(\"2d\"), this.state.image, 0, 1), o;\n      }\n    }, {\n      key: \"getXScale\",\n      value: function () {\n        var e = this.props.width / this.props.height,\n            t = this.state.image.width / this.state.image.height;\n        return Math.min(1, e / t);\n      }\n    }, {\n      key: \"getYScale\",\n      value: function () {\n        var e = this.props.height / this.props.width,\n            t = this.state.image.height / this.state.image.width;\n        return Math.min(1, e / t);\n      }\n    }, {\n      key: \"getCroppingRect\",\n      value: function () {\n        var e = this.props.position || {\n          x: this.state.image.x,\n          y: this.state.image.y\n        },\n            t = 1 / this.props.scale * this.getXScale(),\n            n = 1 / this.props.scale * this.getYScale(),\n            o = {\n          x: e.x - t / 2,\n          y: e.y - n / 2,\n          width: t,\n          height: n\n        },\n            i = 0,\n            a = 1 - o.width,\n            r = 0,\n            s = 1 - o.height;\n        return (this.props.disableBoundaryChecks || 1 < t || 1 < n) && (i = -o.width, r = -o.height, s = a = 1), y(y({}, o), {}, {\n          x: Math.max(i, Math.min(o.x, a)),\n          y: Math.max(r, Math.min(o.y, s))\n        });\n      }\n    }, {\n      key: \"loadImage\",\n      value: function (e) {\n        var t;\n        w && e instanceof File ? this.loadingImage = m((t = e, new Promise(function (n, o) {\n          var e = new FileReader();\n          e.onload = function (e) {\n            try {\n              var t = g(e.target.result);\n              n(t);\n            } catch (e) {\n              o(e);\n            }\n          }, e.readAsDataURL(t);\n        }))).promise.then(this.handleImageReady).catch(this.props.onLoadFailure) : \"string\" == typeof e && (this.loadingImage = m(g(e, this.props.crossOrigin)).promise.then(this.handleImageReady).catch(this.props.onLoadFailure));\n      }\n    }, {\n      key: \"getInitialSize\",\n      value: function (e, t) {\n        var n,\n            o,\n            i = this.getDimensions();\n        return t / e < i.height / i.width ? o = e * ((n = this.getDimensions().height) / t) : n = t * ((o = this.getDimensions().width) / e), {\n          height: n,\n          width: o\n        };\n      }\n    }, {\n      key: \"paintImage\",\n      value: function (e, t, n, o) {\n        var i,\n            a = 3 < arguments.length && void 0 !== o ? o : O;\n        t.resource && (i = this.calculatePosition(t, n), e.save(), e.translate(e.canvas.width / 2, e.canvas.height / 2), e.rotate(this.props.rotate * Math.PI / 180), e.translate(-e.canvas.width / 2, -e.canvas.height / 2), this.isVertical() && e.translate((e.canvas.width - e.canvas.height) / 2, (e.canvas.height - e.canvas.width) / 2), e.scale(a, a), e.globalCompositeOperation = \"destination-over\", e.drawImage(t.resource, i.x, i.y, i.width, i.height), e.restore());\n      }\n    }, {\n      key: \"calculatePosition\",\n      value: function (e, t) {\n        e = e || this.state.image;\n        var n = f(this.getBorders(t), 2),\n            o = n[0],\n            i = n[1],\n            a = this.getCroppingRect(),\n            r = e.width * this.props.scale,\n            s = e.height * this.props.scale,\n            h = -a.x * r,\n            c = -a.y * s;\n        return this.isVertical() ? (h += i, c += o) : (h += o, c += i), {\n          x: h,\n          y: c,\n          height: s,\n          width: r\n        };\n      }\n    }, {\n      key: \"paint\",\n      value: function (e) {\n        e.save(), e.scale(O, O), e.translate(0, 0), e.fillStyle = \"rgba(\" + this.props.color.slice(0, 4).join(\",\") + \")\";\n        var t,\n            n,\n            o,\n            i,\n            a,\n            r,\n            s,\n            h,\n            c = this.props.borderRadius,\n            u = this.getDimensions(),\n            l = f(this.getBorders(u.border), 2),\n            d = l[0],\n            p = l[1],\n            g = u.canvas.height,\n            m = u.canvas.width,\n            c = Math.max(c, 0);\n        c = Math.min(c, m / 2 - d, g / 2 - p), e.beginPath(), t = e, i = m - 2 * (n = d), a = g - 2 * (o = p), 0 === (r = c) ? t.rect(n, o, i, a) : (s = i - r, h = a - r, t.translate(n, o), t.arc(r, r, r, Math.PI, 1.5 * Math.PI), t.lineTo(s, 0), t.arc(s, r, r, 1.5 * Math.PI, 2 * Math.PI), t.lineTo(i, h), t.arc(s, h, r, 2 * Math.PI, .5 * Math.PI), t.lineTo(r, a), t.arc(r, h, r, .5 * Math.PI, Math.PI), t.translate(-n, -o)), e.rect(m, 0, -m, g), e.fill(\"evenodd\"), e.restore();\n      }\n    }, {\n      key: \"render\",\n      value: function () {\n        var e = this.props,\n            t = (e.scale, e.rotate, e.image, e.border, e.borderRadius, e.width, e.height, e.position, e.color, e.style),\n            n = (e.crossOrigin, e.onLoadFailure, e.onLoadSuccess, e.onImageReady, e.onImageChange, e.onMouseUp, e.onMouseMove, e.onPositionChange, e.disableBoundaryChecks, e.disableHiDPIScaling, e.disableCanvasRotation, l(e, [\"scale\", \"rotate\", \"image\", \"border\", \"borderRadius\", \"width\", \"height\", \"position\", \"color\", \"style\", \"crossOrigin\", \"onLoadFailure\", \"onLoadSuccess\", \"onImageReady\", \"onImageChange\", \"onMouseUp\", \"onMouseMove\", \"onPositionChange\", \"disableBoundaryChecks\", \"disableHiDPIScaling\", \"disableCanvasRotation\"])),\n            o = this.getDimensions(),\n            i = {\n          width: o.canvas.width,\n          height: o.canvas.height,\n          cursor: this.state.drag ? \"grabbing\" : \"grab\",\n          touchAction: \"none\"\n        },\n            a = {\n          width: o.canvas.width * O,\n          height: o.canvas.height * O,\n          style: y(y({}, i), t)\n        };\n        return a[M.react.down] = this.handleMouseDown, v && (a[M.react.mouseDown] = this.handleMouseDown), r.createElement(\"canvas\", h({\n          ref: this.setCanvas\n        }, a, n));\n      }\n    }]) && a(e.prototype, t), n && a(e, n), i;\n  }();\n\n  return s(I, \"propTypes\", {\n    scale: e.number,\n    rotate: e.number,\n    image: e.oneOfType([e.string].concat(function (e) {\n      if (Array.isArray(e)) return i(e);\n    }(t = w ? [e.instanceOf(File)] : []) || function (e) {\n      if (\"undefined\" != typeof Symbol && Symbol.iterator in Object(e)) return Array.from(e);\n    }(t) || n(t) || function () {\n      throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }())),\n    border: e.oneOfType([e.number, e.arrayOf(e.number)]),\n    borderRadius: e.number,\n    width: e.number,\n    height: e.number,\n    position: e.shape({\n      x: e.number,\n      y: e.number\n    }),\n    color: e.arrayOf(e.number),\n    crossOrigin: e.oneOf([\"\", \"anonymous\", \"use-credentials\"]),\n    onLoadFailure: e.func,\n    onLoadSuccess: e.func,\n    onImageReady: e.func,\n    onImageChange: e.func,\n    onMouseUp: e.func,\n    onMouseMove: e.func,\n    onPositionChange: e.func,\n    disableBoundaryChecks: e.bool,\n    disableHiDPIScaling: e.bool,\n    disableCanvasRotation: e.bool\n  }), s(I, \"defaultProps\", {\n    scale: 1,\n    rotate: 0,\n    border: 25,\n    borderRadius: 0,\n    width: 200,\n    height: 200,\n    color: [0, 0, 0, .5],\n    onLoadFailure: function () {},\n    onLoadSuccess: function () {},\n    onImageReady: function () {},\n    onImageChange: function () {},\n    onMouseUp: function () {},\n    onMouseMove: function () {},\n    onPositionChange: function () {},\n    disableBoundaryChecks: !1,\n    disableHiDPIScaling: !1,\n    disableCanvasRotation: !0\n  }), I;\n});","map":{"version":3,"sources":["/Users/matthewchang/workspace/github/SEM2020/store-owner-console/node_modules/react-avatar-editor/dist/index.js"],"names":["e","t","exports","module","require","define","amd","self","AvatarEditor","PropTypes","React","r","a","n","length","o","enumerable","configurable","writable","Object","defineProperty","key","s","value","h","assign","arguments","prototype","hasOwnProperty","call","apply","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","push","y","forEach","getOwnPropertyDescriptors","defineProperties","c","setPrototypeOf","getPrototypeOf","__proto__","u","l","i","indexOf","propertyIsEnumerable","d","ReferenceError","p","Reflect","construct","sham","Proxy","Date","toString","constructor","f","Array","isArray","Symbol","iterator","next","done","return","TypeError","slice","name","from","test","g","Promise","Image","onload","onerror","match","crossOrigin","src","default","m","promise","then","isCanceled","cancel","v","window","navigator","msMaxTouchPoints","w","File","b","touch","react","down","mouseDown","drag","move","mouseMove","up","mouseUp","native","desktop","M","O","devicePixelRatio","P","x","I","create","Component","my","mx","image","getInitialSize","width","height","resource","setState","props","onImageReady","onLoadSuccess","canvas","getContext","clearRect","event","preventDefault","state","onMouseUp","targetTouches","pageX","clientX","pageY","clientY","rotate","scale","getCroppingRect","Math","PI","cos","sin","getXScale","getYScale","onPositionChange","onMouseMove","disableHiDPIScaling","loadImage","paint","document","get","addEventListener","removeEventListener","passive","handleMouseMove","handleMouseUp","clearImage","paintImage","border","position","onImageChange","disableCanvasRotation","getBorders","isVertical","createElement","translate","drawImage","getDimensions","min","disableBoundaryChecks","max","loadingImage","FileReader","target","result","readAsDataURL","handleImageReady","catch","onLoadFailure","calculatePosition","save","globalCompositeOperation","restore","fillStyle","color","join","borderRadius","beginPath","rect","arc","lineTo","fill","style","cursor","touchAction","handleMouseDown","ref","setCanvas","number","oneOfType","string","concat","instanceOf","arrayOf","shape","oneOf","func","bool"],"mappings":"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","sourcesContent":["!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t(require(\"prop-types\"),require(\"react\")):\"function\"==typeof define&&define.amd?define([\"prop-types\",\"react\"],t):(e=e||self).AvatarEditor=t(e.PropTypes,e.React)}(this,function(e,r){\"use strict\";function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function o(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach(function(e){s(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){if(null==e)return{};var n,o=function(e,t){if(null==e)return{};for(var n,o={},i=Object.keys(e),a=0;a<i.length;a++)n=i[a],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)n=i[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n]);return o}function d(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function p(a){var r=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,o,i=c(a);return t=r?(e=c(this).constructor,Reflect.construct(i,arguments,e)):i.apply(this,arguments),n=this,!(o=t)||\"object\"!=typeof o&&\"function\"!=typeof o?d(n):o}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(\"undefined\"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],o=!0,i=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(o=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||n(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function n(e,t){if(e){if(\"string\"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function g(i,a){return new Promise(function(e,t){var n,o=new Image;o.onload=function(){return e(o)},o.onerror=t,!1==(null!==(n=i)&&!!n.match(/^\\s*data:([a-z]+\\/[a-z]+(;[a-z-]+=[a-z-]+)?)?(;base64)?,[a-z0-9!$&',()*+;=\\-._~:@/?%\\s]*\\s*$/i))&&a&&(o.crossOrigin=a),o.src=i})}e=e&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e,r=r&&Object.prototype.hasOwnProperty.call(r,\"default\")?r.default:r;function m(e){var o=!1;return{promise:new Promise(function(t,n){e.then(function(e){return o?n({isCanceled:!0}):t(e)},function(e){return n(o?{isCanceled:!0}:e)})}),cancel:function(){o=!0}}}var t,v=!(\"undefined\"==typeof window||\"undefined\"==typeof navigator||!(\"ontouchstart\"in window||0<navigator.msMaxTouchPoints)),w=\"undefined\"!=typeof File,b={touch:{react:{down:\"onTouchStart\",mouseDown:\"onMouseDown\",drag:\"onTouchMove\",move:\"onTouchMove\",mouseMove:\"onMouseMove\",up:\"onTouchEnd\",mouseUp:\"onMouseUp\"},native:{down:\"touchstart\",mouseDown:\"mousedown\",drag:\"touchmove\",move:\"touchmove\",mouseMove:\"mousemove\",up:\"touchend\",mouseUp:\"mouseup\"}},desktop:{react:{down:\"onMouseDown\",drag:\"onDragOver\",move:\"onMouseMove\",up:\"onMouseUp\"},native:{down:\"mousedown\",drag:\"dragStart\",move:\"mousemove\",up:\"mouseup\"}}},M=v?b.touch:b.desktop,O=\"undefined\"!=typeof window&&window.devicePixelRatio?window.devicePixelRatio:1,P={x:.5,y:.5},I=function(){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(i,r.Component);var e,t,n,o=p(i);function i(e){var v;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,i),s(d(v=o.call(this,e)),\"state\",{drag:!1,my:null,mx:null,image:P}),s(d(v),\"handleImageReady\",function(e){var t=v.getInitialSize(e.width,e.height);t.resource=e,t.x=.5,t.y=.5,v.setState({drag:!1,image:t},v.props.onImageReady),v.props.onLoadSuccess(t)}),s(d(v),\"clearImage\",function(){v.canvas.getContext(\"2d\").clearRect(0,0,v.canvas.width,v.canvas.height),v.setState({image:P})}),s(d(v),\"handleMouseDown\",function(e){(e=e||window.event).preventDefault(),v.setState({drag:!0,mx:null,my:null})}),s(d(v),\"handleMouseUp\",function(){v.state.drag&&(v.setState({drag:!1}),v.props.onMouseUp())}),s(d(v),\"handleMouseMove\",function(e){var t,n,o,i,a,r,s,h,c,u,l,d,p,g,m,f;e=e||window.event,!1!==v.state.drag&&(e.preventDefault(),o={mx:t=e.targetTouches?e.targetTouches[0].pageX:e.clientX,my:n=e.targetTouches?e.targetTouches[0].pageY:e.clientY},f=v.props.rotate,f=(f%=360)<0?f+360:f,v.state.mx&&v.state.my&&(i=v.state.mx-t,a=v.state.my-n,r=v.state.image.width*v.props.scale,s=v.state.image.height*v.props.scale,c=(h=v.getCroppingRect()).x,u=h.y,c*=r,u*=s,l=function(e){return e*(Math.PI/180)},d=Math.cos(l(f)),g=u+-i*(p=Math.sin(l(f)))+a*d,m={x:(c+i*d+a*p)/r+1/v.props.scale*v.getXScale()/2,y:g/s+1/v.props.scale*v.getYScale()/2},v.props.onPositionChange(m),o.image=y(y({},v.state.image),m)),v.setState(o),v.props.onMouseMove(e))}),s(d(v),\"setCanvas\",function(e){v.canvas=e}),v.canvas=null,v}return e=i,(t=[{key:\"componentDidMount\",value:function(){this.props.disableHiDPIScaling&&(O=1);var e,t,n=this.canvas.getContext(\"2d\");this.props.image&&this.loadImage(this.props.image),this.paint(n),document&&(e=!!function(){var t=!1;try{var e=Object.defineProperty({},\"passive\",{get:function(){t=!0}});window.addEventListener(\"test\",e,e),window.removeEventListener(\"test\",e,e)}catch(e){t=!1}return t}()&&{passive:!1},t=M.native,document.addEventListener(t.move,this.handleMouseMove,e),document.addEventListener(t.up,this.handleMouseUp,e),v&&(document.addEventListener(t.mouseMove,this.handleMouseMove,e),document.addEventListener(t.mouseUp,this.handleMouseUp,e)))}},{key:\"componentDidUpdate\",value:function(e,t){this.props.image&&this.props.image!==e.image||this.props.width!==e.width||this.props.height!==e.height?this.loadImage(this.props.image):this.props.image||t.image===P||this.clearImage();var n=this.canvas.getContext(\"2d\");n.clearRect(0,0,this.canvas.width,this.canvas.height),this.paint(n),this.paintImage(n,this.state.image,this.props.border),e.image===this.props.image&&e.width===this.props.width&&e.height===this.props.height&&e.position===this.props.position&&e.scale===this.props.scale&&e.rotate===this.props.rotate&&t.my===this.state.my&&t.mx===this.state.mx&&t.image.x===this.state.image.x&&t.image.y===this.state.image.y||this.props.onImageChange()}},{key:\"componentWillUnmount\",value:function(){var e;document&&(e=M.native,document.removeEventListener(e.move,this.handleMouseMove,!1),document.removeEventListener(e.up,this.handleMouseUp,!1),v&&(document.removeEventListener(e.mouseMove,this.handleMouseMove,!1),document.removeEventListener(e.mouseUp,this.handleMouseUp,!1)))}},{key:\"isVertical\",value:function(){return!this.props.disableCanvasRotation&&this.props.rotate%180!=0}},{key:\"getBorders\",value:function(e){var t=0<arguments.length&&void 0!==e?e:this.props.border;return Array.isArray(t)?t:[t,t]}},{key:\"getDimensions\",value:function(){var e=this.props,t=e.width,n=e.height,o=e.rotate,i=e.border,a={},r=f(this.getBorders(i),2),s=r[0],h=r[1],c=t,u=n;return this.isVertical()?(a.width=u,a.height=c):(a.width=c,a.height=u),a.width+=2*s,a.height+=2*h,{canvas:a,rotate:o,width:t,height:n,border:i}}},{key:\"getImage\",value:function(){var e=this.getCroppingRect(),t=this.state.image;e.x*=t.resource.width,e.y*=t.resource.height,e.width*=t.resource.width,e.height*=t.resource.height;var n=document.createElement(\"canvas\");this.isVertical()?(n.width=e.height,n.height=e.width):(n.width=e.width,n.height=e.height);var o=n.getContext(\"2d\");return o.translate(n.width/2,n.height/2),o.rotate(this.props.rotate*Math.PI/180),o.translate(-n.width/2,-n.height/2),this.isVertical()&&o.translate((n.width-n.height)/2,(n.height-n.width)/2),o.drawImage(t.resource,-e.x,-e.y),n}},{key:\"getImageScaledToCanvas\",value:function(){var e=this.getDimensions(),t=e.width,n=e.height,o=document.createElement(\"canvas\");return this.isVertical()?(o.width=n,o.height=t):(o.width=t,o.height=n),this.paintImage(o.getContext(\"2d\"),this.state.image,0,1),o}},{key:\"getXScale\",value:function(){var e=this.props.width/this.props.height,t=this.state.image.width/this.state.image.height;return Math.min(1,e/t)}},{key:\"getYScale\",value:function(){var e=this.props.height/this.props.width,t=this.state.image.height/this.state.image.width;return Math.min(1,e/t)}},{key:\"getCroppingRect\",value:function(){var e=this.props.position||{x:this.state.image.x,y:this.state.image.y},t=1/this.props.scale*this.getXScale(),n=1/this.props.scale*this.getYScale(),o={x:e.x-t/2,y:e.y-n/2,width:t,height:n},i=0,a=1-o.width,r=0,s=1-o.height;return(this.props.disableBoundaryChecks||1<t||1<n)&&(i=-o.width,r=-o.height,s=a=1),y(y({},o),{},{x:Math.max(i,Math.min(o.x,a)),y:Math.max(r,Math.min(o.y,s))})}},{key:\"loadImage\",value:function(e){var t;w&&e instanceof File?this.loadingImage=m((t=e,new Promise(function(n,o){var e=new FileReader;e.onload=function(e){try{var t=g(e.target.result);n(t)}catch(e){o(e)}},e.readAsDataURL(t)}))).promise.then(this.handleImageReady).catch(this.props.onLoadFailure):\"string\"==typeof e&&(this.loadingImage=m(g(e,this.props.crossOrigin)).promise.then(this.handleImageReady).catch(this.props.onLoadFailure))}},{key:\"getInitialSize\",value:function(e,t){var n,o,i=this.getDimensions();return t/e<i.height/i.width?o=e*((n=this.getDimensions().height)/t):n=t*((o=this.getDimensions().width)/e),{height:n,width:o}}},{key:\"paintImage\",value:function(e,t,n,o){var i,a=3<arguments.length&&void 0!==o?o:O;t.resource&&(i=this.calculatePosition(t,n),e.save(),e.translate(e.canvas.width/2,e.canvas.height/2),e.rotate(this.props.rotate*Math.PI/180),e.translate(-e.canvas.width/2,-e.canvas.height/2),this.isVertical()&&e.translate((e.canvas.width-e.canvas.height)/2,(e.canvas.height-e.canvas.width)/2),e.scale(a,a),e.globalCompositeOperation=\"destination-over\",e.drawImage(t.resource,i.x,i.y,i.width,i.height),e.restore())}},{key:\"calculatePosition\",value:function(e,t){e=e||this.state.image;var n=f(this.getBorders(t),2),o=n[0],i=n[1],a=this.getCroppingRect(),r=e.width*this.props.scale,s=e.height*this.props.scale,h=-a.x*r,c=-a.y*s;return this.isVertical()?(h+=i,c+=o):(h+=o,c+=i),{x:h,y:c,height:s,width:r}}},{key:\"paint\",value:function(e){e.save(),e.scale(O,O),e.translate(0,0),e.fillStyle=\"rgba(\"+this.props.color.slice(0,4).join(\",\")+\")\";var t,n,o,i,a,r,s,h,c=this.props.borderRadius,u=this.getDimensions(),l=f(this.getBorders(u.border),2),d=l[0],p=l[1],g=u.canvas.height,m=u.canvas.width,c=Math.max(c,0);c=Math.min(c,m/2-d,g/2-p),e.beginPath(),t=e,i=m-2*(n=d),a=g-2*(o=p),0===(r=c)?t.rect(n,o,i,a):(s=i-r,h=a-r,t.translate(n,o),t.arc(r,r,r,Math.PI,1.5*Math.PI),t.lineTo(s,0),t.arc(s,r,r,1.5*Math.PI,2*Math.PI),t.lineTo(i,h),t.arc(s,h,r,2*Math.PI,.5*Math.PI),t.lineTo(r,a),t.arc(r,h,r,.5*Math.PI,Math.PI),t.translate(-n,-o)),e.rect(m,0,-m,g),e.fill(\"evenodd\"),e.restore()}},{key:\"render\",value:function(){var e=this.props,t=(e.scale,e.rotate,e.image,e.border,e.borderRadius,e.width,e.height,e.position,e.color,e.style),n=(e.crossOrigin,e.onLoadFailure,e.onLoadSuccess,e.onImageReady,e.onImageChange,e.onMouseUp,e.onMouseMove,e.onPositionChange,e.disableBoundaryChecks,e.disableHiDPIScaling,e.disableCanvasRotation,l(e,[\"scale\",\"rotate\",\"image\",\"border\",\"borderRadius\",\"width\",\"height\",\"position\",\"color\",\"style\",\"crossOrigin\",\"onLoadFailure\",\"onLoadSuccess\",\"onImageReady\",\"onImageChange\",\"onMouseUp\",\"onMouseMove\",\"onPositionChange\",\"disableBoundaryChecks\",\"disableHiDPIScaling\",\"disableCanvasRotation\"])),o=this.getDimensions(),i={width:o.canvas.width,height:o.canvas.height,cursor:this.state.drag?\"grabbing\":\"grab\",touchAction:\"none\"},a={width:o.canvas.width*O,height:o.canvas.height*O,style:y(y({},i),t)};return a[M.react.down]=this.handleMouseDown,v&&(a[M.react.mouseDown]=this.handleMouseDown),r.createElement(\"canvas\",h({ref:this.setCanvas},a,n))}}])&&a(e.prototype,t),n&&a(e,n),i}();return s(I,\"propTypes\",{scale:e.number,rotate:e.number,image:e.oneOfType([e.string].concat(function(e){if(Array.isArray(e))return i(e)}(t=w?[e.instanceOf(File)]:[])||function(e){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||n(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}())),border:e.oneOfType([e.number,e.arrayOf(e.number)]),borderRadius:e.number,width:e.number,height:e.number,position:e.shape({x:e.number,y:e.number}),color:e.arrayOf(e.number),crossOrigin:e.oneOf([\"\",\"anonymous\",\"use-credentials\"]),onLoadFailure:e.func,onLoadSuccess:e.func,onImageReady:e.func,onImageChange:e.func,onMouseUp:e.func,onMouseMove:e.func,onPositionChange:e.func,disableBoundaryChecks:e.bool,disableHiDPIScaling:e.bool,disableCanvasRotation:e.bool}),s(I,\"defaultProps\",{scale:1,rotate:0,border:25,borderRadius:0,width:200,height:200,color:[0,0,0,.5],onLoadFailure:function(){},onLoadSuccess:function(){},onImageReady:function(){},onImageChange:function(){},onMouseUp:function(){},onMouseMove:function(){},onPositionChange:function(){},disableBoundaryChecks:!1,disableHiDPIScaling:!1,disableCanvasRotation:!0}),I});\n"]},"metadata":{},"sourceType":"script"}