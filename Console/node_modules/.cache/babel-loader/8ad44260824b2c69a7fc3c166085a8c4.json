{"ast":null,"code":"import _extends from '../polyfills/extends';\nimport _Object$getPrototypeOf from '../polyfills/objectGetPrototypeOf';\nimport _classCallCheck from '../polyfills/classCallCheck';\nimport _createClass from '../polyfills/createClass';\nimport _possibleConstructorReturn from '../polyfills/possibleConstructorReturn';\nimport _inherits from '../polyfills/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport frequently from '../utils/frequently';\nimport { getData } from '../utils';\nimport NimbleEmoji from './emoji/nimble-emoji';\nimport NotFound from './not-found';\n\nvar Category = function (_React$Component) {\n  _inherits(Category, _React$Component);\n\n  function Category(props) {\n    _classCallCheck(this, Category);\n\n    var _this = _possibleConstructorReturn(this, (Category.__proto__ || _Object$getPrototypeOf(Category)).call(this, props));\n\n    _this.data = props.data;\n    _this.setContainerRef = _this.setContainerRef.bind(_this);\n    _this.setLabelRef = _this.setLabelRef.bind(_this);\n    return _this;\n  }\n\n  _createClass(Category, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.margin = 0;\n      this.minMargin = 0;\n      this.memoizeSize();\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      var _props = this.props;\n      var name = _props.name;\n      var perLine = _props.perLine;\n      var native = _props.native;\n      var hasStickyPosition = _props.hasStickyPosition;\n      var emojis = _props.emojis;\n      var emojiProps = _props.emojiProps;\n      var skin = emojiProps.skin;\n      var size = emojiProps.size;\n      var set = emojiProps.set;\n      var nextPerLine = nextProps.perLine;\n      var nextNative = nextProps.native;\n      var nextHasStickyPosition = nextProps.hasStickyPosition;\n      var nextEmojis = nextProps.emojis;\n      var nextEmojiProps = nextProps.emojiProps;\n      var nextSkin = nextEmojiProps.skin;\n      var nextSize = nextEmojiProps.size;\n      var nextSet = nextEmojiProps.set;\n      var shouldUpdate = false;\n\n      if (name == 'Recent' && perLine != nextPerLine) {\n        shouldUpdate = true;\n      }\n\n      if (name == 'Search') {\n        shouldUpdate = !(emojis == nextEmojis);\n      }\n\n      if (skin != nextSkin || size != nextSize || native != nextNative || set != nextSet || hasStickyPosition != nextHasStickyPosition) {\n        shouldUpdate = true;\n      }\n\n      return shouldUpdate;\n    }\n  }, {\n    key: 'memoizeSize',\n    value: function memoizeSize() {\n      if (!this.container) {\n        // probably this is a test environment, e.g. jest\n        this.top = 0;\n        this.maxMargin = 0;\n        return;\n      }\n\n      var parent = this.container.parentElement;\n\n      var _container$getBoundin = this.container.getBoundingClientRect();\n\n      var top = _container$getBoundin.top;\n      var height = _container$getBoundin.height;\n\n      var _parent$getBoundingCl = parent.getBoundingClientRect();\n\n      var parentTop = _parent$getBoundingCl.top;\n\n      var _label$getBoundingCli = this.label.getBoundingClientRect();\n\n      var labelHeight = _label$getBoundingCli.height;\n      this.top = top - parentTop + parent.scrollTop;\n\n      if (height == 0) {\n        this.maxMargin = 0;\n      } else {\n        this.maxMargin = height - labelHeight;\n      }\n    }\n  }, {\n    key: 'handleScroll',\n    value: function handleScroll(scrollTop) {\n      var margin = scrollTop - this.top;\n      margin = margin < this.minMargin ? this.minMargin : margin;\n      margin = margin > this.maxMargin ? this.maxMargin : margin;\n      if (margin == this.margin) return;\n\n      if (!this.props.hasStickyPosition) {\n        this.label.style.top = margin + 'px';\n      }\n\n      this.margin = margin;\n      return true;\n    }\n  }, {\n    key: 'getEmojis',\n    value: function getEmojis() {\n      var _this2 = this;\n\n      var _props2 = this.props;\n      var name = _props2.name;\n      var emojis = _props2.emojis;\n      var recent = _props2.recent;\n      var perLine = _props2.perLine;\n\n      if (name == 'Recent') {\n        var custom = this.props.custom;\n        var frequentlyUsed = recent || frequently.get(perLine);\n\n        if (frequentlyUsed.length) {\n          emojis = frequentlyUsed.map(function (id) {\n            var emoji = custom.filter(function (e) {\n              return e.id === id;\n            })[0];\n\n            if (emoji) {\n              return emoji;\n            }\n\n            return id;\n          }).filter(function (id) {\n            return !!getData(id, null, null, _this2.data);\n          });\n        }\n\n        if (emojis.length === 0 && frequentlyUsed.length > 0) {\n          return null;\n        }\n      }\n\n      if (emojis) {\n        emojis = emojis.slice(0);\n      }\n\n      return emojis;\n    }\n  }, {\n    key: 'updateDisplay',\n    value: function updateDisplay(display) {\n      var emojis = this.getEmojis();\n\n      if (!emojis || !this.container) {\n        return;\n      }\n\n      this.container.style.display = display;\n    }\n  }, {\n    key: 'setContainerRef',\n    value: function setContainerRef(c) {\n      this.container = c;\n    }\n  }, {\n    key: 'setLabelRef',\n    value: function setLabelRef(c) {\n      this.label = c;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      var _props3 = this.props;\n      var id = _props3.id;\n      var name = _props3.name;\n      var hasStickyPosition = _props3.hasStickyPosition;\n      var emojiProps = _props3.emojiProps;\n      var i18n = _props3.i18n;\n      var notFound = _props3.notFound;\n      var notFoundEmoji = _props3.notFoundEmoji;\n      var emojis = this.getEmojis();\n      var labelStyles = {};\n      var labelSpanStyles = {};\n      var containerStyles = {};\n\n      if (!emojis) {\n        containerStyles = {\n          display: 'none'\n        };\n      }\n\n      if (!hasStickyPosition) {\n        labelStyles = {\n          height: 28\n        };\n        labelSpanStyles = {\n          position: 'absolute'\n        };\n      }\n\n      var label = i18n.categories[id] || name;\n      return React.createElement('section', {\n        ref: this.setContainerRef,\n        className: 'emoji-mart-category',\n        'aria-label': label,\n        style: containerStyles\n      }, React.createElement('div', {\n        style: labelStyles,\n        'data-name': name,\n        className: 'emoji-mart-category-label'\n      }, React.createElement('span', {\n        style: labelSpanStyles,\n        ref: this.setLabelRef,\n        'aria-hidden': true\n        /* already labeled by the section aria-label */\n\n      }, label)), React.createElement('ul', {\n        className: 'emoji-mart-category-list'\n      }, emojis && emojis.map(function (emoji) {\n        return React.createElement('li', {\n          key: emoji.short_names && emoji.short_names.join('_') || emoji\n        }, NimbleEmoji(_extends({\n          emoji: emoji,\n          data: _this3.data\n        }, emojiProps)));\n      })), emojis && !emojis.length && React.createElement(NotFound, {\n        i18n: i18n,\n        notFound: notFound,\n        notFoundEmoji: notFoundEmoji,\n        data: this.data,\n        emojiProps: emojiProps\n      }));\n    }\n  }]);\n\n  return Category;\n}(React.Component);\n\nexport default Category;\nCategory.propTypes\n/* remove-proptypes */\n= {\n  emojis: PropTypes.array,\n  hasStickyPosition: PropTypes.bool,\n  name: PropTypes.string.isRequired,\n  native: PropTypes.bool.isRequired,\n  perLine: PropTypes.number.isRequired,\n  emojiProps: PropTypes.object.isRequired,\n  recent: PropTypes.arrayOf(PropTypes.string),\n  notFound: PropTypes.func,\n  notFoundEmoji: PropTypes.string.isRequired\n};\nCategory.defaultProps = {\n  emojis: [],\n  hasStickyPosition: true\n};","map":{"version":3,"sources":["/Users/matthewchang/workspace/github/SEM2020/store-owner-console/node_modules/emoji-mart/dist-es/components/category.js"],"names":["_extends","_Object$getPrototypeOf","_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","React","PropTypes","frequently","getData","NimbleEmoji","NotFound","Category","_React$Component","props","_this","__proto__","call","data","setContainerRef","bind","setLabelRef","key","value","componentDidMount","margin","minMargin","memoizeSize","shouldComponentUpdate","nextProps","nextState","_props","name","perLine","native","hasStickyPosition","emojis","emojiProps","skin","size","set","nextPerLine","nextNative","nextHasStickyPosition","nextEmojis","nextEmojiProps","nextSkin","nextSize","nextSet","shouldUpdate","container","top","maxMargin","parent","parentElement","_container$getBoundin","getBoundingClientRect","height","_parent$getBoundingCl","parentTop","_label$getBoundingCli","label","labelHeight","scrollTop","handleScroll","style","getEmojis","_this2","_props2","recent","custom","frequentlyUsed","get","length","map","id","emoji","filter","e","slice","updateDisplay","display","c","render","_this3","_props3","i18n","notFound","notFoundEmoji","labelStyles","labelSpanStyles","containerStyles","position","categories","createElement","ref","className","short_names","join","Component","propTypes","array","bool","string","isRequired","number","object","arrayOf","func","defaultProps"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,sBAArB;AACA,OAAOC,sBAAP,MAAmC,mCAAnC;AACA,OAAOC,eAAP,MAA4B,6BAA5B;AACA,OAAOC,YAAP,MAAyB,0BAAzB;AACA,OAAOC,0BAAP,MAAuC,wCAAvC;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,OAAOC,UAAP,MAAuB,qBAAvB;AACA,SAASC,OAAT,QAAwB,UAAxB;AACA,OAAOC,WAAP,MAAwB,sBAAxB;AACA,OAAOC,QAAP,MAAqB,aAArB;;AAEA,IAAIC,QAAQ,GAAG,UAAUC,gBAAV,EAA4B;AACzCR,EAAAA,SAAS,CAACO,QAAD,EAAWC,gBAAX,CAAT;;AAEA,WAASD,QAAT,CAAkBE,KAAlB,EAAyB;AACvBZ,IAAAA,eAAe,CAAC,IAAD,EAAOU,QAAP,CAAf;;AAEA,QAAIG,KAAK,GAAGX,0BAA0B,CAAC,IAAD,EAAO,CAACQ,QAAQ,CAACI,SAAT,IAAsBf,sBAAsB,CAACW,QAAD,CAA7C,EAAyDK,IAAzD,CAA8D,IAA9D,EAAoEH,KAApE,CAAP,CAAtC;;AAEAC,IAAAA,KAAK,CAACG,IAAN,GAAaJ,KAAK,CAACI,IAAnB;AACAH,IAAAA,KAAK,CAACI,eAAN,GAAwBJ,KAAK,CAACI,eAAN,CAAsBC,IAAtB,CAA2BL,KAA3B,CAAxB;AACAA,IAAAA,KAAK,CAACM,WAAN,GAAoBN,KAAK,CAACM,WAAN,CAAkBD,IAAlB,CAAuBL,KAAvB,CAApB;AACA,WAAOA,KAAP;AACD;;AAEDZ,EAAAA,YAAY,CAACS,QAAD,EAAW,CAAC;AACtBU,IAAAA,GAAG,EAAE,mBADiB;AAEtBC,IAAAA,KAAK,EAAE,SAASC,iBAAT,GAA6B;AAClC,WAAKC,MAAL,GAAc,CAAd;AACA,WAAKC,SAAL,GAAiB,CAAjB;AAEA,WAAKC,WAAL;AACD;AAPqB,GAAD,EAQpB;AACDL,IAAAA,GAAG,EAAE,uBADJ;AAEDC,IAAAA,KAAK,EAAE,SAASK,qBAAT,CAA+BC,SAA/B,EAA0CC,SAA1C,EAAqD;AAC1D,UAAIC,MAAM,GAAG,KAAKjB,KAAlB;AACA,UAAIkB,IAAI,GAAGD,MAAM,CAACC,IAAlB;AACA,UAAIC,OAAO,GAAGF,MAAM,CAACE,OAArB;AACA,UAAIC,MAAM,GAAGH,MAAM,CAACG,MAApB;AACA,UAAIC,iBAAiB,GAAGJ,MAAM,CAACI,iBAA/B;AACA,UAAIC,MAAM,GAAGL,MAAM,CAACK,MAApB;AACA,UAAIC,UAAU,GAAGN,MAAM,CAACM,UAAxB;AACA,UAAIC,IAAI,GAAGD,UAAU,CAACC,IAAtB;AACA,UAAIC,IAAI,GAAGF,UAAU,CAACE,IAAtB;AACA,UAAIC,GAAG,GAAGH,UAAU,CAACG,GAArB;AACA,UAAIC,WAAW,GAAGZ,SAAS,CAACI,OAA5B;AACA,UAAIS,UAAU,GAAGb,SAAS,CAACK,MAA3B;AACA,UAAIS,qBAAqB,GAAGd,SAAS,CAACM,iBAAtC;AACA,UAAIS,UAAU,GAAGf,SAAS,CAACO,MAA3B;AACA,UAAIS,cAAc,GAAGhB,SAAS,CAACQ,UAA/B;AACA,UAAIS,QAAQ,GAAGD,cAAc,CAACP,IAA9B;AACA,UAAIS,QAAQ,GAAGF,cAAc,CAACN,IAA9B;AACA,UAAIS,OAAO,GAAGH,cAAc,CAACL,GAA7B;AACA,UAAIS,YAAY,GAAG,KAAnB;;AAEA,UAAIjB,IAAI,IAAI,QAAR,IAAoBC,OAAO,IAAIQ,WAAnC,EAAgD;AAC9CQ,QAAAA,YAAY,GAAG,IAAf;AACD;;AAED,UAAIjB,IAAI,IAAI,QAAZ,EAAsB;AACpBiB,QAAAA,YAAY,GAAG,EAAEb,MAAM,IAAIQ,UAAZ,CAAf;AACD;;AAED,UAAIN,IAAI,IAAIQ,QAAR,IAAoBP,IAAI,IAAIQ,QAA5B,IAAwCb,MAAM,IAAIQ,UAAlD,IAAgEF,GAAG,IAAIQ,OAAvE,IAAkFb,iBAAiB,IAAIQ,qBAA3G,EAAkI;AAChIM,QAAAA,YAAY,GAAG,IAAf;AACD;;AAED,aAAOA,YAAP;AACD;AApCA,GARoB,EA6CpB;AACD3B,IAAAA,GAAG,EAAE,aADJ;AAEDC,IAAAA,KAAK,EAAE,SAASI,WAAT,GAAuB;AAC5B,UAAI,CAAC,KAAKuB,SAAV,EAAqB;AACnB;AACA,aAAKC,GAAL,GAAW,CAAX;AACA,aAAKC,SAAL,GAAiB,CAAjB;AACA;AACD;;AACD,UAAIC,MAAM,GAAG,KAAKH,SAAL,CAAeI,aAA5B;;AAEA,UAAIC,qBAAqB,GAAG,KAAKL,SAAL,CAAeM,qBAAf,EAA5B;;AAEA,UAAIL,GAAG,GAAGI,qBAAqB,CAACJ,GAAhC;AACA,UAAIM,MAAM,GAAGF,qBAAqB,CAACE,MAAnC;;AAEA,UAAIC,qBAAqB,GAAGL,MAAM,CAACG,qBAAP,EAA5B;;AAEA,UAAIG,SAAS,GAAGD,qBAAqB,CAACP,GAAtC;;AAEA,UAAIS,qBAAqB,GAAG,KAAKC,KAAL,CAAWL,qBAAX,EAA5B;;AAEA,UAAIM,WAAW,GAAGF,qBAAqB,CAACH,MAAxC;AAGA,WAAKN,GAAL,GAAWA,GAAG,GAAGQ,SAAN,GAAkBN,MAAM,CAACU,SAApC;;AAEA,UAAIN,MAAM,IAAI,CAAd,EAAiB;AACf,aAAKL,SAAL,GAAiB,CAAjB;AACD,OAFD,MAEO;AACL,aAAKA,SAAL,GAAiBK,MAAM,GAAGK,WAA1B;AACD;AACF;AAhCA,GA7CoB,EA8EpB;AACDxC,IAAAA,GAAG,EAAE,cADJ;AAEDC,IAAAA,KAAK,EAAE,SAASyC,YAAT,CAAsBD,SAAtB,EAAiC;AACtC,UAAItC,MAAM,GAAGsC,SAAS,GAAG,KAAKZ,GAA9B;AACA1B,MAAAA,MAAM,GAAGA,MAAM,GAAG,KAAKC,SAAd,GAA0B,KAAKA,SAA/B,GAA2CD,MAApD;AACAA,MAAAA,MAAM,GAAGA,MAAM,GAAG,KAAK2B,SAAd,GAA0B,KAAKA,SAA/B,GAA2C3B,MAApD;AAEA,UAAIA,MAAM,IAAI,KAAKA,MAAnB,EAA2B;;AAE3B,UAAI,CAAC,KAAKX,KAAL,CAAWqB,iBAAhB,EAAmC;AACjC,aAAK0B,KAAL,CAAWI,KAAX,CAAiBd,GAAjB,GAAuB1B,MAAM,GAAG,IAAhC;AACD;;AAED,WAAKA,MAAL,GAAcA,MAAd;AACA,aAAO,IAAP;AACD;AAfA,GA9EoB,EA8FpB;AACDH,IAAAA,GAAG,EAAE,WADJ;AAEDC,IAAAA,KAAK,EAAE,SAAS2C,SAAT,GAAqB;AAC1B,UAAIC,MAAM,GAAG,IAAb;;AAEA,UAAIC,OAAO,GAAG,KAAKtD,KAAnB;AACA,UAAIkB,IAAI,GAAGoC,OAAO,CAACpC,IAAnB;AACA,UAAII,MAAM,GAAGgC,OAAO,CAAChC,MAArB;AACA,UAAIiC,MAAM,GAAGD,OAAO,CAACC,MAArB;AACA,UAAIpC,OAAO,GAAGmC,OAAO,CAACnC,OAAtB;;AAGA,UAAID,IAAI,IAAI,QAAZ,EAAsB;AACpB,YAAIsC,MAAM,GAAG,KAAKxD,KAAL,CAAWwD,MAAxB;AAEA,YAAIC,cAAc,GAAGF,MAAM,IAAI7D,UAAU,CAACgE,GAAX,CAAevC,OAAf,CAA/B;;AAEA,YAAIsC,cAAc,CAACE,MAAnB,EAA2B;AACzBrC,UAAAA,MAAM,GAAGmC,cAAc,CAACG,GAAf,CAAmB,UAAUC,EAAV,EAAc;AACxC,gBAAIC,KAAK,GAAGN,MAAM,CAACO,MAAP,CAAc,UAAUC,CAAV,EAAa;AACrC,qBAAOA,CAAC,CAACH,EAAF,KAASA,EAAhB;AACD,aAFW,EAET,CAFS,CAAZ;;AAGA,gBAAIC,KAAJ,EAAW;AACT,qBAAOA,KAAP;AACD;;AAED,mBAAOD,EAAP;AACD,WATQ,EASNE,MATM,CASC,UAAUF,EAAV,EAAc;AACtB,mBAAO,CAAC,CAAClE,OAAO,CAACkE,EAAD,EAAK,IAAL,EAAW,IAAX,EAAiBR,MAAM,CAACjD,IAAxB,CAAhB;AACD,WAXQ,CAAT;AAYD;;AAED,YAAIkB,MAAM,CAACqC,MAAP,KAAkB,CAAlB,IAAuBF,cAAc,CAACE,MAAf,GAAwB,CAAnD,EAAsD;AACpD,iBAAO,IAAP;AACD;AACF;;AAED,UAAIrC,MAAJ,EAAY;AACVA,QAAAA,MAAM,GAAGA,MAAM,CAAC2C,KAAP,CAAa,CAAb,CAAT;AACD;;AAED,aAAO3C,MAAP;AACD;AA1CA,GA9FoB,EAyIpB;AACDd,IAAAA,GAAG,EAAE,eADJ;AAEDC,IAAAA,KAAK,EAAE,SAASyD,aAAT,CAAuBC,OAAvB,EAAgC;AACrC,UAAI7C,MAAM,GAAG,KAAK8B,SAAL,EAAb;;AAEA,UAAI,CAAC9B,MAAD,IAAW,CAAC,KAAKc,SAArB,EAAgC;AAC9B;AACD;;AAED,WAAKA,SAAL,CAAee,KAAf,CAAqBgB,OAArB,GAA+BA,OAA/B;AACD;AAVA,GAzIoB,EAoJpB;AACD3D,IAAAA,GAAG,EAAE,iBADJ;AAEDC,IAAAA,KAAK,EAAE,SAASJ,eAAT,CAAyB+D,CAAzB,EAA4B;AACjC,WAAKhC,SAAL,GAAiBgC,CAAjB;AACD;AAJA,GApJoB,EAyJpB;AACD5D,IAAAA,GAAG,EAAE,aADJ;AAEDC,IAAAA,KAAK,EAAE,SAASF,WAAT,CAAqB6D,CAArB,EAAwB;AAC7B,WAAKrB,KAAL,GAAaqB,CAAb;AACD;AAJA,GAzJoB,EA8JpB;AACD5D,IAAAA,GAAG,EAAE,QADJ;AAEDC,IAAAA,KAAK,EAAE,SAAS4D,MAAT,GAAkB;AACvB,UAAIC,MAAM,GAAG,IAAb;;AAEA,UAAIC,OAAO,GAAG,KAAKvE,KAAnB;AACA,UAAI6D,EAAE,GAAGU,OAAO,CAACV,EAAjB;AACA,UAAI3C,IAAI,GAAGqD,OAAO,CAACrD,IAAnB;AACA,UAAIG,iBAAiB,GAAGkD,OAAO,CAAClD,iBAAhC;AACA,UAAIE,UAAU,GAAGgD,OAAO,CAAChD,UAAzB;AACA,UAAIiD,IAAI,GAAGD,OAAO,CAACC,IAAnB;AACA,UAAIC,QAAQ,GAAGF,OAAO,CAACE,QAAvB;AACA,UAAIC,aAAa,GAAGH,OAAO,CAACG,aAA5B;AACA,UAAIpD,MAAM,GAAG,KAAK8B,SAAL,EAAb;AACA,UAAIuB,WAAW,GAAG,EAAlB;AACA,UAAIC,eAAe,GAAG,EAAtB;AACA,UAAIC,eAAe,GAAG,EAAtB;;AAEA,UAAI,CAACvD,MAAL,EAAa;AACXuD,QAAAA,eAAe,GAAG;AAChBV,UAAAA,OAAO,EAAE;AADO,SAAlB;AAGD;;AAED,UAAI,CAAC9C,iBAAL,EAAwB;AACtBsD,QAAAA,WAAW,GAAG;AACZhC,UAAAA,MAAM,EAAE;AADI,SAAd;AAIAiC,QAAAA,eAAe,GAAG;AAChBE,UAAAA,QAAQ,EAAE;AADM,SAAlB;AAGD;;AAED,UAAI/B,KAAK,GAAGyB,IAAI,CAACO,UAAL,CAAgBlB,EAAhB,KAAuB3C,IAAnC;AAEA,aAAO1B,KAAK,CAACwF,aAAN,CACL,SADK,EAEL;AACEC,QAAAA,GAAG,EAAE,KAAK5E,eADZ;AAEE6E,QAAAA,SAAS,EAAE,qBAFb;AAGE,sBAAcnC,KAHhB;AAIEI,QAAAA,KAAK,EAAE0B;AAJT,OAFK,EAQLrF,KAAK,CAACwF,aAAN,CACE,KADF,EAEE;AACE7B,QAAAA,KAAK,EAAEwB,WADT;AAEE,qBAAazD,IAFf;AAGEgE,QAAAA,SAAS,EAAE;AAHb,OAFF,EAOE1F,KAAK,CAACwF,aAAN,CACE,MADF,EAEE;AACE7B,QAAAA,KAAK,EAAEyB,eADT;AAEEK,QAAAA,GAAG,EAAE,KAAK1E,WAFZ;AAGE,uBAAe;AAAK;;AAHtB,OAFF,EAOEwC,KAPF,CAPF,CARK,EAyBLvD,KAAK,CAACwF,aAAN,CACE,IADF,EAEE;AAAEE,QAAAA,SAAS,EAAE;AAAb,OAFF,EAGE5D,MAAM,IAAIA,MAAM,CAACsC,GAAP,CAAW,UAAUE,KAAV,EAAiB;AACpC,eAAOtE,KAAK,CAACwF,aAAN,CACL,IADK,EAEL;AACExE,UAAAA,GAAG,EAAEsD,KAAK,CAACqB,WAAN,IAAqBrB,KAAK,CAACqB,WAAN,CAAkBC,IAAlB,CAAuB,GAAvB,CAArB,IAAoDtB;AAD3D,SAFK,EAKLlE,WAAW,CAACV,QAAQ,CAAC;AAAE4E,UAAAA,KAAK,EAAEA,KAAT;AAAgB1D,UAAAA,IAAI,EAAEkE,MAAM,CAAClE;AAA7B,SAAD,EAAsCmB,UAAtC,CAAT,CALN,CAAP;AAOD,OARS,CAHZ,CAzBK,EAsCLD,MAAM,IAAI,CAACA,MAAM,CAACqC,MAAlB,IAA4BnE,KAAK,CAACwF,aAAN,CAAoBnF,QAApB,EAA8B;AACxD2E,QAAAA,IAAI,EAAEA,IADkD;AAExDC,QAAAA,QAAQ,EAAEA,QAF8C;AAGxDC,QAAAA,aAAa,EAAEA,aAHyC;AAIxDtE,QAAAA,IAAI,EAAE,KAAKA,IAJ6C;AAKxDmB,QAAAA,UAAU,EAAEA;AAL4C,OAA9B,CAtCvB,CAAP;AA8CD;AAlFA,GA9JoB,CAAX,CAAZ;;AAmPA,SAAOzB,QAAP;AACD,CAlQc,CAkQbN,KAAK,CAAC6F,SAlQO,CAAf;;AAoQA,eAAevF,QAAf;AAGAA,QAAQ,CAACwF;AAAU;AAAnB,EAA4C;AAC1ChE,EAAAA,MAAM,EAAE7B,SAAS,CAAC8F,KADwB;AAE1ClE,EAAAA,iBAAiB,EAAE5B,SAAS,CAAC+F,IAFa;AAG1CtE,EAAAA,IAAI,EAAEzB,SAAS,CAACgG,MAAV,CAAiBC,UAHmB;AAI1CtE,EAAAA,MAAM,EAAE3B,SAAS,CAAC+F,IAAV,CAAeE,UAJmB;AAK1CvE,EAAAA,OAAO,EAAE1B,SAAS,CAACkG,MAAV,CAAiBD,UALgB;AAM1CnE,EAAAA,UAAU,EAAE9B,SAAS,CAACmG,MAAV,CAAiBF,UANa;AAO1CnC,EAAAA,MAAM,EAAE9D,SAAS,CAACoG,OAAV,CAAkBpG,SAAS,CAACgG,MAA5B,CAPkC;AAQ1ChB,EAAAA,QAAQ,EAAEhF,SAAS,CAACqG,IARsB;AAS1CpB,EAAAA,aAAa,EAAEjF,SAAS,CAACgG,MAAV,CAAiBC;AATU,CAA5C;AAYA5F,QAAQ,CAACiG,YAAT,GAAwB;AACtBzE,EAAAA,MAAM,EAAE,EADc;AAEtBD,EAAAA,iBAAiB,EAAE;AAFG,CAAxB","sourcesContent":["import _extends from '../polyfills/extends';\nimport _Object$getPrototypeOf from '../polyfills/objectGetPrototypeOf';\nimport _classCallCheck from '../polyfills/classCallCheck';\nimport _createClass from '../polyfills/createClass';\nimport _possibleConstructorReturn from '../polyfills/possibleConstructorReturn';\nimport _inherits from '../polyfills/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport frequently from '../utils/frequently';\nimport { getData } from '../utils';\nimport NimbleEmoji from './emoji/nimble-emoji';\nimport NotFound from './not-found';\n\nvar Category = function (_React$Component) {\n  _inherits(Category, _React$Component);\n\n  function Category(props) {\n    _classCallCheck(this, Category);\n\n    var _this = _possibleConstructorReturn(this, (Category.__proto__ || _Object$getPrototypeOf(Category)).call(this, props));\n\n    _this.data = props.data;\n    _this.setContainerRef = _this.setContainerRef.bind(_this);\n    _this.setLabelRef = _this.setLabelRef.bind(_this);\n    return _this;\n  }\n\n  _createClass(Category, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.margin = 0;\n      this.minMargin = 0;\n\n      this.memoizeSize();\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      var _props = this.props;\n      var name = _props.name;\n      var perLine = _props.perLine;\n      var native = _props.native;\n      var hasStickyPosition = _props.hasStickyPosition;\n      var emojis = _props.emojis;\n      var emojiProps = _props.emojiProps;\n      var skin = emojiProps.skin;\n      var size = emojiProps.size;\n      var set = emojiProps.set;\n      var nextPerLine = nextProps.perLine;\n      var nextNative = nextProps.native;\n      var nextHasStickyPosition = nextProps.hasStickyPosition;\n      var nextEmojis = nextProps.emojis;\n      var nextEmojiProps = nextProps.emojiProps;\n      var nextSkin = nextEmojiProps.skin;\n      var nextSize = nextEmojiProps.size;\n      var nextSet = nextEmojiProps.set;\n      var shouldUpdate = false;\n\n      if (name == 'Recent' && perLine != nextPerLine) {\n        shouldUpdate = true;\n      }\n\n      if (name == 'Search') {\n        shouldUpdate = !(emojis == nextEmojis);\n      }\n\n      if (skin != nextSkin || size != nextSize || native != nextNative || set != nextSet || hasStickyPosition != nextHasStickyPosition) {\n        shouldUpdate = true;\n      }\n\n      return shouldUpdate;\n    }\n  }, {\n    key: 'memoizeSize',\n    value: function memoizeSize() {\n      if (!this.container) {\n        // probably this is a test environment, e.g. jest\n        this.top = 0;\n        this.maxMargin = 0;\n        return;\n      }\n      var parent = this.container.parentElement;\n\n      var _container$getBoundin = this.container.getBoundingClientRect();\n\n      var top = _container$getBoundin.top;\n      var height = _container$getBoundin.height;\n\n      var _parent$getBoundingCl = parent.getBoundingClientRect();\n\n      var parentTop = _parent$getBoundingCl.top;\n\n      var _label$getBoundingCli = this.label.getBoundingClientRect();\n\n      var labelHeight = _label$getBoundingCli.height;\n\n\n      this.top = top - parentTop + parent.scrollTop;\n\n      if (height == 0) {\n        this.maxMargin = 0;\n      } else {\n        this.maxMargin = height - labelHeight;\n      }\n    }\n  }, {\n    key: 'handleScroll',\n    value: function handleScroll(scrollTop) {\n      var margin = scrollTop - this.top;\n      margin = margin < this.minMargin ? this.minMargin : margin;\n      margin = margin > this.maxMargin ? this.maxMargin : margin;\n\n      if (margin == this.margin) return;\n\n      if (!this.props.hasStickyPosition) {\n        this.label.style.top = margin + 'px';\n      }\n\n      this.margin = margin;\n      return true;\n    }\n  }, {\n    key: 'getEmojis',\n    value: function getEmojis() {\n      var _this2 = this;\n\n      var _props2 = this.props;\n      var name = _props2.name;\n      var emojis = _props2.emojis;\n      var recent = _props2.recent;\n      var perLine = _props2.perLine;\n\n\n      if (name == 'Recent') {\n        var custom = this.props.custom;\n\n        var frequentlyUsed = recent || frequently.get(perLine);\n\n        if (frequentlyUsed.length) {\n          emojis = frequentlyUsed.map(function (id) {\n            var emoji = custom.filter(function (e) {\n              return e.id === id;\n            })[0];\n            if (emoji) {\n              return emoji;\n            }\n\n            return id;\n          }).filter(function (id) {\n            return !!getData(id, null, null, _this2.data);\n          });\n        }\n\n        if (emojis.length === 0 && frequentlyUsed.length > 0) {\n          return null;\n        }\n      }\n\n      if (emojis) {\n        emojis = emojis.slice(0);\n      }\n\n      return emojis;\n    }\n  }, {\n    key: 'updateDisplay',\n    value: function updateDisplay(display) {\n      var emojis = this.getEmojis();\n\n      if (!emojis || !this.container) {\n        return;\n      }\n\n      this.container.style.display = display;\n    }\n  }, {\n    key: 'setContainerRef',\n    value: function setContainerRef(c) {\n      this.container = c;\n    }\n  }, {\n    key: 'setLabelRef',\n    value: function setLabelRef(c) {\n      this.label = c;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      var _props3 = this.props;\n      var id = _props3.id;\n      var name = _props3.name;\n      var hasStickyPosition = _props3.hasStickyPosition;\n      var emojiProps = _props3.emojiProps;\n      var i18n = _props3.i18n;\n      var notFound = _props3.notFound;\n      var notFoundEmoji = _props3.notFoundEmoji;\n      var emojis = this.getEmojis();\n      var labelStyles = {};\n      var labelSpanStyles = {};\n      var containerStyles = {};\n\n      if (!emojis) {\n        containerStyles = {\n          display: 'none'\n        };\n      }\n\n      if (!hasStickyPosition) {\n        labelStyles = {\n          height: 28\n        };\n\n        labelSpanStyles = {\n          position: 'absolute'\n        };\n      }\n\n      var label = i18n.categories[id] || name;\n\n      return React.createElement(\n        'section',\n        {\n          ref: this.setContainerRef,\n          className: 'emoji-mart-category',\n          'aria-label': label,\n          style: containerStyles\n        },\n        React.createElement(\n          'div',\n          {\n            style: labelStyles,\n            'data-name': name,\n            className: 'emoji-mart-category-label'\n          },\n          React.createElement(\n            'span',\n            {\n              style: labelSpanStyles,\n              ref: this.setLabelRef,\n              'aria-hidden': true /* already labeled by the section aria-label */\n            },\n            label\n          )\n        ),\n        React.createElement(\n          'ul',\n          { className: 'emoji-mart-category-list' },\n          emojis && emojis.map(function (emoji) {\n            return React.createElement(\n              'li',\n              {\n                key: emoji.short_names && emoji.short_names.join('_') || emoji\n              },\n              NimbleEmoji(_extends({ emoji: emoji, data: _this3.data }, emojiProps))\n            );\n          })\n        ),\n        emojis && !emojis.length && React.createElement(NotFound, {\n          i18n: i18n,\n          notFound: notFound,\n          notFoundEmoji: notFoundEmoji,\n          data: this.data,\n          emojiProps: emojiProps\n        })\n      );\n    }\n  }]);\n\n  return Category;\n}(React.Component);\n\nexport default Category;\n\n\nCategory.propTypes /* remove-proptypes */ = {\n  emojis: PropTypes.array,\n  hasStickyPosition: PropTypes.bool,\n  name: PropTypes.string.isRequired,\n  native: PropTypes.bool.isRequired,\n  perLine: PropTypes.number.isRequired,\n  emojiProps: PropTypes.object.isRequired,\n  recent: PropTypes.arrayOf(PropTypes.string),\n  notFound: PropTypes.func,\n  notFoundEmoji: PropTypes.string.isRequired\n};\n\nCategory.defaultProps = {\n  emojis: [],\n  hasStickyPosition: true\n};"]},"metadata":{},"sourceType":"module"}