{"code":"(this[\"webpackJsonpreact-slack-clone\"]=this[\"webpackJsonpreact-slack-clone\"]||[]).push([[0],{289:function(e,t,n){},446:function(e,t,n){\"use strict\";n.r(t);var a=n(16),s=n(17),r=n(19),o=n(18),i=n(4),c=n(0),l=n.n(c),d=n(82),u=n.n(d),h=n(477),p=n(478),f=n(58),j=(n(289),n(29)),m=n(199);n(293),n(295),n(447);m.a.initializeApp({apiKey:\"AIzaSyBPYmZJbVMjXr4xpV837uZ888M8kT7KdxQ\",authDomain:\"ivrobot-19973.firebaseapp.com\",databaseURL:\"https://ivrobot-19973.firebaseio.com\",projectId:\"ivrobot-19973\",storageBucket:\"ivrobot-19973.appspot.com\",messagingSenderId:\"173346576382\",appId:\"1:173346576382:web:155e5dd71d80216cded2af\",measurementId:\"G-4SMTHLF91M\"});var g=m.a,b=\"SET_USER\",v=\"CLEAR_USER\",O=\"SET_CURRENT_CHANNEL\",C=\"SET_PRIVATE_CHANNEL\",y=\"SET_USER_POSTS\",x=\"SET_COLORS\",S=function(e){return{type:O,payload:{currentChannel:e}}},k=function(e){return{type:C,payload:{isPrivateChannel:e}}},R=n(459),w=n(473),U=n(465),N=n(448),P=n(468),L=n(476),I=n(122),A=n(202),M=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={modal:!1,primary:\"\",secondary:\"\",user:e.props.currentUser,usersRef:g.database().ref(\"users\"),userColors:[]},e.removeListener=function(){e.state.usersRef.child(\"\".concat(e.state.user.uid,\"/colors\")).off()},e.addListener=function(t){var n=[];e.state.usersRef.child(\"\".concat(t,\"/colors\")).on(\"child_added\",(function(t){n.unshift(t.val()),e.setState({userColors:n})}))},e.handleChangePrimary=function(t){return e.setState({primary:t.hex})},e.handleChangeSecondary=function(t){return e.setState({secondary:t.hex})},e.handleSaveColors=function(){e.state.primary&&e.state.secondary&&e.saveColors(e.state.primary,e.state.secondary)},e.saveColors=function(t,n){e.state.usersRef.child(\"\".concat(e.state.user.uid,\"/colors\")).push().update({primary:t,secondary:n}).then((function(){console.log(\"Colors added\"),e.closeModal()})).catch((function(e){return console.error(e)}))},e.displayUserColors=function(t){return t.length>0&&t.map((function(t,n){return Object(i.jsxs)(l.a.Fragment,{children:[Object(i.jsx)(R.a,{}),Object(i.jsx)(\"div\",{className:\"color__container\",onClick:function(){return e.props.setColors(t.primary,t.secondary)},children:Object(i.jsx)(\"div\",{className:\"color__square\",style:{background:t.primary},children:Object(i.jsx)(\"div\",{className:\"color__overlay\",style:{background:t.secondary}})})})]},n)}))},e.openModal=function(){return e.setState({modal:!0})},e.closeModal=function(){return e.setState({modal:!1})},e}return Object(s.a)(n,[{key:\"componentDidMount\",value:function(){this.state.user&&this.addListener(this.state.user.uid)}},{key:\"componentWillUnmount\",value:function(){this.removeListener()}},{key:\"render\",value:function(){var e=this.state,t=e.modal,n=e.primary,a=e.secondary,s=e.userColors;return Object(i.jsxs)(w.a,{as:U.a,icon:\"labeled\",inverted:!0,vertical:!0,visible:!0,width:\"very thin\",children:[Object(i.jsx)(R.a,{}),Object(i.jsx)(N.a,{icon:\"add\",size:\"small\",color:\"blue\",onClick:this.openModal}),this.displayUserColors(s),Object(i.jsxs)(P.a,{basic:!0,open:t,onClose:this.closeModal,children:[Object(i.jsx)(P.a.Header,{children:\"Choose App Colors\"}),Object(i.jsxs)(P.a.Content,{children:[Object(i.jsxs)(L.a,{inverted:!0,children:[Object(i.jsx)(I.a,{content:\"Primary Color\"}),Object(i.jsx)(A.a,{color:n,onChange:this.handleChangePrimary})]}),Object(i.jsxs)(L.a,{inverted:!0,children:[Object(i.jsx)(I.a,{content:\"Secondary Color\"}),Object(i.jsx)(A.a,{color:a,onChange:this.handleChangeSecondary})]})]}),Object(i.jsxs)(P.a.Actions,{children:[Object(i.jsxs)(N.a,{color:\"green\",inverted:!0,onClick:this.handleSaveColors,children:[Object(i.jsx)(f.a,{name:\"checkmark\"}),\" Save Colors\"]}),Object(i.jsxs)(N.a,{color:\"red\",inverted:!0,onClick:this.closeModal,children:[Object(i.jsx)(f.a,{name:\"remove\"}),\" Cancel\"]})]})]})]})}}]),n}(l.a.Component),T=(Object(j.b)(null,{setColors:function(e,t){return{type:x,payload:{primaryColor:e,secondaryColor:t}}}})(M),n(260)),E=n.n(T),_=n(464),F=n(271),D=n(460),H=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={user:e.props.currentUser,storeName:\"\",modal:!1,previewImage:\"\",croppedImage:\"\",blob:null,uploadedCroppedImage:\"\",storageRef:g.storage().ref(),userRef:g.auth().currentUser,usersRef:g.database().ref(\"users\"),metadata:{contentType:\"image/jpeg\"}},e.openModal=function(){return e.setState({modal:!0})},e.closeModal=function(){return e.setState({modal:!1})},e.dropdownOptions=function(){return[{key:\"user\",text:Object(i.jsxs)(\"span\",{children:[\"Signed in as \",Object(i.jsx)(\"strong\",{children:e.state.user.displayName})]}),disabled:!0},{key:\"avatar\",text:Object(i.jsx)(\"span\",{onClick:e.openModal,children:\"Change Avatar\"})},{key:\"signout\",text:Object(i.jsx)(\"span\",{onClick:e.handleSignout,children:\"Sign Out\"})}]},e.uploadCroppedImage=function(){var t=e.state,n=t.storageRef,a=t.userRef,s=t.blob,r=t.metadata;n.child(\"avatars/users/\".concat(a.uid)).put(s,r).then((function(t){t.ref.getDownloadURL().then((function(t){e.setState({uploadedCroppedImage:t},(function(){return e.changeAvatar()}))}))}))},e.changeAvatar=function(){e.state.userRef.updateProfile({photoURL:e.state.uploadedCroppedImage}).then((function(){console.log(\"PhotoURL updated\"),e.closeModal()})).catch((function(e){console.error(e)})),e.state.usersRef.child(e.state.user.uid).update({avatar:e.state.uploadedCroppedImage}).then((function(){console.log(\"User avatar updated\")})).catch((function(e){console.error(e)}))},e.handleChange=function(t){var n=t.target.files[0],a=new FileReader;n&&(a.readAsDataURL(n),a.addEventListener(\"load\",(function(){e.setState({previewImage:a.result})})))},e.handleCropImage=function(){e.avatarEditor&&e.avatarEditor.getImageScaledToCanvas().toBlob((function(t){var n=URL.createObjectURL(t);e.setState({croppedImage:n,blob:t})}))},e.handleSignout=function(){g.auth().signOut().then((function(){return console.log(\"signed out!\")}))},e}return Object(s.a)(n,[{key:\"componentDidMount\",value:function(){var e=this;this.state.usersRef.child(this.props.currentUser.uid).once(\"value\").then((function(t){e.setState({storeName:t.val()&&t.val().storeName||\"\",twilioNumber:t.val()&&t.val().twilioNumber||\"\",items:t.val()&&t.val().items||[],promotions:t.val()&&t.val().promotions||[]})}))}},{key:\"render\",value:function(){var e=this,t=this.state,n=t.storeName,a=void 0===n?[]:n,s=t.items,r=void 0===s?[]:s,o=(t.promotions,t.twilioNumber),c=t.user,l=t.modal,d=t.previewImage,u=t.croppedImage,j=this.props.primaryColor;return Object(i.jsx)(h.a,{style:{background:j},children:Object(i.jsxs)(h.a.Column,{children:[Object(i.jsxs)(h.a.Row,{style:{padding:\"1.2em\",margin:0},children:[Object(i.jsxs)(p.a,{inverted:!0,floated:\"left\",as:\"h2\",children:[Object(i.jsx)(f.a,{name:\"headphones\"}),Object(i.jsx)(p.a.Content,{children:\"IVRobot\"})]}),Object(i.jsx)(p.a,{inverted:!0,floated:\"left\",as:\"h3\",children:a}),Object(i.jsxs)(p.a,{inverted:!0,floated:\"left\",as:\"h6\",children:[\"Phone Number: \",o,Object(i.jsx)(\"br\",{})]}),Object(i.jsxs)(p.a,{inverted:!0,floated:\"left\",as:\"h6\",children:[\"Items:\",Object(i.jsx)(\"br\",{}),r.map((function(e,t){return Object(i.jsxs)(\"p\",{children:[e.name,\"(\",e.stock,\")\"]},t)}))]}),Object(i.jsx)(p.a,{style:{padding:\"0.25em\"},as:\"h4\",inverted:!0,children:Object(i.jsx)(_.a,{trigger:Object(i.jsxs)(\"span\",{children:[Object(i.jsx)(F.a,{src:c.photoURL,spaced:\"right\",avatar:!0}),c.displayName]}),options:this.dropdownOptions()})})]}),Object(i.jsxs)(P.a,{basic:!0,open:l,onClose:this.closeModal,children:[Object(i.jsx)(P.a.Header,{children:\"Change Avatar\"}),Object(i.jsxs)(P.a.Content,{children:[Object(i.jsx)(D.a,{onChange:this.handleChange,fluid:!0,type:\"file\",label:\"New Avatar\",name:\"previewImage\"}),Object(i.jsx)(h.a,{centered:!0,stackable:!0,columns:2,children:Object(i.jsxs)(h.a.Row,{centered:!0,children:[Object(i.jsx)(h.a.Column,{className:\"ui center aligned grid\",children:d&&Object(i.jsx)(E.a,{ref:function(t){return e.avatarEditor=t},image:d,width:120,height:120,border:50,scale:1.2})}),Object(i.jsx)(h.a.Column,{children:u&&Object(i.jsx)(F.a,{style:{margin:\"3.5em auto\"},width:100,height:100,src:u})})]})})]}),Object(i.jsxs)(P.a.Actions,{children:[u&&Object(i.jsxs)(N.a,{color:\"green\",inverted:!0,onClick:this.uploadCroppedImage,children:[Object(i.jsx)(f.a,{name:\"save\"}),\" Change Avatar\"]}),Object(i.jsxs)(N.a,{color:\"green\",inverted:!0,onClick:this.handleCropImage,children:[Object(i.jsx)(f.a,{name:\"image\"}),\" Preview\"]}),Object(i.jsxs)(N.a,{color:\"red\",inverted:!0,onClick:this.closeModal,children:[Object(i.jsx)(f.a,{name:\"remove\"}),\" Cancel\"]})]})]})]})})}}]),n}(l.a.Component),z=n(84),V=n(41),W=n(31),B=n(466),q=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={activeChannel:\"\",user:e.props.currentUser,channel:null,channels:[],channelName:\"\",channelDetails:\"\",channelsRef:g.database().ref(\"customers\").child(e.props.currentUser.uid),messagesRef:g.database().ref(\"messages\"),typingRef:g.database().ref(\"typing\"),notifications:[],modal:!1,firstLoad:!0},e.addListeners=function(){var t=[];e.state.channelsRef.on(\"child_added\",(function(n){t.push(Object(W.a)(Object(W.a)({},n.val()),{},{id:n.key})),e.setState({channels:t},(function(){return e.setFirstChannel()})),e.addNotificationListener(n.key)}))},e.addNotificationListener=function(t){e.state.messagesRef.child(t).on(\"value\",(function(n){e.state.channel&&e.handleNotifications(t,e.state.channel.id,e.state.notifications,n)}))},e.handleNotifications=function(t,n,a,s){var r=0,o=a.findIndex((function(e){return e.id===t}));-1!==o?(t!==n&&(r=a[o].total,s.numChildren()-r>0&&(a[o].count=s.numChildren()-r)),a[o].lastKnownTotal=s.numChildren()):a.push({id:t,total:s.numChildren(),lastKnownTotal:s.numChildren(),count:0}),e.setState({notifications:a})},e.removeListeners=function(){e.state.channelsRef.off(),e.state.channels.forEach((function(t){e.state.messagesRef.child(t.id).off()}))},e.setFirstChannel=function(){var t=e.state.channels[0];e.state.firstLoad&&e.state.channels.length>0&&(e.props.setCurrentChannel(t),e.setActiveChannel(t),e.setState({channel:t})),e.setState({firstLoad:!1})},e.addChannel=function(){var t=e.state,n=t.channelsRef,a=t.channelName,s=t.channelDetails,r=t.user,o=n.push().key,i={id:o,name:a,details:s,createdBy:{name:r.displayName,avatar:r.photoURL}};n.child(o).update(i).then((function(){e.setState({channelName:\"\",channelDetails:\"\"}),e.closeModal(),console.log(\"channel added\")})).catch((function(e){console.error(e)}))},e.handleSubmit=function(t){t.preventDefault(),e.isFormValid(e.state)&&e.addChannel()},e.handleChange=function(t){e.setState(Object(V.a)({},t.target.name,t.target.value))},e.changeChannel=function(t){e.setActiveChannel(t),e.state.typingRef.child(e.state.channel.id).child(e.state.user.uid).remove(),e.clearNotifications(),e.props.setCurrentChannel(t),e.props.setPrivateChannel(!1),e.setState({channel:t})},e.clearNotifications=function(){var t=e.state.notifications.findIndex((function(t){return t.id===e.state.channel.id}));if(-1!==t){var n=Object(z.a)(e.state.notifications);n[t].total=e.state.notifications[t].lastKnownTotal,n[t].count=0,e.setState({notifications:n})}},e.setActiveChannel=function(t){e.setState({activeChannel:t.id})},e.getNotificationCount=function(t){var n=0;if(e.state.notifications.forEach((function(e){e.id===t.id&&(n=e.count)})),n>0)return n},e.displayChannels=function(t){return t.length>0&&t.map((function(t){return Object(i.jsxs)(U.a.Item,{onClick:function(){return e.changeChannel(t)},name:t.name,style:{opacity:.7},active:t.id===e.state.activeChannel,children:[e.getNotificationCount(t)&&Object(i.jsx)(I.a,{color:\"red\",children:e.getNotificationCount(t)}),t.name]},t.id)}))},e.isFormValid=function(e){var t=e.channelName,n=e.channelDetails;return t&&n},e.openModal=function(){return e.setState({modal:!0})},e.closeModal=function(){return e.setState({modal:!1})},e}return Object(s.a)(n,[{key:\"componentDidMount\",value:function(){this.addListeners()}},{key:\"componentWillUnmount\",value:function(){this.removeListeners()}},{key:\"render\",value:function(){var e=this.state,t=e.channels,n=e.modal;return Object(i.jsxs)(l.a.Fragment,{children:[Object(i.jsxs)(U.a.Menu,{className:\"menu\",children:[Object(i.jsxs)(U.a.Item,{children:[Object(i.jsxs)(\"span\",{children:[Object(i.jsx)(f.a,{name:\"address book\"}),\" CUSTOMERS\"]}),\" \",\"(\",t.length,\")\"]}),this.displayChannels(t)]}),Object(i.jsxs)(P.a,{basic:!0,open:n,onClose:this.closeModal,children:[Object(i.jsx)(P.a.Header,{children:\"Add a Channel\"}),Object(i.jsx)(P.a.Content,{children:Object(i.jsxs)(B.a,{onSubmit:this.handleSubmit,children:[Object(i.jsx)(B.a.Field,{children:Object(i.jsx)(D.a,{fluid:!0,label:\"Name of Channel\",name:\"channelName\",onChange:this.handleChange})}),Object(i.jsx)(B.a.Field,{children:Object(i.jsx)(D.a,{fluid:!0,label:\"About the Channel\",name:\"channelDetails\",onChange:this.handleChange})})]})}),Object(i.jsxs)(P.a.Actions,{children:[Object(i.jsxs)(N.a,{color:\"green\",inverted:!0,onClick:this.handleSubmit,children:[Object(i.jsx)(f.a,{name:\"checkmark\"}),\" Add\"]}),Object(i.jsxs)(N.a,{color:\"red\",inverted:!0,onClick:this.closeModal,children:[Object(i.jsx)(f.a,{name:\"remove\"}),\" Cancel\"]})]})]})]})}}]),n}(l.a.Component),K=Object(j.b)(null,{setCurrentChannel:S,setPrivateChannel:k})(q),Z=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={activeChannel:\"\",user:e.props.currentUser,users:[],usersRef:g.database().ref(\"users\"),connectedRef:g.database().ref(\".info/connected\"),presenceRef:g.database().ref(\"presence\")},e.removeListeners=function(){e.state.usersRef.off(),e.state.presenceRef.off(),e.state.connectedRef.off()},e.addListeners=function(t){var n=[];e.state.usersRef.on(\"child_added\",(function(a){if(t!==a.key){var s=a.val();s.uid=a.key,s.status=\"offline\",n.push(s),e.setState({users:n})}})),e.state.connectedRef.on(\"value\",(function(n){if(!0===n.val()){var a=e.state.presenceRef.child(t);a.set(!0),a.onDisconnect().remove((function(e){null!==e&&console.error(e)}))}})),e.state.presenceRef.on(\"child_added\",(function(n){t!==n.key&&e.addStatusToUser(n.key)})),e.state.presenceRef.on(\"child_removed\",(function(n){t!==n.key&&e.addStatusToUser(n.key,!1)}))},e.addStatusToUser=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=e.state.users.reduce((function(e,a){return a.uid===t&&(a.status=\"\".concat(n?\"online\":\"offline\")),e.concat(a)}),[]);e.setState({users:a})},e.isUserOnline=function(e){return\"online\"===e.status},e.changeChannel=function(t){var n={id:e.getChannelId(t.uid),name:t.name};e.props.setCurrentChannel(n),e.props.setPrivateChannel(!0),e.setActiveChannel(t.uid)},e.getChannelId=function(t){var n=e.state.user.uid;return t<n?\"\".concat(t,\"/\").concat(n):\"\".concat(n,\"/\").concat(t)},e.setActiveChannel=function(t){e.setState({activeChannel:t})},e}return Object(s.a)(n,[{key:\"componentDidMount\",value:function(){this.state.user&&this.addListeners(this.state.user.uid)}},{key:\"componentWillUnmount\",value:function(){this.removeListeners()}},{key:\"render\",value:function(){var e=this,t=this.state,n=t.users,a=t.activeChannel;return Object(i.jsxs)(U.a.Menu,{className:\"menu\",children:[Object(i.jsxs)(U.a.Item,{children:[Object(i.jsxs)(\"span\",{children:[Object(i.jsx)(f.a,{name:\"mail\"}),\" Customers\"]}),\" \",\"(\",n.length,\")\"]}),n.map((function(t){return Object(i.jsxs)(U.a.Item,{active:t.uid===a,onClick:function(){return e.changeChannel(t)},style:{opacity:.7,fontStyle:\"italic\"},children:[Object(i.jsx)(f.a,{name:\"circle\",color:e.isUserOnline(t)?\"green\":\"red\"}),\"@ \",t.name]},t.uid)}))]})}}]),n}(l.a.Component),G=(Object(j.b)(null,{setCurrentChannel:S,setPrivateChannel:k})(Z),function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={user:e.props.currentUser,usersRef:g.database().ref(\"users\"),activeChannel:\"\",starredChannels:[]},e.removeListener=function(){e.state.usersRef.child(\"\".concat(e.state.user.uid,\"/starred\")).off()},e.addListeners=function(t){e.state.usersRef.child(t).child(\"starred\").on(\"child_added\",(function(t){var n=Object(W.a)({id:t.key},t.val());e.setState({starredChannels:[].concat(Object(z.a)(e.state.starredChannels),[n])})})),e.state.usersRef.child(t).child(\"starred\").on(\"child_removed\",(function(t){var n=Object(W.a)({id:t.key},t.val()),a=e.state.starredChannels.filter((function(e){return e.id!==n.id}));e.setState({starredChannels:a})}))},e.setActiveChannel=function(t){e.setState({activeChannel:t.id})},e.changeChannel=function(t){e.setActiveChannel(t),e.props.setCurrentChannel(t),e.props.setPrivateChannel(!1)},e.displayChannels=function(t){return t.length>0&&t.map((function(t){return Object(i.jsxs)(U.a.Item,{onClick:function(){return e.changeChannel(t)},name:t.name,style:{opacity:.7},active:t.id===e.state.activeChannel,children:[\"# \",t.name]},t.id)}))},e}return Object(s.a)(n,[{key:\"componentDidMount\",value:function(){this.state.user&&this.addListeners(this.state.user.uid)}},{key:\"componentWillUnmount\",value:function(){this.removeListener()}},{key:\"render\",value:function(){var e=this.state.starredChannels;return Object(i.jsxs)(U.a.Menu,{className:\"menu\",children:[Object(i.jsxs)(U.a.Item,{children:[Object(i.jsxs)(\"span\",{children:[Object(i.jsx)(f.a,{name:\"star\"}),\" STARRED\"]}),\" \",\"(\",e.length,\")\"]}),this.displayChannels(e)]})}}]),n}(l.a.Component)),J=(Object(j.b)(null,{setCurrentChannel:S,setPrivateChannel:k})(G),function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:\"render\",value:function(){var e=this.props,t=e.currentUser,n=e.primaryColor;return Object(i.jsxs)(U.a,{size:\"large\",inverted:!0,fixed:\"left\",vertical:!0,style:{background:n,fontSize:\"1.2rem\"},children:[Object(i.jsx)(H,{primaryColor:n,currentUser:t}),Object(i.jsx)(K,{currentUser:t})]})}}]),n}(l.a.Component)),Q=n(467),X=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:\"render\",value:function(){var e=this.props,t=e.channelName;e.numUniqueUsers,e.handleSearchChange,e.searchLoading,e.isPrivateChannel,e.handleStar,e.isChannelStarred;return Object(i.jsx)(L.a,{clearing:!0,children:Object(i.jsx)(p.a,{fluid:\"true\",as:\"h2\",floated:\"left\",style:{marginBottom:0},children:Object(i.jsx)(\"span\",{children:t})})})}}]),n}(l.a.Component),Y=n(261),$=n.n(Y),ee=n(203),te=(n(438),n(201)),ne=n.n(te),ae=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={file:null,authorized:[\"image/jpeg\",\"image/png\"]},e.addFile=function(t){var n=t.target.files[0];n&&e.setState({file:n})},e.sendFile=function(){var t=e.state.file,n=e.props,a=n.uploadFile,s=n.closeModal;null!==t&&(e.isAuthorized(t.name)&&(a(t,{contentType:ne.a.lookup(t.name)}),s(),e.clearFile()))},e.isAuthorized=function(t){return e.state.authorized.includes(ne.a.lookup(t))},e.clearFile=function(){return e.setState({file:null})},e}return Object(s.a)(n,[{key:\"render\",value:function(){var e=this.props,t=e.modal,n=e.closeModal;return Object(i.jsxs)(P.a,{basic:!0,open:t,onClose:n,children:[Object(i.jsx)(P.a.Header,{children:\"Select an Image File\"}),Object(i.jsx)(P.a.Content,{children:Object(i.jsx)(D.a,{onChange:this.addFile,fluid:!0,label:\"File types: jpg, png\",name:\"file\",type:\"file\"})}),Object(i.jsxs)(P.a.Actions,{children:[Object(i.jsxs)(N.a,{onClick:this.sendFile,color:\"green\",inverted:!0,children:[Object(i.jsx)(f.a,{name:\"checkmark\"}),\" Send\"]}),Object(i.jsxs)(N.a,{color:\"red\",inverted:!0,onClick:n,children:[Object(i.jsx)(f.a,{name:\"remove\"}),\" Cancel\"]})]})]})}}]),n}(l.a.Component),se=n(470),re=function(e){var t=e.uploadState,n=e.percentUploaded;return\"uploading\"===t&&Object(i.jsx)(se.a,{className:\"progress__bar\",percent:n,progress:!0,indicating:!0,size:\"medium\",inverted:!0})},oe=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={storageRef:g.storage().ref(),typingRef:g.database().ref(\"typing\"),uploadTask:null,uploadState:\"\",percentUploaded:0,message:\"\",channel:e.props.currentChannel,user:e.props.currentUser,loading:!1,errors:[],modal:!1,emojiPicker:!1},e.openModal=function(){return e.setState({modal:!0})},e.closeModal=function(){return e.setState({modal:!1})},e.handleChange=function(t){e.setState(Object(V.a)({},t.target.name,t.target.value))},e.handleKeyDown=function(t){t.ctrlKey&&13===t.keyCode&&e.sendMessage();var n=e.state,a=n.message,s=n.typingRef,r=n.channel,o=n.user;a?s.child(r.id).child(o.uid).set(o.displayName):s.child(r.id).child(o.uid).remove()},e.handleTogglePicker=function(){e.setState({emojiPicker:!e.state.emojiPicker})},e.handleAddEmoji=function(t){var n=e.state.message,a=e.colonToUnicode(\" \".concat(n,\" \").concat(t.colons,\" \"));e.setState({message:a,emojiPicker:!1}),setTimeout((function(){return e.messageInputRef.focus()}),0)},e.colonToUnicode=function(e){return e.replace(/:[A-Za-z0-9_+-]+:/g,(function(e){e=e.replace(/:/g,\"\");var t=ee.b.emojis[e];if(\"undefined\"!==typeof t){var n=t.native;if(\"undefined\"!==typeof n)return n}return e=\":\"+e+\":\"}))},e.createMessage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n={timestamp:g.database.ServerValue.TIMESTAMP,id:e.state.user.uid,name:e.state.user.displayName,avatar:e.state.user.photoURL,senderName:e.state.user.displayName};return null!==t?n.image=t:n.message=e.state.message,n},e.sendMessage=function(){var t=e.props.getMessagesRef,n=e.state,a=n.message,s=n.channel,r=n.user,o=n.typingRef;a?(e.setState({loading:!0}),t().child(r.uid).child(s.id).push().set(e.createMessage()).then((function(){e.setState({loading:!1,message:\"\",errors:[]}),o.child(s.id).child(r.uid).remove()})).catch((function(t){console.error(t),e.setState({loading:!1,errors:e.state.errors.concat(t)})}))):e.setState({errors:e.state.errors.concat({message:\"Add a message\"})})},e.getPath=function(){return e.props.isPrivateChannel?\"chat/private/\".concat(e.state.channel.id):\"chat/public\"},e.uploadFile=function(t,n){var a=e.state.channel.id,s=e.props.getMessagesRef(),r=\"\".concat(e.getPath(),\"/\").concat($()(),\".jpg\");e.setState({uploadState:\"uploading\",uploadTask:e.state.storageRef.child(r).put(t,n)},(function(){e.state.uploadTask.on(\"state_changed\",(function(t){var n=Math.round(t.bytesTransferred/t.totalBytes*100);e.setState({percentUploaded:n})}),(function(t){console.error(t),e.setState({errors:e.state.errors.concat(t),uploadState:\"error\",uploadTask:null})}),(function(){e.state.uploadTask.snapshot.ref.getDownloadURL().then((function(t){e.sendFileMessage(t,s,a)})).catch((function(t){console.error(t),e.setState({errors:e.state.errors.concat(t),uploadState:\"error\",uploadTask:null})}))}))}))},e.sendFileMessage=function(t,n,a){n.child(a).push().set(e.createMessage(t)).then((function(){e.setState({uploadState:\"done\"})})).catch((function(t){console.error(t),e.setState({errors:e.state.errors.concat(t)})}))},e}return Object(s.a)(n,[{key:\"componentWillUnmount\",value:function(){null!==this.state.uploadTask&&(this.state.uploadTask.cancel(),this.setState({uploadTask:null}))}},{key:\"render\",value:function(){var e=this,t=this.state,n=t.errors,a=t.message,s=t.loading,r=t.modal,o=t.uploadState,c=t.percentUploaded,l=t.emojiPicker;return Object(i.jsxs)(L.a,{className:\"message__form\",children:[l&&Object(i.jsx)(ee.a,{set:\"apple\",onSelect:this.handleAddEmoji,className:\"emojipicker\",title:\"Pick your emoji\",emoji:\"point_up\"}),Object(i.jsx)(D.a,{fluid:!0,name:\"message\",onChange:this.handleChange,onKeyDown:this.handleKeyDown,value:a,ref:function(t){return e.messageInputRef=t},style:{marginBottom:\"0.7em\"},label:Object(i.jsx)(N.a,{icon:l?\"close\":\"add\",content:l?\"Close\":null,onClick:this.handleTogglePicker}),labelPosition:\"left\",className:n.some((function(e){return e.message.includes(\"message\")}))?\"error\":\"\",placeholder:\"Write your message\"}),Object(i.jsx)(N.a.Group,{icon:!0,widths:\"2\",children:Object(i.jsx)(N.a,{onClick:this.sendMessage,disabled:s,color:\"orange\",content:\"Add Reply\",labelPosition:\"left\",icon:\"edit\"})}),Object(i.jsx)(ae,{modal:r,closeModal:this.closeModal,uploadFile:this.uploadFile}),Object(i.jsx)(re,{uploadState:o,percentUploaded:c})]})}}]),n}(l.a.Component),ie=n(264),ce=n.n(ie),le=function(e,t){return\"IVRobot\"===e.id},de=function(e){return e.hasOwnProperty(\"image\")&&!e.hasOwnProperty(\"content\")},ue=function(e){var t,n=e.message;e.user;return Object(i.jsxs)(Q.a,{children:[Object(i.jsx)(Q.a.Avatar,{src:\"http://gravatar.com/avatar/15ef5bd18c36ed4a2b8e582022117d97?d=identicon\"}),Object(i.jsxs)(Q.a.Content,{className:le(n),children:[Object(i.jsx)(Q.a.Author,{as:\"a\",children:n.senderName}),Object(i.jsx)(Q.a.Metadata,{children:(t=n.timestamp,ce()(t).fromNow())}),de(n)?Object(i.jsx)(F.a,{src:n.image,className:\"message__image\"}):Object(i.jsx)(Q.a.Text,{children:n.message})]})]})},he=function(){return Object(i.jsxs)(\"div\",{className:\"typing\",children:[Object(i.jsx)(\"div\",{className:\"typing__dot\"}),Object(i.jsx)(\"div\",{className:\"typing__dot\"}),Object(i.jsx)(\"div\",{className:\"typing__dot\"})]})},pe=function(){return Object(i.jsxs)(\"div\",{className:\"skeleton\",children:[Object(i.jsx)(\"div\",{className:\"skeleton__avatar\"}),Object(i.jsx)(\"div\",{className:\"skeleton__author\"}),Object(i.jsx)(\"div\",{className:\"skeleton__details\"})]})},fe=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={privateChannel:e.props.isPrivateChannel,privateMessagesRef:g.database().ref(\"privateMessages\"),messagesRef:g.database().ref(\"messages\"),messages:[],messagesLoading:!0,channel:e.props.currentChannel,isChannelStarred:!1,user:e.props.currentUser,usersRef:g.database().ref(\"users\"),numUniqueUsers:\"\",searchTerm:\"\",searchLoading:!1,searchResults:[],typingRef:g.database().ref(\"typing\"),typingUsers:[],connectedRef:g.database().ref(\".info/connected\"),listeners:[]},e.removeListeners=function(e){e.forEach((function(e){e.ref.child(e.id).off(e.event)}))},e.addToListeners=function(t,n,a){if(-1===e.state.listeners.findIndex((function(e){return e.id===t&&e.ref===n&&e.event===a}))){var s={id:t,ref:n,event:a};e.setState({listeners:e.state.listeners.concat(s)})}},e.scrollToBottom=function(){e.messagesEnd.scrollIntoView({behavior:\"smooth\"})},e.addListeners=function(t){e.addMessageListener(t),e.addTypingListeners(t)},e.addTypingListeners=function(t){var n=[];e.state.typingRef.child(t).on(\"child_added\",(function(t){t.key!==e.state.user.uid&&(n=n.concat({id:t.key,name:t.val()}),e.setState({typingUsers:n}))})),e.addToListeners(t,e.state.typingRef,\"child_added\"),e.state.typingRef.child(t).on(\"child_removed\",(function(t){-1!==n.findIndex((function(e){return e.id===t.key}))&&(n=n.filter((function(e){return e.id!==t.key})),e.setState({typingUsers:n}))})),e.addToListeners(t,e.state.typingRef,\"child_removed\"),e.state.connectedRef.on(\"value\",(function(n){!0===n.val()&&e.state.typingRef.child(t).child(e.state.user.uid).onDisconnect().remove((function(e){null!==e&&console.error(e)}))}))},e.addMessageListener=function(t){var n=[],a=e.getMessagesRef();g.database().ref(\"messages/\".concat(e.state.user.uid,\"/\").concat(t)).on(\"child_added\",(function(t){n.push(t.val()),e.setState({messages:n,messagesLoading:!1}),e.countUniqueUsers(n),e.countUserPosts(n)})),e.addToListeners(t,a,\"child_added\")},e.addUserStarsListener=function(t,n){e.state.usersRef.child(n).child(\"starred\").once(\"value\").then((function(n){if(null!==n.val()){var a=Object.keys(n.val()).includes(t);e.setState({isChannelStarred:a})}}))},e.getMessagesRef=function(){var t=e.state,n=t.messagesRef,a=t.privateMessagesRef;return t.privateChannel?a:n},e.handleStar=function(){e.setState((function(e){return{isChannelStarred:!e.isChannelStarred}}),(function(){return e.starChannel()}))},e.starChannel=function(){e.state.isChannelStarred?e.state.usersRef.child(\"\".concat(e.state.user.uid,\"/starred\")).update(Object(V.a)({},e.state.channel.id,{name:e.state.channel.name,details:e.state.channel.details,createdBy:{name:e.state.channel.createdBy.name,avatar:e.state.channel.createdBy.avatar}})):e.state.usersRef.child(\"\".concat(e.state.user.uid,\"/starred\")).child(e.state.channel.id).remove((function(e){null!==e&&console.error(e)}))},e.handleSearchChange=function(t){e.setState({searchTerm:t.target.value,searchLoading:!0},(function(){return e.handleSearchMessages()}))},e.handleSearchMessages=function(){var t=Object(z.a)(e.state.messages),n=new RegExp(e.state.searchTerm,\"gi\"),a=t.reduce((function(e,t){return(t.message&&t.message.match(n)||t.senderName.match(n))&&e.push(t),e}),[]);e.setState({searchResults:a}),setTimeout((function(){return e.setState({searchLoading:!1})}),1e3)},e.countUniqueUsers=function(t){var n=t.reduce((function(e,t){return e.includes(t.senderName)||e.push(t.senderName),e}),[]),a=n.length>1||0===n.length,s=\"\".concat(n.length,\" user\").concat(a?\"s\":\"\");e.setState({numUniqueUsers:s})},e.countUserPosts=function(t){var n=t.reduce((function(e,t){return t.senderName in e?e[t.senderName].count+=1:e[t.senderName]={avatar:t.avatar,count:1},e}),{});e.props.setUserPosts(n)},e.displayMessages=function(t){return t.length>0&&t.map((function(t){return Object(i.jsx)(ue,{message:t,user:e.state.user},t.timestamp)}))},e.displayChannelName=function(t){return t?\"\".concat((e.state.privateChannel,\"Customer Name: \")).concat(t.name):\"\"},e.displayTypingUsers=function(e){return e.length>0&&e.map((function(e){return Object(i.jsxs)(\"div\",{style:{display:\"flex\",alignItems:\"center\",marginBottom:\"0.2em\"},children:[Object(i.jsxs)(\"span\",{className:\"user__typing\",children:[e.name,\" is typing\"]}),\" \",Object(i.jsx)(he,{})]},e.id)}))},e.displayMessageSkeleton=function(e){return e?Object(i.jsx)(l.a.Fragment,{children:Object(z.a)(Array(10)).map((function(e,t){return Object(i.jsx)(pe,{},t)}))}):null},e}return Object(s.a)(n,[{key:\"componentDidMount\",value:function(){var e=this.state,t=e.channel,n=e.user,a=e.listeners;t&&n&&(this.removeListeners(a),this.addListeners(t.id),this.addUserStarsListener(t.id,n.uid))}},{key:\"componentWillUnmount\",value:function(){this.removeListeners(this.state.listeners),this.state.connectedRef.off()}},{key:\"componentDidUpdate\",value:function(e,t){this.messagesEnd&&this.scrollToBottom()}},{key:\"render\",value:function(){var e=this,t=this.state,n=t.messagesRef,a=t.messages,s=t.channel,r=t.user,o=t.numUniqueUsers,c=t.searchTerm,d=t.searchResults,u=t.searchLoading,h=t.privateChannel,p=t.isChannelStarred,f=t.typingUsers,j=t.messagesLoading;return Object(i.jsxs)(l.a.Fragment,{children:[Object(i.jsx)(X,{channelName:this.displayChannelName(s),numUniqueUsers:o,handleSearchChange:this.handleSearchChange,searchLoading:u,isPrivateChannel:h,handleStar:this.handleStar,isChannelStarred:p}),Object(i.jsx)(L.a,{children:Object(i.jsxs)(Q.a.Group,{className:\"messages\",children:[this.displayMessageSkeleton(j),c?this.displayMessages(d):this.displayMessages(a),this.displayTypingUsers(f),Object(i.jsx)(\"div\",{ref:function(t){return e.messagesEnd=t}})]})}),Object(i.jsx)(oe,{messagesRef:n,currentChannel:s,currentUser:r,isPrivateChannel:h,getMessagesRef:this.getMessagesRef})]})}}]),n}(l.a.Component),je=Object(j.b)(null,{setUserPosts:function(e){return{type:y,payload:{userPosts:e}}}})(fe),me=n(269),ge=n(469),be=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={channel:e.props.currentChannel,privateChannel:e.props.isPrivateChannel,activeIndex:0},e.setActiveIndex=function(t,n){var a=n.index,s=e.state.activeIndex===a?-1:a;e.setState({activeIndex:s})},e.formatCount=function(e){return\"\".concat(e,e>1||0===e?\" posts\":\" post\")},e.displayTopPosters=function(t){return Object.entries(t).sort((function(e,t){return t[1]-e[1]})).map((function(t,n){var a=Object(me.a)(t,2),s=a[0],r=a[1];return Object(i.jsxs)(ge.a.Item,{children:[Object(i.jsx)(F.a,{avatar:!0,src:r.avatar}),Object(i.jsxs)(ge.a.Content,{children:[Object(i.jsx)(ge.a.Header,{as:\"a\",children:s}),Object(i.jsx)(ge.a.Description,{children:e.formatCount(r.count)})]})]},n)})).slice(0,2)},e}return Object(s.a)(n,[{key:\"render\",value:function(){var e=this.state,t=(e.activeIndex,e.privateChannel);e.channel,this.props.userPosts;return t?null:Object(i.jsx)(\"div\",{})}}]),n}(l.a.Component),ve=Object(j.b)((function(e){return{currentUser:e.user.currentUser,currentChannel:e.channel.currentChannel,isPrivateChannel:e.channel.isPrivateChannel,userPosts:e.channel.userPosts,primaryColor:e.colors.primaryColor,secondaryColor:e.colors.secondaryColor}}))((function(e){var t=e.currentUser,n=e.currentChannel,a=e.isPrivateChannel,s=e.userPosts,r=e.primaryColor,o=e.secondaryColor;return Object(i.jsxs)(h.a,{columns:\"equal\",className:\"app\",style:{background:o},children:[Object(i.jsx)(J,{currentUser:t,primaryColor:r},t&&t.uid),null!==n?Object(i.jsxs)(\"div\",{children:[Object(i.jsx)(h.a.Column,{style:{marginLeft:320},children:Object(i.jsx)(je,{currentChannel:n,currentUser:t,isPrivateChannel:a},n&&n.id)}),Object(i.jsx)(h.a.Column,{width:4,children:Object(i.jsx)(be,{userPosts:s,currentChannel:n,isPrivateChannel:a},n&&n.name)})]}):Object(i.jsx)(h.a,{verticalAlign:\"middle\",className:\"app\",style:{marginLeft:320},children:Object(i.jsxs)(h.a.Column,{style:{maxWidth:500},children:[Object(i.jsxs)(p.a,{icon:!0,as:\"h2\",children:[Object(i.jsx)(f.a,{name:\"headphone\"}),\"IVRobot Store Owner's Console.\"]}),Object(i.jsx)(\"p\",{children:\"Welcome to IVRobot store owner's console! Please select customer to start chat.\"})]})})]})})),Oe=n(471),Ce=n(461),ye=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={email:\"\",password:\"\",errors:[],loading:!1},e.displayErrors=function(e){return e.map((function(e,t){return Object(i.jsx)(\"p\",{children:e.message},t)}))},e.handleChange=function(t){e.setState(Object(V.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.isFormValid(e.state)&&(e.setState({errors:[],loading:!0}),g.auth().signInWithEmailAndPassword(e.state.email,e.state.password).then((function(e){console.log(e)})).catch((function(t){console.error(t),e.setState({errors:e.state.errors.concat(t),loading:!1})})))},e.isFormValid=function(e){var t=e.email,n=e.password;return t&&n},e.handleInputError=function(e,t){return e.some((function(e){return e.message.toLowerCase().includes(t)}))?\"error\":\"\"},e}return Object(s.a)(n,[{key:\"render\",value:function(){var e=this.state,t=e.email,n=e.password,a=e.errors,s=e.loading;return Object(i.jsx)(h.a,{textAlign:\"center\",verticalAlign:\"middle\",className:\"app\",children:Object(i.jsxs)(h.a.Column,{style:{maxWidth:450},children:[Object(i.jsxs)(p.a,{as:\"h1\",icon:!0,color:\"violet\",textAlign:\"center\",children:[Object(i.jsx)(f.a,{name:\"headphones\",color:\"violet\"}),\"Login to IVRobot\"]}),Object(i.jsx)(B.a,{onSubmit:this.handleSubmit,size:\"large\",children:Object(i.jsxs)(L.a,{stacked:!0,children:[Object(i.jsx)(B.a.Input,{fluid:!0,name:\"email\",icon:\"mail\",iconPosition:\"left\",placeholder:\"Email Address\",onChange:this.handleChange,value:t,className:this.handleInputError(a,\"email\"),type:\"email\"}),Object(i.jsx)(B.a.Input,{fluid:!0,name:\"password\",icon:\"lock\",iconPosition:\"left\",placeholder:\"Password\",onChange:this.handleChange,value:n,className:this.handleInputError(a,\"password\"),type:\"password\"}),Object(i.jsx)(N.a,{disabled:s,className:s?\"loading\":\"\",color:\"violet\",fluid:!0,size:\"large\",children:\"Submit\"})]})}),a.length>0&&Object(i.jsxs)(Oe.a,{error:!0,children:[Object(i.jsx)(\"h3\",{children:\"Error\"}),this.displayErrors(a)]}),Object(i.jsxs)(Oe.a,{children:[\"Don't have an account? \",Object(i.jsx)(Ce.a,{to:\"/register\",children:\"Register\"})]})]})})}}]),n}(l.a.Component),xe=n(265),Se=n.n(xe),ke=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={username:\"\",storeName:\"\",openHour:\"\",closeHour:\"\",address1:\"\",address2:\"\",zipcode:\"\",city:\"\",state:\"\",email:\"\",password:\"\",passwordConfirmation:\"\",errors:[],loading:!1,usersRef:g.database().ref(\"users\")},e.isFormValid=function(){var t,n=[];return e.isFormEmpty(e.state)?(t={message:\"Fill in all fields\"},e.setState({errors:n.concat(t)}),!1):!!e.isPasswordValid(e.state)||(t={message:\"Password is invalid\"},e.setState({errors:n.concat(t)}),!1)},e.isFormEmpty=function(e){var t=e.username,n=e.storeName,a=e.email,s=e.password,r=e.passwordConfirmation;return!t.length||!n.length||!a.length||!s.length||!r.length},e.isPasswordValid=function(e){var t=e.password,n=e.passwordConfirmation;return!(t.length<6||n.length<6)&&t===n},e.displayErrors=function(e){return e.map((function(e,t){return Object(i.jsx)(\"p\",{children:e.message},t)}))},e.handleChange=function(t){e.setState(Object(V.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){if(t.preventDefault(),e.isFormValid()){e.setState({errors:[],loading:!0});var n=e.state,a=n.storeName,s=n.openHour,r=n.closeHour,o=n.address1,i=n.address2,c=n.zipcode,l=n.city,d=n.state;g.auth().createUserWithEmailAndPassword(e.state.email,e.state.password).then((function(t){console.log(t),t.user.updateProfile({displayName:e.state.username,photoURL:\"http://gravatar.com/avatar/\".concat(Se()(t.user.email),\"?d=identicon\")}).then((function(){e.saveUser({createdUser:t,storeName:a,openHour:s,closeHour:r,address1:o,address2:i,zipcode:c,city:l,state:d}).then((function(){console.log(\"user saved\")}))})).catch((function(t){console.error(t),e.setState({errors:e.state.errors.concat(t),loading:!1})}))})).catch((function(t){console.error(t),e.setState({errors:e.state.errors.concat(t),loading:!1})}))}},e.saveUser=function(t){var n=t.createdUser,a=t.storeName,s=t.openHour,r=t.closeHour,o=t.address1,i=t.address2,c=t.zipcode,l=t.city,d=t.state;return e.state.usersRef.child(n.user.uid).set({name:n.user.displayName,avatar:n.user.photoURL,storeName:a,openHour:s,closeHour:r,address1:o,address2:i,zipcode:c,city:l,state:d})},e.handleInputError=function(e,t){return e.some((function(e){return e.message.toLowerCase().includes(t)}))?\"error\":\"\"},e}return Object(s.a)(n,[{key:\"render\",value:function(){var e=this.state,t=e.username,n=e.storeName,a=e.openHour,s=e.closeHour,r=e.address1,o=e.address2,c=e.zipcode,l=e.city,d=e.state,u=e.email,j=e.password,m=e.passwordConfirmation,g=e.errors,b=e.loading;return Object(i.jsx)(h.a,{textAlign:\"center\",verticalAlign:\"middle\",className:\"app\",children:Object(i.jsxs)(h.a.Column,{style:{maxWidth:450},children:[Object(i.jsxs)(p.a,{as:\"h1\",icon:!0,color:\"orange\",textAlign:\"center\",children:[Object(i.jsx)(f.a,{name:\"add user\",color:\"orange\"}),\"Register for IVRobot\"]}),Object(i.jsx)(B.a,{onSubmit:this.handleSubmit,size:\"large\",children:Object(i.jsxs)(L.a,{stacked:!0,children:[Object(i.jsx)(B.a.Input,{fluid:!0,name:\"username\",icon:\"user\",iconPosition:\"left\",placeholder:\"Username\",onChange:this.handleChange,value:t,type:\"text\"}),Object(i.jsx)(B.a.Input,{fluid:!0,name:\"storeName\",icon:\"warehouse\",iconPosition:\"left\",placeholder:\"Store Name\",onChange:this.handleChange,value:n,type:\"text\"}),Object(i.jsx)(B.a.Input,{fluid:!0,name:\"email\",icon:\"mail\",iconPosition:\"left\",placeholder:\"Email Address\",onChange:this.handleChange,value:u,className:this.handleInputError(g,\"email\"),type:\"email\"}),Object(i.jsx)(B.a.Input,{fluid:!0,name:\"password\",icon:\"lock\",iconPosition:\"left\",placeholder:\"Password\",onChange:this.handleChange,value:j,className:this.handleInputError(g,\"password\"),type:\"password\"}),Object(i.jsx)(B.a.Input,{fluid:!0,name:\"passwordConfirmation\",icon:\"repeat\",iconPosition:\"left\",placeholder:\"Password Confirmation\",onChange:this.handleChange,value:m,className:this.handleInputError(g,\"password\"),type:\"password\"}),Object(i.jsx)(B.a.Input,{fluid:!0,name:\"openHour\",icon:\"clock outline\",iconPosition:\"left\",placeholder:\"Open Hour\",onChange:this.handleChange,value:a,type:\"text\"}),Object(i.jsx)(B.a.Input,{fluid:!0,name:\"closeHour\",icon:\"clock outline\",iconPosition:\"left\",placeholder:\"Close Hour\",onChange:this.handleChange,value:s,type:\"text\"}),Object(i.jsx)(B.a.Input,{fluid:!0,name:\"address1\",icon:\"address book outline\",iconPosition:\"left\",placeholder:\"Address1\",onChange:this.handleChange,value:r,type:\"text\"}),Object(i.jsx)(B.a.Input,{fluid:!0,name:\"address2\",icon:\"address book outline\",iconPosition:\"left\",placeholder:\"Address2\",onChange:this.handleChange,value:o,type:\"text\"}),Object(i.jsx)(B.a.Input,{fluid:!0,name:\"city\",placeholder:\"City\",onChange:this.handleChange,value:l,type:\"text\"}),Object(i.jsx)(B.a.Input,{fluid:!0,name:\"state\",placeholder:\"State\",onChange:this.handleChange,value:d,type:\"text\"}),Object(i.jsx)(B.a.Input,{fluid:!0,name:\"zipcode\",placeholder:\"Zip Code\",onChange:this.handleChange,value:c,type:\"text\"}),Object(i.jsx)(N.a,{disabled:b,className:b?\"loading\":\"\",color:\"orange\",fluid:!0,size:\"large\",children:\"Submit\"})]})}),g.length>0&&Object(i.jsxs)(Oe.a,{error:!0,children:[Object(i.jsx)(\"h3\",{children:\"Error\"}),this.displayErrors(g)]}),Object(i.jsxs)(Oe.a,{children:[\"Already a user? \",Object(i.jsx)(Ce.a,{to:\"/login\",children:\"Login\"})]})]})})}}]),n}(l.a.Component),Re=n(475),we=n(462),Ue=function(){return Object(i.jsx)(Re.a,{active:!0,children:Object(i.jsx)(we.a,{size:\"huge\",content:\"Preparing Chat...\"})})},Ne=Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Pe(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){\"installed\"===t.state&&(navigator.serviceWorker.controller?console.log(\"New content is available; please refresh.\"):console.log(\"Content is cached for offline use.\"))}}})).catch((function(e){console.error(\"Error during service worker registration:\",e)}))}n(444);var Le=n(479),Ie=n(463),Ae=n(480),Me=n(472),Te=n(81),Ee=n(266),_e={currentUser:null,isLoading:!0},Fe={currentChannel:null,isPrivateChannel:!1,userPosts:null},De={primaryColor:\"#173F5F\",secondaryColor:\"#eee\"},He=Object(Te.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return{currentUser:t.payload.currentUser,isLoading:!1};case v:return Object(W.a)(Object(W.a)({},e),{},{isLoading:!1});default:return e}},channel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(W.a)(Object(W.a)({},e),{},{currentChannel:t.payload.currentChannel});case C:return Object(W.a)(Object(W.a)({},e),{},{isPrivateChannel:t.payload.isPrivateChannel});case y:return Object(W.a)(Object(W.a)({},e),{},{userPosts:t.payload.userPosts});default:return e}},colors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return{primaryColor:t.payload.primaryColor,secondaryColor:t.payload.secondaryColor};default:return e}}}),ze=Object(Te.createStore)(He,Object(Ee.composeWithDevTools)()),Ve=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:\"componentDidMount\",value:function(){var e=this;g.auth().onAuthStateChanged((function(t){t?(e.props.setUser(t),e.props.history.push(\"/\")):(e.props.history.push(\"/login\"),e.props.clearUser())}))}},{key:\"render\",value:function(){return this.props.isLoading?Object(i.jsx)(Ue,{}):Object(i.jsxs)(Le.a,{children:[Object(i.jsx)(Ie.a,{exact:!0,path:\"/\",component:ve}),Object(i.jsx)(Ie.a,{path:\"/login\",component:ye}),Object(i.jsx)(Ie.a,{path:\"/register\",component:ke})]})}}]),n}(l.a.Component),We=Object(Ae.a)(Object(j.b)((function(e){return{isLoading:e.user.isLoading}}),{setUser:function(e){return{type:b,payload:{currentUser:e}}},clearUser:function(){return{type:v}}})(Ve));u.a.render(Object(i.jsx)(j.a,{store:ze,children:Object(i.jsx)(Me.a,{children:Object(i.jsx)(We,{})})}),document.getElementById(\"root\")),function(){if(\"serviceWorker\"in navigator){if(new URL(\"\",window.location).origin!==window.location.origin)return;window.addEventListener(\"load\",(function(){var e=\"\".concat(\"\",\"/service-worker.js\");Ne?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get(\"content-type\").indexOf(\"javascript\")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Pe(e)})).catch((function(){console.log(\"No internet connection found. App is running in offline mode.\")}))}(e),navigator.serviceWorker.ready.then((function(){console.log(\"This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ\")}))):Pe(e)}))}}()}},[[446,1,2]]]);","name":"static/js/main.ebe63efd.chunk.js","map":{"version":3,"sources":["static/js/main.ebe63efd.chunk.js"],"names":["this","push","289","module","exports","__webpack_require__","446","__webpack_exports__","r","classCallCheck","createClass","inherits","createSuper","jsx_runtime","react","react_default","n","react_dom","react_dom_default","Grid","Header","Icon","es","index_esm","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firebase","SET_USER","CLEAR_USER","SET_CURRENT_CHANNEL","SET_PRIVATE_CHANNEL","SET_USER_POSTS","SET_COLORS","actions_setCurrentChannel","channel","type","payload","currentChannel","actions_setPrivateChannel","isPrivateChannel","Divider","Sidebar","Menu","Button","Modal","Segment","Label","react_color_es","ColorPanel_ColorPanel","_React$Component","Object","ColorPanel","_super","_this","_len","arguments","length","args","Array","_key","call","apply","concat","state","modal","primary","secondary","user","props","currentUser","usersRef","database","ref","userColors","removeListener","child","uid","off","addListener","userId","on","snap","unshift","val","setState","handleChangePrimary","color","hex","handleChangeSecondary","handleSaveColors","saveColors","update","then","console","log","closeModal","catch","err","error","displayUserColors","colors","map","i","a","Fragment","children","className","onClick","setColors","style","background","openModal","key","value","_this$state","as","icon","inverted","vertical","visible","width","size","basic","open","onClose","Content","content","onChange","Actions","name","Component","dist","primaryColor","secondaryColor","dist_default","Dropdown","Image","Input","SidePanel_UserPanel","UserPanel","storeName","previewImage","croppedImage","blob","uploadedCroppedImage","storageRef","storage","userRef","auth","metadata","contentType","dropdownOptions","text","displayName","disabled","handleSignout","uploadCroppedImage","put","getDownloadURL","downloadURL","changeAvatar","updateProfile","photoURL","avatar","handleChange","event","file","target","files","reader","FileReader","readAsDataURL","addEventListener","result","handleCropImage","avatarEditor","getImageScaledToCanvas","toBlob","imageUrl","URL","createObjectURL","signOut","_this2","once","snapshot","twilioNumber","items","promotions","_this3","_this$state2","_this$state2$storeNam","_this$state2$items","Column","Row","padding","margin","floated","idx","stock","trigger","src","spaced","options","fluid","label","centered","stackable","columns","node","image","height","border","scale","toConsumableArray","defineProperty","objectSpread2","Form","Channels_Channels","Channels","activeChannel","channels","channelName","channelDetails","channelsRef","messagesRef","typingRef","notifications","firstLoad","addListeners","loadedChannels","id","setFirstChannel","addNotificationListener","channelId","handleNotifications","currentChannelId","lastTotal","index","findIndex","notification","total","numChildren","count","lastKnownTotal","removeListeners","forEach","firstChannel","setCurrentChannel","setActiveChannel","addChannel","newChannel","details","createdBy","handleSubmit","preventDefault","isFormValid","changeChannel","remove","clearNotifications","setPrivateChannel","updatedNotifications","getNotificationCount","displayChannels","Item","opacity","active","_ref","onSubmit","Field","SidePanel_Channels","DirectMessages_DirectMessages","DirectMessages","users","connectedRef","presenceRef","currentUserUid","loadedUsers","set","onDisconnect","addStatusToUser","connected","undefined","updatedUsers","reduce","acc","isUserOnline","status","channelData","getChannelId","currentUserId","fontStyle","Starred_Starred","Starred","starredChannels","starredChannel","channelToRemove","filteredChannels","filter","components_SidePanel_SidePanel","SidePanel","_this$props","fixed","fontSize","Comment","Messages_MessagesHeader","MessagesHeader","numUniqueUsers","handleSearchChange","searchLoading","handleStar","isChannelStarred","clearing","marginBottom","v4","v4_default","dist_es","mime_types","mime_types_default","Messages_FileModal","FileModal","authorized","addFile","sendFile","uploadFile","isAuthorized","lookup","clearFile","filename","includes","_this$props2","Progress","Messages_ProgressBar","uploadState","percentUploaded","percent","progress","indicating","Messages_MessageForm","MessageForm","uploadTask","message","loading","errors","emojiPicker","handleKeyDown","ctrlKey","keyCode","sendMessage","handleTogglePicker","handleAddEmoji","emoji","oldMessage","newMessage","colonToUnicode","colons","setTimeout","messageInputRef","focus","replace","x","emojis","unicode","native","createMessage","fileUrl","timestamp","ServerValue","TIMESTAMP","senderName","getMessagesRef","getPath","pathToUpload","filePath","Math","round","bytesTransferred","totalBytes","downloadUrl","sendFileMessage","cancel","_this$state3","onSelect","title","onKeyDown","labelPosition","some","placeholder","Group","widths","moment","moment_default","isOwnMessage","isImage","hasOwnProperty","Messages_Message","Avatar","Author","Metadata","fromNow","Text","Messages_Typing","Messages_Skeleton","Messages_Messages","Messages","privateChannel","privateMessagesRef","messages","messagesLoading","searchTerm","searchResults","typingUsers","listeners","listener","addToListeners","newListener","scrollToBottom","messagesEnd","scrollIntoView","behavior","addMessageListener","addTypingListeners","loadedMessages","countUniqueUsers","countUserPosts","addUserStarsListener","data","prevStarred","keys","prevState","starChannel","handleSearchMessages","channelMessages","regex","RegExp","match","uniqueUsers","plural","userPosts","setUserPosts","displayMessages","displayChannelName","displayTypingUsers","display","alignItems","displayMessageSkeleton","_","prevProps","components_Messages_Messages","slicedToArray","List","components_MetaPanel_MetaPanel","MetaPanel","activeIndex","setActiveIndex","titleProps","newIndex","formatCount","num","displayTopPosters","posts","entries","sort","b","_ref2","Description","slice","src_components_App","marginLeft","verticalAlign","maxWidth","collections_Message_Message","Link","Auth_Login","Login","email","password","displayErrors","signInWithEmailAndPassword","signedInUser","handleInputError","inputName","toLowerCase","textAlign","stacked","iconPosition","to","md5","md5_default","Auth_Register","Register","username","openHour","closeHour","address1","address2","zipcode","city","passwordConfirmation","isFormEmpty","isPasswordValid","createUserWithEmailAndPassword","createdUser","saveUser","_ref3","Dimmer","Loader","src_Spinner","isLocalhost","Boolean","window","location","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","Switch","Route","withRouter","BrowserRouter","redux","redux_devtools_extension","initialUserState","isLoading","initialChannelState","initialColorsState","reducers","action","store","src_Root","Root","onAuthStateChanged","setUser","history","clearUser","exact","path","component","RootWithAuth","render","document","getElementById","origin","fetch","response","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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"},"input":"(this[\"webpackJsonpreact-slack-clone\"] = this[\"webpackJsonpreact-slack-clone\"] || []).push([[0],{\n\n/***/ 289:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 446:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(17);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js + 1 modules\nvar inherits = __webpack_require__(19);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js + 5 modules\nvar createSuper = __webpack_require__(18);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(82);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/collections/Grid/Grid.js + 2 modules\nvar Grid = __webpack_require__(477);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Header/Header.js + 2 modules\nvar Header = __webpack_require__(478);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Icon/Icon.js + 1 modules\nvar Icon = __webpack_require__(58);\n\n// EXTERNAL MODULE: ./src/components/App.css\nvar components_App = __webpack_require__(289);\n\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 15 modules\nvar es = __webpack_require__(29);\n\n// EXTERNAL MODULE: ./node_modules/firebase/app/dist/index.esm.js\nvar index_esm = __webpack_require__(199);\n\n// EXTERNAL MODULE: ./node_modules/firebase/auth/dist/index.esm.js\nvar dist_index_esm = __webpack_require__(293);\n\n// EXTERNAL MODULE: ./node_modules/firebase/database/dist/index.esm.js\nvar database_dist_index_esm = __webpack_require__(295);\n\n// EXTERNAL MODULE: ./node_modules/firebase/storage/dist/index.esm.js + 1 modules\nvar storage_dist_index_esm = __webpack_require__(447);\n\n// CONCATENATED MODULE: ./src/firebase.js\nvar config={// apiKey: \"AIzaSyDy7le4Y68RTetpOiX2bYO6CvCp7IKBf5Y\",\n// authDomain: \"react-slack-clone-bfb54.firebaseapp.com\",\n// databaseURL: \"https://react-slack-clone-bfb54.firebaseio.com\",\n// projectId: \"react-slack-clone-bfb54\",\n// storageBucket: \"react-slack-clone-bfb54.appspot.com\",\n// messagingSenderId: \"645952099075\"\napiKey:\"AIzaSyBPYmZJbVMjXr4xpV837uZ888M8kT7KdxQ\",authDomain:\"ivrobot-19973.firebaseapp.com\",databaseURL:\"https://ivrobot-19973.firebaseio.com\",projectId:\"ivrobot-19973\",storageBucket:\"ivrobot-19973.appspot.com\",messagingSenderId:\"173346576382\",appId:\"1:173346576382:web:155e5dd71d80216cded2af\",measurementId:\"G-4SMTHLF91M\"};index_esm[\"a\" /* default */].initializeApp(config);/* harmony default export */ var firebase = (index_esm[\"a\" /* default */]);\n// CONCATENATED MODULE: ./src/actions/types.js\n/* User Action Types */var SET_USER=\"SET_USER\";var CLEAR_USER=\"CLEAR_USER\";/* Channel Action Types */var SET_CURRENT_CHANNEL=\"SET_CURRENT_CHANNEL\";var SET_PRIVATE_CHANNEL=\"SET_PRIVATE_CHANNEL\";var SET_USER_POSTS=\"SET_USER_POSTS\";/* Colors Action Types */var SET_COLORS=\"SET_COLORS\";\n// CONCATENATED MODULE: ./src/actions/index.js\n/* User Actions */var actions_setUser=function setUser(user){return{type:SET_USER,payload:{currentUser:user}};};var actions_clearUser=function clearUser(){return{type:CLEAR_USER};};/* Channel Actions */var actions_setCurrentChannel=function setCurrentChannel(channel){return{type:SET_CURRENT_CHANNEL,payload:{currentChannel:channel}};};var actions_setPrivateChannel=function setPrivateChannel(isPrivateChannel){return{type:SET_PRIVATE_CHANNEL,payload:{isPrivateChannel:isPrivateChannel}};};var actions_setUserPosts=function setUserPosts(userPosts){return{type:SET_USER_POSTS,payload:{userPosts:userPosts}};};/* Colors Actions */var actions_setColors=function setColors(primaryColor,secondaryColor){return{type:SET_COLORS,payload:{primaryColor:primaryColor,secondaryColor:secondaryColor}};};\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Divider/Divider.js\nvar Divider = __webpack_require__(459);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/modules/Sidebar/Sidebar.js + 2 modules\nvar Sidebar = __webpack_require__(473);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/collections/Menu/Menu.js + 15 modules\nvar Menu = __webpack_require__(465);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Button/Button.js + 3 modules\nvar Button = __webpack_require__(448);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/modules/Modal/Modal.js + 6 modules\nvar Modal = __webpack_require__(468);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Segment/Segment.js + 2 modules\nvar Segment = __webpack_require__(476);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Label/Label.js + 2 modules\nvar Label = __webpack_require__(122);\n\n// EXTERNAL MODULE: ./node_modules/react-color/es/index.js + 74 modules\nvar react_color_es = __webpack_require__(202);\n\n// CONCATENATED MODULE: ./src/components/ColorPanel/ColorPanel.js\n// prettier-ignore\nvar ColorPanel_ColorPanel=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(ColorPanel,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(ColorPanel);function ColorPanel(){var _this;Object(classCallCheck[\"a\" /* default */])(this,ColorPanel);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={modal:false,primary:\"\",secondary:\"\",user:_this.props.currentUser,usersRef:firebase.database().ref(\"users\"),userColors:[]};_this.removeListener=function(){_this.state.usersRef.child(\"\".concat(_this.state.user.uid,\"/colors\")).off();};_this.addListener=function(userId){var userColors=[];_this.state.usersRef.child(\"\".concat(userId,\"/colors\")).on(\"child_added\",function(snap){userColors.unshift(snap.val());_this.setState({userColors:userColors});});};_this.handleChangePrimary=function(color){return _this.setState({primary:color.hex});};_this.handleChangeSecondary=function(color){return _this.setState({secondary:color.hex});};_this.handleSaveColors=function(){if(_this.state.primary&&_this.state.secondary){_this.saveColors(_this.state.primary,_this.state.secondary);}};_this.saveColors=function(primary,secondary){_this.state.usersRef.child(\"\".concat(_this.state.user.uid,\"/colors\")).push().update({primary:primary,secondary:secondary}).then(function(){console.log(\"Colors added\");_this.closeModal();}).catch(function(err){return console.error(err);});};_this.displayUserColors=function(colors){return colors.length>0&&colors.map(function(color,i){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_default.a.Fragment,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Divider[\"a\" /* default */],{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"color__container\",onClick:function onClick(){return _this.props.setColors(color.primary,color.secondary);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"color__square\",style:{background:color.primary},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"color__overlay\",style:{background:color.secondary}})})})]},i);});};_this.openModal=function(){return _this.setState({modal:true});};_this.closeModal=function(){return _this.setState({modal:false});};return _this;}Object(createClass[\"a\" /* default */])(ColorPanel,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.state.user){this.addListener(this.state.user.uid);}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.removeListener();}},{key:\"render\",value:function render(){var _this$state=this.state,modal=_this$state.modal,primary=_this$state.primary,secondary=_this$state.secondary,userColors=_this$state.userColors;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Sidebar[\"a\" /* default */],{as:Menu[\"a\" /* default */],icon:\"labeled\",inverted:true,vertical:true,visible:true,width:\"very thin\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Divider[\"a\" /* default */],{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{icon:\"add\",size:\"small\",color:\"blue\",onClick:this.openModal}),this.displayUserColors(userColors),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Modal[\"a\" /* default */],{basic:true,open:modal,onClose:this.closeModal,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Header,{children:\"Choose App Colors\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Modal[\"a\" /* default */].Content,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Segment[\"a\" /* default */],{inverted:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Label[\"a\" /* default */],{content:\"Primary Color\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_color_es[\"a\" /* SliderPicker */],{color:primary,onChange:this.handleChangePrimary})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Segment[\"a\" /* default */],{inverted:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Label[\"a\" /* default */],{content:\"Secondary Color\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_color_es[\"a\" /* SliderPicker */],{color:secondary,onChange:this.handleChangeSecondary})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Modal[\"a\" /* default */].Actions,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button[\"a\" /* default */],{color:\"green\",inverted:true,onClick:this.handleSaveColors,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"checkmark\"}),\" Save Colors\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button[\"a\" /* default */],{color:\"red\",inverted:true,onClick:this.closeModal,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"remove\"}),\" Cancel\"]})]})]})]});}}]);return ColorPanel;}(react_default.a.Component);/* harmony default export */ var components_ColorPanel_ColorPanel = (Object(es[\"b\" /* connect */])(null,{setColors:actions_setColors})(ColorPanel_ColorPanel));\n// EXTERNAL MODULE: ./node_modules/react-avatar-editor/dist/index.js\nvar dist = __webpack_require__(260);\nvar dist_default = /*#__PURE__*/__webpack_require__.n(dist);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/modules/Dropdown/Dropdown.js + 22 modules\nvar Dropdown = __webpack_require__(464);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Image/Image.js + 1 modules\nvar Image = __webpack_require__(271);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Input/Input.js\nvar Input = __webpack_require__(460);\n\n// CONCATENATED MODULE: ./src/components/SidePanel/UserPanel.js\n// prettier-ignore\nvar UserPanel_UserPanel=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(UserPanel,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(UserPanel);function UserPanel(){var _this;Object(classCallCheck[\"a\" /* default */])(this,UserPanel);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={user:_this.props.currentUser,storeName:\"\",modal:false,previewImage:\"\",croppedImage:\"\",blob:null,uploadedCroppedImage:\"\",storageRef:firebase.storage().ref(),userRef:firebase.auth().currentUser,usersRef:firebase.database().ref(\"users\"),metadata:{contentType:\"image/jpeg\"}};_this.openModal=function(){return _this.setState({modal:true});};_this.closeModal=function(){return _this.setState({modal:false});};_this.dropdownOptions=function(){return[{key:\"user\",text:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[\"Signed in as \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"strong\",{children:_this.state.user.displayName})]}),disabled:true},{key:\"avatar\",text:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{onClick:_this.openModal,children:\"Change Avatar\"})},{key:\"signout\",text:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{onClick:_this.handleSignout,children:\"Sign Out\"})}];};_this.uploadCroppedImage=function(){var _this$state=_this.state,storageRef=_this$state.storageRef,userRef=_this$state.userRef,blob=_this$state.blob,metadata=_this$state.metadata;storageRef.child(\"avatars/users/\".concat(userRef.uid)).put(blob,metadata).then(function(snap){snap.ref.getDownloadURL().then(function(downloadURL){_this.setState({uploadedCroppedImage:downloadURL},function(){return _this.changeAvatar();});});});};_this.changeAvatar=function(){_this.state.userRef.updateProfile({photoURL:_this.state.uploadedCroppedImage}).then(function(){console.log(\"PhotoURL updated\");_this.closeModal();}).catch(function(err){console.error(err);});_this.state.usersRef.child(_this.state.user.uid).update({avatar:_this.state.uploadedCroppedImage}).then(function(){console.log(\"User avatar updated\");}).catch(function(err){console.error(err);});};_this.handleChange=function(event){var file=event.target.files[0];var reader=new FileReader();if(file){reader.readAsDataURL(file);reader.addEventListener(\"load\",function(){_this.setState({previewImage:reader.result});});}};_this.handleCropImage=function(){if(_this.avatarEditor){_this.avatarEditor.getImageScaledToCanvas().toBlob(function(blob){var imageUrl=URL.createObjectURL(blob);_this.setState({croppedImage:imageUrl,blob:blob});});}};_this.handleSignout=function(){firebase.auth().signOut().then(function(){return console.log(\"signed out!\");});};return _this;}Object(createClass[\"a\" /* default */])(UserPanel,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.state.usersRef.child(this.props.currentUser.uid).once('value').then(function(snapshot){_this2.setState({storeName:snapshot.val()&&snapshot.val().storeName||'',twilioNumber:snapshot.val()&&snapshot.val().twilioNumber||'',items:snapshot.val()&&snapshot.val().items||[],promotions:snapshot.val()&&snapshot.val().promotions||[]});});}},{key:\"render\",value:function render(){var _this3=this;var _this$state2=this.state,_this$state2$storeNam=_this$state2.storeName,storeName=_this$state2$storeNam===void 0?[]:_this$state2$storeNam,_this$state2$items=_this$state2.items,items=_this$state2$items===void 0?[]:_this$state2$items,promotions=_this$state2.promotions,twilioNumber=_this$state2.twilioNumber,user=_this$state2.user,modal=_this$state2.modal,previewImage=_this$state2.previewImage,croppedImage=_this$state2.croppedImage;var primaryColor=this.props.primaryColor;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{style:{background:primaryColor},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */].Column,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */].Row,{style:{padding:\"1.2em\",margin:0},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Header[\"a\" /* default */],{inverted:true,floated:\"left\",as:\"h2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"headphones\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Header[\"a\" /* default */].Content,{children:\"IVRobot\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Header[\"a\" /* default */],{inverted:true,floated:\"left\",as:\"h3\",children:storeName}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Header[\"a\" /* default */],{inverted:true,floated:\"left\",as:\"h6\",children:[\"Phone Number: \",twilioNumber,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Header[\"a\" /* default */],{inverted:true,floated:\"left\",as:\"h6\",children:[\"Items:\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),items.map(function(i,idx){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[i.name,\"(\",i.stock,\")\"]},idx);})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Header[\"a\" /* default */],{style:{padding:\"0.25em\"},as:\"h4\",inverted:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Dropdown[\"a\" /* default */],{trigger:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Image[\"a\" /* default */],{src:user.photoURL,spaced:\"right\",avatar:true}),user.displayName]}),options:this.dropdownOptions()})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Modal[\"a\" /* default */],{basic:true,open:modal,onClose:this.closeModal,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Header,{children:\"Change Avatar\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Modal[\"a\" /* default */].Content,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Input[\"a\" /* default */],{onChange:this.handleChange,fluid:true,type:\"file\",label:\"New Avatar\",name:\"previewImage\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{centered:true,stackable:true,columns:2,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */].Row,{centered:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */].Column,{className:\"ui center aligned grid\",children:previewImage&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist_default.a,{ref:function ref(node){return _this3.avatarEditor=node;},image:previewImage,width:120,height:120,border:50,scale:1.2})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */].Column,{children:croppedImage&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Image[\"a\" /* default */],{style:{margin:\"3.5em auto\"},width:100,height:100,src:croppedImage})})]})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Modal[\"a\" /* default */].Actions,{children:[croppedImage&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button[\"a\" /* default */],{color:\"green\",inverted:true,onClick:this.uploadCroppedImage,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"save\"}),\" Change Avatar\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button[\"a\" /* default */],{color:\"green\",inverted:true,onClick:this.handleCropImage,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"image\"}),\" Preview\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button[\"a\" /* default */],{color:\"red\",inverted:true,onClick:this.closeModal,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"remove\"}),\" Cancel\"]})]})]})]})});}}]);return UserPanel;}(react_default.a.Component);/* harmony default export */ var SidePanel_UserPanel = (UserPanel_UserPanel);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(84);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(41);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(31);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/collections/Form/Form.js + 14 modules\nvar Form = __webpack_require__(466);\n\n// CONCATENATED MODULE: ./src/components/SidePanel/Channels.js\n// prettier-ignore\nvar Channels_Channels=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(Channels,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(Channels);function Channels(){var _this;Object(classCallCheck[\"a\" /* default */])(this,Channels);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={activeChannel:\"\",user:_this.props.currentUser,channel:null,channels:[],channelName:\"\",channelDetails:\"\",channelsRef:firebase.database().ref(\"customers\").child(_this.props.currentUser.uid),messagesRef:firebase.database().ref(\"messages\"),typingRef:firebase.database().ref(\"typing\"),notifications:[],modal:false,firstLoad:true};_this.addListeners=function(){var loadedChannels=[];_this.state.channelsRef.on(\"child_added\",function(snap){loadedChannels.push(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},snap.val()),{},{id:snap.key}));_this.setState({channels:loadedChannels},function(){return _this.setFirstChannel();});_this.addNotificationListener(snap.key);});};_this.addNotificationListener=function(channelId){_this.state.messagesRef.child(channelId).on(\"value\",function(snap){if(_this.state.channel){_this.handleNotifications(channelId,_this.state.channel.id,_this.state.notifications,snap);}});};_this.handleNotifications=function(channelId,currentChannelId,notifications,snap){var lastTotal=0;var index=notifications.findIndex(function(notification){return notification.id===channelId;});if(index!==-1){if(channelId!==currentChannelId){lastTotal=notifications[index].total;if(snap.numChildren()-lastTotal>0){notifications[index].count=snap.numChildren()-lastTotal;}}notifications[index].lastKnownTotal=snap.numChildren();}else{notifications.push({id:channelId,total:snap.numChildren(),lastKnownTotal:snap.numChildren(),count:0});}_this.setState({notifications:notifications});};_this.removeListeners=function(){_this.state.channelsRef.off();_this.state.channels.forEach(function(channel){_this.state.messagesRef.child(channel.id).off();});};_this.setFirstChannel=function(){var firstChannel=_this.state.channels[0];if(_this.state.firstLoad&&_this.state.channels.length>0){_this.props.setCurrentChannel(firstChannel);_this.setActiveChannel(firstChannel);_this.setState({channel:firstChannel});}_this.setState({firstLoad:false});};_this.addChannel=function(){var _this$state=_this.state,channelsRef=_this$state.channelsRef,channelName=_this$state.channelName,channelDetails=_this$state.channelDetails,user=_this$state.user;var key=channelsRef.push().key;var newChannel={id:key,name:channelName,details:channelDetails,createdBy:{name:user.displayName,avatar:user.photoURL}};channelsRef.child(key).update(newChannel).then(function(){_this.setState({channelName:\"\",channelDetails:\"\"});_this.closeModal();console.log(\"channel added\");}).catch(function(err){console.error(err);});};_this.handleSubmit=function(event){event.preventDefault();if(_this.isFormValid(_this.state)){_this.addChannel();}};_this.handleChange=function(event){_this.setState(Object(defineProperty[\"a\" /* default */])({},event.target.name,event.target.value));};_this.changeChannel=function(channel){_this.setActiveChannel(channel);_this.state.typingRef.child(_this.state.channel.id).child(_this.state.user.uid).remove();_this.clearNotifications();_this.props.setCurrentChannel(channel);_this.props.setPrivateChannel(false);_this.setState({channel:channel});};_this.clearNotifications=function(){var index=_this.state.notifications.findIndex(function(notification){return notification.id===_this.state.channel.id;});if(index!==-1){var updatedNotifications=Object(toConsumableArray[\"a\" /* default */])(_this.state.notifications);updatedNotifications[index].total=_this.state.notifications[index].lastKnownTotal;updatedNotifications[index].count=0;_this.setState({notifications:updatedNotifications});}};_this.setActiveChannel=function(channel){_this.setState({activeChannel:channel.id});};_this.getNotificationCount=function(channel){var count=0;_this.state.notifications.forEach(function(notification){if(notification.id===channel.id){count=notification.count;}});if(count>0)return count;};_this.displayChannels=function(channels){return channels.length>0&&channels.map(function(channel){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Menu[\"a\" /* default */].Item,{onClick:function onClick(){return _this.changeChannel(channel);},name:channel.name,style:{opacity:0.7},active:channel.id===_this.state.activeChannel,children:[_this.getNotificationCount(channel)&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Label[\"a\" /* default */],{color:\"red\",children:_this.getNotificationCount(channel)}),channel.name]},channel.id);});};_this.isFormValid=function(_ref){var channelName=_ref.channelName,channelDetails=_ref.channelDetails;return channelName&&channelDetails;};_this.openModal=function(){return _this.setState({modal:true});};_this.closeModal=function(){return _this.setState({modal:false});};return _this;}Object(createClass[\"a\" /* default */])(Channels,[{key:\"componentDidMount\",value:function componentDidMount(){this.addListeners();}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.removeListeners();}},{key:\"render\",value:function render(){var _this$state2=this.state,channels=_this$state2.channels,modal=_this$state2.modal;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_default.a.Fragment,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Menu[\"a\" /* default */].Menu,{className:\"menu\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Menu[\"a\" /* default */].Item,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"address book\"}),\" CUSTOMERS\"]}),\" \",\"(\",channels.length,\")\"]}),this.displayChannels(channels)]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Modal[\"a\" /* default */],{basic:true,open:modal,onClose:this.closeModal,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Header,{children:\"Add a Channel\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Content,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{onSubmit:this.handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Field,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Input[\"a\" /* default */],{fluid:true,label:\"Name of Channel\",name:\"channelName\",onChange:this.handleChange})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Field,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Input[\"a\" /* default */],{fluid:true,label:\"About the Channel\",name:\"channelDetails\",onChange:this.handleChange})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Modal[\"a\" /* default */].Actions,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button[\"a\" /* default */],{color:\"green\",inverted:true,onClick:this.handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"checkmark\"}),\" Add\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button[\"a\" /* default */],{color:\"red\",inverted:true,onClick:this.closeModal,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"remove\"}),\" Cancel\"]})]})]})]});}}]);return Channels;}(react_default.a.Component);/* harmony default export */ var SidePanel_Channels = (Object(es[\"b\" /* connect */])(null,{setCurrentChannel:actions_setCurrentChannel,setPrivateChannel:actions_setPrivateChannel})(Channels_Channels));\n// CONCATENATED MODULE: ./src/components/SidePanel/DirectMessages.js\nvar DirectMessages_DirectMessages=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(DirectMessages,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(DirectMessages);function DirectMessages(){var _this;Object(classCallCheck[\"a\" /* default */])(this,DirectMessages);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={activeChannel:\"\",user:_this.props.currentUser,users:[],usersRef:firebase.database().ref(\"users\"),connectedRef:firebase.database().ref(\".info/connected\"),presenceRef:firebase.database().ref(\"presence\")};_this.removeListeners=function(){_this.state.usersRef.off();_this.state.presenceRef.off();_this.state.connectedRef.off();};_this.addListeners=function(currentUserUid){var loadedUsers=[];_this.state.usersRef.on(\"child_added\",function(snap){if(currentUserUid!==snap.key){var user=snap.val();user[\"uid\"]=snap.key;user[\"status\"]=\"offline\";loadedUsers.push(user);_this.setState({users:loadedUsers});}});_this.state.connectedRef.on(\"value\",function(snap){if(snap.val()===true){var ref=_this.state.presenceRef.child(currentUserUid);ref.set(true);ref.onDisconnect().remove(function(err){if(err!==null){console.error(err);}});}});_this.state.presenceRef.on(\"child_added\",function(snap){if(currentUserUid!==snap.key){_this.addStatusToUser(snap.key);}});_this.state.presenceRef.on(\"child_removed\",function(snap){if(currentUserUid!==snap.key){_this.addStatusToUser(snap.key,false);}});};_this.addStatusToUser=function(userId){var connected=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var updatedUsers=_this.state.users.reduce(function(acc,user){if(user.uid===userId){user[\"status\"]=\"\".concat(connected?\"online\":\"offline\");}return acc.concat(user);},[]);_this.setState({users:updatedUsers});};_this.isUserOnline=function(user){return user.status===\"online\";};_this.changeChannel=function(user){var channelId=_this.getChannelId(user.uid);var channelData={id:channelId,name:user.name};_this.props.setCurrentChannel(channelData);_this.props.setPrivateChannel(true);_this.setActiveChannel(user.uid);};_this.getChannelId=function(userId){var currentUserId=_this.state.user.uid;return userId<currentUserId?\"\".concat(userId,\"/\").concat(currentUserId):\"\".concat(currentUserId,\"/\").concat(userId);};_this.setActiveChannel=function(userId){_this.setState({activeChannel:userId});};return _this;}Object(createClass[\"a\" /* default */])(DirectMessages,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.state.user){this.addListeners(this.state.user.uid);}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.removeListeners();}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,users=_this$state.users,activeChannel=_this$state.activeChannel;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Menu[\"a\" /* default */].Menu,{className:\"menu\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Menu[\"a\" /* default */].Item,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"mail\"}),\" Customers\"]}),\" \",\"(\",users.length,\")\"]}),users.map(function(user){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Menu[\"a\" /* default */].Item,{active:user.uid===activeChannel,onClick:function onClick(){return _this2.changeChannel(user);},style:{opacity:0.7,fontStyle:\"italic\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"circle\",color:_this2.isUserOnline(user)?\"green\":\"red\"}),\"@ \",user.name]},user.uid);})]});}}]);return DirectMessages;}(react_default.a.Component);/* harmony default export */ var SidePanel_DirectMessages = (Object(es[\"b\" /* connect */])(null,{setCurrentChannel:actions_setCurrentChannel,setPrivateChannel:actions_setPrivateChannel})(DirectMessages_DirectMessages));\n// CONCATENATED MODULE: ./src/components/SidePanel/Starred.js\nvar Starred_Starred=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(Starred,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(Starred);function Starred(){var _this;Object(classCallCheck[\"a\" /* default */])(this,Starred);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={user:_this.props.currentUser,usersRef:firebase.database().ref(\"users\"),activeChannel:\"\",starredChannels:[]};_this.removeListener=function(){_this.state.usersRef.child(\"\".concat(_this.state.user.uid,\"/starred\")).off();};_this.addListeners=function(userId){_this.state.usersRef.child(userId).child(\"starred\").on(\"child_added\",function(snap){var starredChannel=Object(objectSpread2[\"a\" /* default */])({id:snap.key},snap.val());_this.setState({starredChannels:[].concat(Object(toConsumableArray[\"a\" /* default */])(_this.state.starredChannels),[starredChannel])});});_this.state.usersRef.child(userId).child(\"starred\").on(\"child_removed\",function(snap){var channelToRemove=Object(objectSpread2[\"a\" /* default */])({id:snap.key},snap.val());var filteredChannels=_this.state.starredChannels.filter(function(channel){return channel.id!==channelToRemove.id;});_this.setState({starredChannels:filteredChannels});});};_this.setActiveChannel=function(channel){_this.setState({activeChannel:channel.id});};_this.changeChannel=function(channel){_this.setActiveChannel(channel);_this.props.setCurrentChannel(channel);_this.props.setPrivateChannel(false);};_this.displayChannels=function(starredChannels){return starredChannels.length>0&&starredChannels.map(function(channel){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Menu[\"a\" /* default */].Item,{onClick:function onClick(){return _this.changeChannel(channel);},name:channel.name,style:{opacity:0.7},active:channel.id===_this.state.activeChannel,children:[\"# \",channel.name]},channel.id);});};return _this;}Object(createClass[\"a\" /* default */])(Starred,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.state.user){this.addListeners(this.state.user.uid);}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.removeListener();}},{key:\"render\",value:function render(){var starredChannels=this.state.starredChannels;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Menu[\"a\" /* default */].Menu,{className:\"menu\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Menu[\"a\" /* default */].Item,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"star\"}),\" STARRED\"]}),\" \",\"(\",starredChannels.length,\")\"]}),this.displayChannels(starredChannels)]});}}]);return Starred;}(react_default.a.Component);/* harmony default export */ var SidePanel_Starred = (Object(es[\"b\" /* connect */])(null,{setCurrentChannel:actions_setCurrentChannel,setPrivateChannel:actions_setPrivateChannel})(Starred_Starred));\n// CONCATENATED MODULE: ./src/components/SidePanel/SidePanel.js\nvar SidePanel_SidePanel=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(SidePanel,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(SidePanel);function SidePanel(){Object(classCallCheck[\"a\" /* default */])(this,SidePanel);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(SidePanel,[{key:\"render\",value:function render(){var _this$props=this.props,currentUser=_this$props.currentUser,primaryColor=_this$props.primaryColor;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Menu[\"a\" /* default */],{size:\"large\",inverted:true,fixed:\"left\",vertical:true,style:{background:primaryColor,fontSize:\"1.2rem\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SidePanel_UserPanel,{primaryColor:primaryColor,currentUser:currentUser}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SidePanel_Channels,{currentUser:currentUser})]});}}]);return SidePanel;}(react_default.a.Component);/* harmony default export */ var components_SidePanel_SidePanel = (SidePanel_SidePanel);\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/views/Comment/Comment.js + 8 modules\nvar Comment = __webpack_require__(467);\n\n// CONCATENATED MODULE: ./src/components/Messages/MessagesHeader.js\nvar MessagesHeader_MessagesHeader=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(MessagesHeader,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(MessagesHeader);function MessagesHeader(){Object(classCallCheck[\"a\" /* default */])(this,MessagesHeader);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(MessagesHeader,[{key:\"render\",value:function render(){var _this$props=this.props,channelName=_this$props.channelName,numUniqueUsers=_this$props.numUniqueUsers,handleSearchChange=_this$props.handleSearchChange,searchLoading=_this$props.searchLoading,isPrivateChannel=_this$props.isPrivateChannel,handleStar=_this$props.handleStar,isChannelStarred=_this$props.isChannelStarred;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Segment[\"a\" /* default */],{clearing:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Header[\"a\" /* default */],{fluid:\"true\",as:\"h2\",floated:\"left\",style:{marginBottom:0},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:channelName})})});}}]);return MessagesHeader;}(react_default.a.Component);/* harmony default export */ var Messages_MessagesHeader = (MessagesHeader_MessagesHeader);\n// EXTERNAL MODULE: ./node_modules/uuid/v4.js\nvar v4 = __webpack_require__(261);\nvar v4_default = /*#__PURE__*/__webpack_require__.n(v4);\n\n// EXTERNAL MODULE: ./node_modules/emoji-mart/dist-es/index.js + 29 modules\nvar dist_es = __webpack_require__(203);\n\n// EXTERNAL MODULE: ./node_modules/emoji-mart/css/emoji-mart.css\nvar emoji_mart = __webpack_require__(438);\n\n// EXTERNAL MODULE: ./node_modules/mime-types/index.js\nvar mime_types = __webpack_require__(201);\nvar mime_types_default = /*#__PURE__*/__webpack_require__.n(mime_types);\n\n// CONCATENATED MODULE: ./src/components/Messages/FileModal.js\nvar FileModal_FileModal=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(FileModal,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(FileModal);function FileModal(){var _this;Object(classCallCheck[\"a\" /* default */])(this,FileModal);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={file:null,authorized:[\"image/jpeg\",\"image/png\"]};_this.addFile=function(event){var file=event.target.files[0];if(file){_this.setState({file:file});}};_this.sendFile=function(){var file=_this.state.file;var _this$props=_this.props,uploadFile=_this$props.uploadFile,closeModal=_this$props.closeModal;if(file!==null){if(_this.isAuthorized(file.name)){var metadata={contentType:mime_types_default.a.lookup(file.name)};uploadFile(file,metadata);closeModal();_this.clearFile();}}};_this.isAuthorized=function(filename){return _this.state.authorized.includes(mime_types_default.a.lookup(filename));};_this.clearFile=function(){return _this.setState({file:null});};return _this;}Object(createClass[\"a\" /* default */])(FileModal,[{key:\"render\",value:function render(){var _this$props2=this.props,modal=_this$props2.modal,closeModal=_this$props2.closeModal;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Modal[\"a\" /* default */],{basic:true,open:modal,onClose:closeModal,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Header,{children:\"Select an Image File\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Content,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Input[\"a\" /* default */],{onChange:this.addFile,fluid:true,label:\"File types: jpg, png\",name:\"file\",type:\"file\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Modal[\"a\" /* default */].Actions,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button[\"a\" /* default */],{onClick:this.sendFile,color:\"green\",inverted:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"checkmark\"}),\" Send\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button[\"a\" /* default */],{color:\"red\",inverted:true,onClick:closeModal,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"remove\"}),\" Cancel\"]})]})]});}}]);return FileModal;}(react_default.a.Component);/* harmony default export */ var Messages_FileModal = (FileModal_FileModal);\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/modules/Progress/Progress.js + 4 modules\nvar Progress = __webpack_require__(470);\n\n// CONCATENATED MODULE: ./src/components/Messages/ProgressBar.js\nvar ProgressBar_ProgressBar=function ProgressBar(_ref){var uploadState=_ref.uploadState,percentUploaded=_ref.percentUploaded;return uploadState===\"uploading\"&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Progress[\"a\" /* default */],{className:\"progress__bar\",percent:percentUploaded,progress:true,indicating:true,size:\"medium\",inverted:true});};/* harmony default export */ var Messages_ProgressBar = (ProgressBar_ProgressBar);\n// CONCATENATED MODULE: ./src/components/Messages/MessageForm.js\nvar MessageForm_MessageForm=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(MessageForm,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(MessageForm);function MessageForm(){var _this;Object(classCallCheck[\"a\" /* default */])(this,MessageForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={storageRef:firebase.storage().ref(),typingRef:firebase.database().ref(\"typing\"),uploadTask:null,uploadState:\"\",percentUploaded:0,message:\"\",channel:_this.props.currentChannel,user:_this.props.currentUser,loading:false,errors:[],modal:false,emojiPicker:false};_this.openModal=function(){return _this.setState({modal:true});};_this.closeModal=function(){return _this.setState({modal:false});};_this.handleChange=function(event){_this.setState(Object(defineProperty[\"a\" /* default */])({},event.target.name,event.target.value));};_this.handleKeyDown=function(event){if(event.ctrlKey&&event.keyCode===13){_this.sendMessage();}var _this$state=_this.state,message=_this$state.message,typingRef=_this$state.typingRef,channel=_this$state.channel,user=_this$state.user;if(message){typingRef.child(channel.id).child(user.uid).set(user.displayName);}else{typingRef.child(channel.id).child(user.uid).remove();}};_this.handleTogglePicker=function(){_this.setState({emojiPicker:!_this.state.emojiPicker});};_this.handleAddEmoji=function(emoji){var oldMessage=_this.state.message;var newMessage=_this.colonToUnicode(\" \".concat(oldMessage,\" \").concat(emoji.colons,\" \"));_this.setState({message:newMessage,emojiPicker:false});setTimeout(function(){return _this.messageInputRef.focus();},0);};_this.colonToUnicode=function(message){return message.replace(/:[A-Za-z0-9_+-]+:/g,function(x){x=x.replace(/:/g,\"\");var emoji=dist_es[\"b\" /* emojiIndex */].emojis[x];if(typeof emoji!==\"undefined\"){var unicode=emoji.native;if(typeof unicode!==\"undefined\"){return unicode;}}x=\":\"+x+\":\";return x;});};_this.createMessage=function(){var fileUrl=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var message={timestamp:firebase.database.ServerValue.TIMESTAMP,id:_this.state.user.uid,name:_this.state.user.displayName,avatar:_this.state.user.photoURL,senderName:_this.state.user.displayName};if(fileUrl!==null){message[\"image\"]=fileUrl;}else{message[\"message\"]=_this.state.message;}return message;};_this.sendMessage=function(){var getMessagesRef=_this.props.getMessagesRef;var _this$state2=_this.state,message=_this$state2.message,channel=_this$state2.channel,user=_this$state2.user,typingRef=_this$state2.typingRef;if(message){_this.setState({loading:true});getMessagesRef().child(user.uid).child(channel.id).push().set(_this.createMessage()).then(function(){_this.setState({loading:false,message:\"\",errors:[]});typingRef.child(channel.id).child(user.uid).remove();}).catch(function(err){console.error(err);_this.setState({loading:false,errors:_this.state.errors.concat(err)});});}else{_this.setState({errors:_this.state.errors.concat({message:\"Add a message\"})});}};_this.getPath=function(){if(_this.props.isPrivateChannel){return\"chat/private/\".concat(_this.state.channel.id);}else{return\"chat/public\";}};_this.uploadFile=function(file,metadata){var pathToUpload=_this.state.channel.id;var ref=_this.props.getMessagesRef();var filePath=\"\".concat(_this.getPath(),\"/\").concat(v4_default()(),\".jpg\");_this.setState({uploadState:\"uploading\",uploadTask:_this.state.storageRef.child(filePath).put(file,metadata)},function(){_this.state.uploadTask.on(\"state_changed\",function(snap){var percentUploaded=Math.round(snap.bytesTransferred/snap.totalBytes*100);_this.setState({percentUploaded:percentUploaded});},function(err){console.error(err);_this.setState({errors:_this.state.errors.concat(err),uploadState:\"error\",uploadTask:null});},function(){_this.state.uploadTask.snapshot.ref.getDownloadURL().then(function(downloadUrl){_this.sendFileMessage(downloadUrl,ref,pathToUpload);}).catch(function(err){console.error(err);_this.setState({errors:_this.state.errors.concat(err),uploadState:\"error\",uploadTask:null});});});});};_this.sendFileMessage=function(fileUrl,ref,pathToUpload){ref.child(pathToUpload).push().set(_this.createMessage(fileUrl)).then(function(){_this.setState({uploadState:\"done\"});}).catch(function(err){console.error(err);_this.setState({errors:_this.state.errors.concat(err)});});};return _this;}Object(createClass[\"a\" /* default */])(MessageForm,[{key:\"componentWillUnmount\",value:function componentWillUnmount(){if(this.state.uploadTask!==null){this.state.uploadTask.cancel();this.setState({uploadTask:null});}}},{key:\"render\",value:function render(){var _this2=this;// prettier-ignore\nvar _this$state3=this.state,errors=_this$state3.errors,message=_this$state3.message,loading=_this$state3.loading,modal=_this$state3.modal,uploadState=_this$state3.uploadState,percentUploaded=_this$state3.percentUploaded,emojiPicker=_this$state3.emojiPicker;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Segment[\"a\" /* default */],{className:\"message__form\",children:[emojiPicker&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist_es[\"a\" /* Picker */],{set:\"apple\",onSelect:this.handleAddEmoji,className:\"emojipicker\",title:\"Pick your emoji\",emoji:\"point_up\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Input[\"a\" /* default */],{fluid:true,name:\"message\",onChange:this.handleChange,onKeyDown:this.handleKeyDown,value:message,ref:function ref(node){return _this2.messageInputRef=node;},style:{marginBottom:\"0.7em\"},label:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{icon:emojiPicker?\"close\":\"add\",content:emojiPicker?\"Close\":null,onClick:this.handleTogglePicker}),labelPosition:\"left\",className:errors.some(function(error){return error.message.includes(\"message\");})?\"error\":\"\",placeholder:\"Write your message\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */].Group,{icon:true,widths:\"2\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:this.sendMessage,disabled:loading,color:\"orange\",content:\"Add Reply\",labelPosition:\"left\",icon:\"edit\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Messages_FileModal,{modal:modal,closeModal:this.closeModal,uploadFile:this.uploadFile}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Messages_ProgressBar,{uploadState:uploadState,percentUploaded:percentUploaded})]});}}]);return MessageForm;}(react_default.a.Component);/* harmony default export */ var Messages_MessageForm = (MessageForm_MessageForm);\n// EXTERNAL MODULE: ./node_modules/moment/moment.js\nvar moment = __webpack_require__(264);\nvar moment_default = /*#__PURE__*/__webpack_require__.n(moment);\n\n// CONCATENATED MODULE: ./src/components/Messages/Message.js\nvar isOwnMessage=function isOwnMessage(message,user){return message.id===\"IVRobot\";// return message.user.id === user.uid ? \"message__self\" : \"\";\n};var isImage=function isImage(message){return message.hasOwnProperty(\"image\")&&!message.hasOwnProperty(\"content\");};var Message_timeFromNow=function timeFromNow(timestamp){return moment_default()(timestamp).fromNow();};var Message_Message=function Message(_ref){var message=_ref.message,user=_ref.user;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Comment[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Comment[\"a\" /* default */].Avatar,{src:\"http://gravatar.com/avatar/15ef5bd18c36ed4a2b8e582022117d97?d=identicon\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Comment[\"a\" /* default */].Content,{className:isOwnMessage(message,user),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Comment[\"a\" /* default */].Author,{as:\"a\",children:message.senderName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Comment[\"a\" /* default */].Metadata,{children:Message_timeFromNow(message.timestamp)}),isImage(message)?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Image[\"a\" /* default */],{src:message.image,className:\"message__image\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Comment[\"a\" /* default */].Text,{children:message.message})]})]});};/* harmony default export */ var Messages_Message = (Message_Message);\n// CONCATENATED MODULE: ./src/components/Messages/Typing.js\nvar Typing_Typing=function Typing(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"typing\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"typing__dot\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"typing__dot\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"typing__dot\"})]});};/* harmony default export */ var Messages_Typing = (Typing_Typing);\n// CONCATENATED MODULE: ./src/components/Messages/Skeleton.js\nvar Skeleton_Skeleton=function Skeleton(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"skeleton\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"skeleton__avatar\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"skeleton__author\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"skeleton__details\"})]});};/* harmony default export */ var Messages_Skeleton = (Skeleton_Skeleton);\n// CONCATENATED MODULE: ./src/components/Messages/Messages.js\nvar Messages_Messages=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(Messages,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(Messages);function Messages(){var _this;Object(classCallCheck[\"a\" /* default */])(this,Messages);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={privateChannel:_this.props.isPrivateChannel,privateMessagesRef:firebase.database().ref(\"privateMessages\"),messagesRef:firebase.database().ref(\"messages\"),messages:[],messagesLoading:true,channel:_this.props.currentChannel,isChannelStarred:false,user:_this.props.currentUser,usersRef:firebase.database().ref(\"users\"),numUniqueUsers:\"\",searchTerm:\"\",searchLoading:false,searchResults:[],typingRef:firebase.database().ref(\"typing\"),typingUsers:[],connectedRef:firebase.database().ref(\".info/connected\"),listeners:[]};_this.removeListeners=function(listeners){listeners.forEach(function(listener){listener.ref.child(listener.id).off(listener.event);});};_this.addToListeners=function(id,ref,event){var index=_this.state.listeners.findIndex(function(listener){return listener.id===id&&listener.ref===ref&&listener.event===event;});if(index===-1){var newListener={id:id,ref:ref,event:event};_this.setState({listeners:_this.state.listeners.concat(newListener)});}};_this.scrollToBottom=function(){_this.messagesEnd.scrollIntoView({behavior:\"smooth\"});};_this.addListeners=function(channelId){_this.addMessageListener(channelId);_this.addTypingListeners(channelId);};_this.addTypingListeners=function(channelId){var typingUsers=[];_this.state.typingRef.child(channelId).on(\"child_added\",function(snap){if(snap.key!==_this.state.user.uid){typingUsers=typingUsers.concat({id:snap.key,name:snap.val()});_this.setState({typingUsers:typingUsers});}});_this.addToListeners(channelId,_this.state.typingRef,\"child_added\");_this.state.typingRef.child(channelId).on(\"child_removed\",function(snap){var index=typingUsers.findIndex(function(user){return user.id===snap.key;});if(index!==-1){typingUsers=typingUsers.filter(function(user){return user.id!==snap.key;});_this.setState({typingUsers:typingUsers});}});_this.addToListeners(channelId,_this.state.typingRef,\"child_removed\");_this.state.connectedRef.on(\"value\",function(snap){if(snap.val()===true){_this.state.typingRef.child(channelId).child(_this.state.user.uid).onDisconnect().remove(function(err){if(err!==null){console.error(err);}});}});};_this.addMessageListener=function(channelId){var loadedMessages=[];var ref=_this.getMessagesRef();firebase.database().ref(\"messages/\".concat(_this.state.user.uid,\"/\").concat(channelId)).on(\"child_added\",function(snap){loadedMessages.push(snap.val());_this.setState({messages:loadedMessages,messagesLoading:false});_this.countUniqueUsers(loadedMessages);_this.countUserPosts(loadedMessages);});_this.addToListeners(channelId,ref,\"child_added\");};_this.addUserStarsListener=function(channelId,userId){_this.state.usersRef.child(userId).child(\"starred\").once(\"value\").then(function(data){if(data.val()!==null){var channelIds=Object.keys(data.val());var prevStarred=channelIds.includes(channelId);_this.setState({isChannelStarred:prevStarred});}});};_this.getMessagesRef=function(){var _this$state=_this.state,messagesRef=_this$state.messagesRef,privateMessagesRef=_this$state.privateMessagesRef,privateChannel=_this$state.privateChannel;return privateChannel?privateMessagesRef:messagesRef;};_this.handleStar=function(){_this.setState(function(prevState){return{isChannelStarred:!prevState.isChannelStarred};},function(){return _this.starChannel();});};_this.starChannel=function(){if(_this.state.isChannelStarred){_this.state.usersRef.child(\"\".concat(_this.state.user.uid,\"/starred\")).update(Object(defineProperty[\"a\" /* default */])({},_this.state.channel.id,{name:_this.state.channel.name,details:_this.state.channel.details,createdBy:{name:_this.state.channel.createdBy.name,avatar:_this.state.channel.createdBy.avatar}}));}else{_this.state.usersRef.child(\"\".concat(_this.state.user.uid,\"/starred\")).child(_this.state.channel.id).remove(function(err){if(err!==null){console.error(err);}});}};_this.handleSearchChange=function(event){_this.setState({searchTerm:event.target.value,searchLoading:true},function(){return _this.handleSearchMessages();});};_this.handleSearchMessages=function(){var channelMessages=Object(toConsumableArray[\"a\" /* default */])(_this.state.messages);var regex=new RegExp(_this.state.searchTerm,\"gi\");var searchResults=channelMessages.reduce(function(acc,message){if(message.message&&message.message.match(regex)||message.senderName.match(regex)){acc.push(message);}return acc;},[]);_this.setState({searchResults:searchResults});setTimeout(function(){return _this.setState({searchLoading:false});},1000);};_this.countUniqueUsers=function(messages){var uniqueUsers=messages.reduce(function(acc,message){if(!acc.includes(message.senderName)){acc.push(message.senderName);}return acc;},[]);var plural=uniqueUsers.length>1||uniqueUsers.length===0;var numUniqueUsers=\"\".concat(uniqueUsers.length,\" user\").concat(plural?\"s\":\"\");_this.setState({numUniqueUsers:numUniqueUsers});};_this.countUserPosts=function(messages){var userPosts=messages.reduce(function(acc,message){if(message.senderName in acc){acc[message.senderName].count+=1;}else{acc[message.senderName]={avatar:message.avatar,count:1};}return acc;},{});_this.props.setUserPosts(userPosts);};_this.displayMessages=function(messages){return messages.length>0&&messages.map(function(message){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Messages_Message,{message:message,user:_this.state.user},message.timestamp);});};_this.displayChannelName=function(channel){return channel?\"\".concat(_this.state.privateChannel?\"Customer Name: \":\"Customer Name: \").concat(channel.name):\"\";};_this.displayTypingUsers=function(users){return users.length>0&&users.map(function(user){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{display:\"flex\",alignItems:\"center\",marginBottom:\"0.2em\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"user__typing\",children:[user.name,\" is typing\"]}),\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Messages_Typing,{})]},user.id);});};_this.displayMessageSkeleton=function(loading){return loading?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.Fragment,{children:Object(toConsumableArray[\"a\" /* default */])(Array(10)).map(function(_,i){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Messages_Skeleton,{},i);})}):null;};return _this;}Object(createClass[\"a\" /* default */])(Messages,[{key:\"componentDidMount\",value:function componentDidMount(){var _this$state2=this.state,channel=_this$state2.channel,user=_this$state2.user,listeners=_this$state2.listeners;if(channel&&user){this.removeListeners(listeners);this.addListeners(channel.id);this.addUserStarsListener(channel.id,user.uid);}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.removeListeners(this.state.listeners);this.state.connectedRef.off();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){if(this.messagesEnd){this.scrollToBottom();}}},{key:\"render\",value:function render(){var _this2=this;// prettier-ignore\nvar _this$state3=this.state,messagesRef=_this$state3.messagesRef,messages=_this$state3.messages,channel=_this$state3.channel,user=_this$state3.user,numUniqueUsers=_this$state3.numUniqueUsers,searchTerm=_this$state3.searchTerm,searchResults=_this$state3.searchResults,searchLoading=_this$state3.searchLoading,privateChannel=_this$state3.privateChannel,isChannelStarred=_this$state3.isChannelStarred,typingUsers=_this$state3.typingUsers,messagesLoading=_this$state3.messagesLoading;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_default.a.Fragment,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Messages_MessagesHeader,{channelName:this.displayChannelName(channel),numUniqueUsers:numUniqueUsers,handleSearchChange:this.handleSearchChange,searchLoading:searchLoading,isPrivateChannel:privateChannel,handleStar:this.handleStar,isChannelStarred:isChannelStarred}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Segment[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Comment[\"a\" /* default */].Group,{className:\"messages\",children:[this.displayMessageSkeleton(messagesLoading),searchTerm?this.displayMessages(searchResults):this.displayMessages(messages),this.displayTypingUsers(typingUsers),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{ref:function ref(node){return _this2.messagesEnd=node;}})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Messages_MessageForm,{messagesRef:messagesRef,currentChannel:channel,currentUser:user,isPrivateChannel:privateChannel,getMessagesRef:this.getMessagesRef})]});}}]);return Messages;}(react_default.a.Component);/* harmony default export */ var components_Messages_Messages = (Object(es[\"b\" /* connect */])(null,{setUserPosts:actions_setUserPosts})(Messages_Messages));\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(269);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/List/List.js + 6 modules\nvar List = __webpack_require__(469);\n\n// CONCATENATED MODULE: ./src/components/MetaPanel/MetaPanel.js\nvar MetaPanel_MetaPanel=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(MetaPanel,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(MetaPanel);function MetaPanel(){var _this;Object(classCallCheck[\"a\" /* default */])(this,MetaPanel);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={channel:_this.props.currentChannel,privateChannel:_this.props.isPrivateChannel,activeIndex:0};_this.setActiveIndex=function(event,titleProps){var index=titleProps.index;var activeIndex=_this.state.activeIndex;var newIndex=activeIndex===index?-1:index;_this.setState({activeIndex:newIndex});};_this.formatCount=function(num){return num>1||num===0?\"\".concat(num,\" posts\"):\"\".concat(num,\" post\");};_this.displayTopPosters=function(posts){return Object.entries(posts).sort(function(a,b){return b[1]-a[1];}).map(function(_ref,i){var _ref2=Object(slicedToArray[\"a\" /* default */])(_ref,2),key=_ref2[0],val=_ref2[1];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(List[\"a\" /* default */].Item,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Image[\"a\" /* default */],{avatar:true,src:val.avatar}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(List[\"a\" /* default */].Content,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(List[\"a\" /* default */].Header,{as:\"a\",children:key}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(List[\"a\" /* default */].Description,{children:_this.formatCount(val.count)})]})]},i);}).slice(0,2);};return _this;}Object(createClass[\"a\" /* default */])(MetaPanel,[{key:\"render\",value:function render(){var _this$state=this.state,activeIndex=_this$state.activeIndex,privateChannel=_this$state.privateChannel,channel=_this$state.channel;var userPosts=this.props.userPosts;if(privateChannel)return null;return/*#__PURE__*/ (// <Segment loading={!channel}>\n//   <Header as=\"h3\" attached=\"top\">\n//     About {channel && channel.name}\n//   </Header>\n//   <Accordion styled attached=\"true\">\n//     <Accordion.Title\n//       active={activeIndex === 0}\n//       index={0}\n//       onClick={this.setActiveIndex}\n//     >\n//       <Icon name=\"dropdown\" />\n//       <Icon name=\"info\" />\n//       Channel Details\n//     </Accordion.Title>\n//     <Accordion.Content active={activeIndex === 0}>\n//       {channel && channel.details}\n//     </Accordion.Content>\n//     <Accordion.Title\n//       active={activeIndex === 1}\n//       index={1}\n//       onClick={this.setActiveIndex}\n//     >\n//       <Icon name=\"dropdown\" />\n//       <Icon name=\"user circle\" />\n//       Top Posters\n//     </Accordion.Title>\n//     <Accordion.Content active={activeIndex === 1}>\n//       <List>{userPosts && this.displayTopPosters(userPosts)}</List>\n//     </Accordion.Content>\n//     <Accordion.Title\n//       active={activeIndex === 2}\n//       index={2}\n//       onClick={this.setActiveIndex}\n//     >\n//       <Icon name=\"dropdown\" />\n//       <Icon name=\"pencil alternate\" />\n//       Created By\n//     </Accordion.Title>\n//     <Accordion.Content active={activeIndex === 2}>\n//       <Header as=\"h3\">\n//         <Image circular src={channel && channel.avatar} />\n//         {channel && channel.name}\n//       </Header>\n//     </Accordion.Content>\n//   </Accordion>\n// </Segment>\nObject(jsx_runtime[\"jsx\"])(\"div\",{}));}}]);return MetaPanel;}(react_default.a.Component);/* harmony default export */ var components_MetaPanel_MetaPanel = (MetaPanel_MetaPanel);\n// CONCATENATED MODULE: ./src/components/App.js\n// prettier-ignore\nvar App_App=function App(_ref){var currentUser=_ref.currentUser,currentChannel=_ref.currentChannel,isPrivateChannel=_ref.isPrivateChannel,userPosts=_ref.userPosts,primaryColor=_ref.primaryColor,secondaryColor=_ref.secondaryColor;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{columns:\"equal\",className:\"app\",style:{background:secondaryColor},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_SidePanel_SidePanel,{currentUser:currentUser,primaryColor:primaryColor},currentUser&&currentUser.uid),currentChannel!==null?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */].Column,{style:{marginLeft:320},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Messages_Messages,{currentChannel:currentChannel,currentUser:currentUser,isPrivateChannel:isPrivateChannel},currentChannel&&currentChannel.id)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */].Column,{width:4,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_MetaPanel_MetaPanel,{userPosts:userPosts,currentChannel:currentChannel,isPrivateChannel:isPrivateChannel},currentChannel&&currentChannel.name)})]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{verticalAlign:\"middle\",className:\"app\",style:{marginLeft:320},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */].Column,{style:{maxWidth:500},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Header[\"a\" /* default */],{icon:true,as:\"h2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"headphone\"}),\"IVRobot Store Owner's Console.\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Welcome to IVRobot store owner's console! Please select customer to start chat.\"})]})})]});};var mapStateToProps=function mapStateToProps(state){return{currentUser:state.user.currentUser,currentChannel:state.channel.currentChannel,isPrivateChannel:state.channel.isPrivateChannel,userPosts:state.channel.userPosts,primaryColor:state.colors.primaryColor,secondaryColor:state.colors.secondaryColor};};/* harmony default export */ var src_components_App = (Object(es[\"b\" /* connect */])(mapStateToProps)(App_App));\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/collections/Message/Message.js + 4 modules\nvar collections_Message_Message = __webpack_require__(471);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/es/Link.js\nvar Link = __webpack_require__(461);\n\n// CONCATENATED MODULE: ./src/components/Auth/Login.js\nvar Login_Login=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(Login,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(Login);function Login(){var _this;Object(classCallCheck[\"a\" /* default */])(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={email:\"\",password:\"\",errors:[],loading:false};_this.displayErrors=function(errors){return errors.map(function(error,i){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:error.message},i);});};_this.handleChange=function(event){_this.setState(Object(defineProperty[\"a\" /* default */])({},event.target.name,event.target.value));};_this.handleSubmit=function(event){event.preventDefault();if(_this.isFormValid(_this.state)){_this.setState({errors:[],loading:true});firebase.auth().signInWithEmailAndPassword(_this.state.email,_this.state.password).then(function(signedInUser){console.log(signedInUser);}).catch(function(err){console.error(err);_this.setState({errors:_this.state.errors.concat(err),loading:false});});}};_this.isFormValid=function(_ref){var email=_ref.email,password=_ref.password;return email&&password;};_this.handleInputError=function(errors,inputName){return errors.some(function(error){return error.message.toLowerCase().includes(inputName);})?\"error\":\"\";};return _this;}Object(createClass[\"a\" /* default */])(Login,[{key:\"render\",value:function render(){var _this$state=this.state,email=_this$state.email,password=_this$state.password,errors=_this$state.errors,loading=_this$state.loading;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{textAlign:\"center\",verticalAlign:\"middle\",className:\"app\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */].Column,{style:{maxWidth:450},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Header[\"a\" /* default */],{as:\"h1\",icon:true,color:\"violet\",textAlign:\"center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"headphones\",color:\"violet\"}),\"Login to IVRobot\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */],{onSubmit:this.handleSubmit,size:\"large\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Segment[\"a\" /* default */],{stacked:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Input,{fluid:true,name:\"email\",icon:\"mail\",iconPosition:\"left\",placeholder:\"Email Address\",onChange:this.handleChange,value:email,className:this.handleInputError(errors,\"email\"),type:\"email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Input,{fluid:true,name:\"password\",icon:\"lock\",iconPosition:\"left\",placeholder:\"Password\",onChange:this.handleChange,value:password,className:this.handleInputError(errors,\"password\"),type:\"password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{disabled:loading,className:loading?\"loading\":\"\",color:\"violet\",fluid:true,size:\"large\",children:\"Submit\"})]})}),errors.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(collections_Message_Message[\"a\" /* default */],{error:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Error\"}),this.displayErrors(errors)]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(collections_Message_Message[\"a\" /* default */],{children:[\"Don't have an account? \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Link[\"a\" /* default */],{to:\"/register\",children:\"Register\"})]})]})});}}]);return Login;}(react_default.a.Component);/* harmony default export */ var Auth_Login = (Login_Login);\n// EXTERNAL MODULE: ./node_modules/md5/md5.js\nvar md5 = __webpack_require__(265);\nvar md5_default = /*#__PURE__*/__webpack_require__.n(md5);\n\n// CONCATENATED MODULE: ./src/components/Auth/Register.js\nvar Register_Register=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(Register,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(Register);function Register(){var _this;Object(classCallCheck[\"a\" /* default */])(this,Register);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={username:\"\",storeName:\"\",openHour:\"\",closeHour:\"\",address1:\"\",address2:\"\",zipcode:\"\",city:\"\",state:\"\",email:\"\",password:\"\",passwordConfirmation:\"\",errors:[],loading:false,usersRef:firebase.database().ref(\"users\")};_this.isFormValid=function(){var errors=[];var error;if(_this.isFormEmpty(_this.state)){error={message:\"Fill in all fields\"};_this.setState({errors:errors.concat(error)});return false;}else if(!_this.isPasswordValid(_this.state)){error={message:\"Password is invalid\"};_this.setState({errors:errors.concat(error)});return false;}else{return true;}};_this.isFormEmpty=function(_ref){var username=_ref.username,storeName=_ref.storeName,email=_ref.email,password=_ref.password,passwordConfirmation=_ref.passwordConfirmation;return!username.length||!storeName.length||!email.length||!password.length||!passwordConfirmation.length;};_this.isPasswordValid=function(_ref2){var password=_ref2.password,passwordConfirmation=_ref2.passwordConfirmation;if(password.length<6||passwordConfirmation.length<6){return false;}else if(password!==passwordConfirmation){return false;}else{return true;}};_this.displayErrors=function(errors){return errors.map(function(error,i){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:error.message},i);});};_this.handleChange=function(event){_this.setState(Object(defineProperty[\"a\" /* default */])({},event.target.name,event.target.value));};_this.handleSubmit=function(event){event.preventDefault();if(_this.isFormValid()){_this.setState({errors:[],loading:true});var _this$state=_this.state,storeName=_this$state.storeName,openHour=_this$state.openHour,closeHour=_this$state.closeHour,address1=_this$state.address1,address2=_this$state.address2,zipcode=_this$state.zipcode,city=_this$state.city,state=_this$state.state;firebase.auth().createUserWithEmailAndPassword(_this.state.email,_this.state.password).then(function(createdUser){console.log(createdUser);createdUser.user.updateProfile({displayName:_this.state.username,photoURL:\"http://gravatar.com/avatar/\".concat(md5_default()(createdUser.user.email),\"?d=identicon\")}).then(function(){_this.saveUser({createdUser:createdUser,storeName:storeName,openHour:openHour,closeHour:closeHour,address1:address1,address2:address2,zipcode:zipcode,city:city,state:state}).then(function(){console.log(\"user saved\");});}).catch(function(err){console.error(err);_this.setState({errors:_this.state.errors.concat(err),loading:false});});}).catch(function(err){console.error(err);_this.setState({errors:_this.state.errors.concat(err),loading:false});});}};_this.saveUser=function(_ref3){var createdUser=_ref3.createdUser,storeName=_ref3.storeName,openHour=_ref3.openHour,closeHour=_ref3.closeHour,address1=_ref3.address1,address2=_ref3.address2,zipcode=_ref3.zipcode,city=_ref3.city,state=_ref3.state;return _this.state.usersRef.child(createdUser.user.uid).set({name:createdUser.user.displayName,avatar:createdUser.user.photoURL,storeName:storeName,openHour:openHour,closeHour:closeHour,address1:address1,address2:address2,zipcode:zipcode,city:city,state:state});};_this.handleInputError=function(errors,inputName){return errors.some(function(error){return error.message.toLowerCase().includes(inputName);})?\"error\":\"\";};return _this;}Object(createClass[\"a\" /* default */])(Register,[{key:\"render\",value:function render(){var _this$state2=this.state,username=_this$state2.username,storeName=_this$state2.storeName,openHour=_this$state2.openHour,closeHour=_this$state2.closeHour,address1=_this$state2.address1,address2=_this$state2.address2,zipcode=_this$state2.zipcode,city=_this$state2.city,state=_this$state2.state,email=_this$state2.email,password=_this$state2.password,passwordConfirmation=_this$state2.passwordConfirmation,errors=_this$state2.errors,loading=_this$state2.loading;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{textAlign:\"center\",verticalAlign:\"middle\",className:\"app\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */].Column,{style:{maxWidth:450},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Header[\"a\" /* default */],{as:\"h1\",icon:true,color:\"orange\",textAlign:\"center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"add user\",color:\"orange\"}),\"Register for IVRobot\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */],{onSubmit:this.handleSubmit,size:\"large\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Segment[\"a\" /* default */],{stacked:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Input,{fluid:true,name:\"username\",icon:\"user\",iconPosition:\"left\",placeholder:\"Username\",onChange:this.handleChange,value:username,type:\"text\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Input,{fluid:true,name:\"storeName\",icon:\"warehouse\",iconPosition:\"left\",placeholder:\"Store Name\",onChange:this.handleChange,value:storeName,type:\"text\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Input,{fluid:true,name:\"email\",icon:\"mail\",iconPosition:\"left\",placeholder:\"Email Address\",onChange:this.handleChange,value:email,className:this.handleInputError(errors,\"email\"),type:\"email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Input,{fluid:true,name:\"password\",icon:\"lock\",iconPosition:\"left\",placeholder:\"Password\",onChange:this.handleChange,value:password,className:this.handleInputError(errors,\"password\"),type:\"password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Input,{fluid:true,name:\"passwordConfirmation\",icon:\"repeat\",iconPosition:\"left\",placeholder:\"Password Confirmation\",onChange:this.handleChange,value:passwordConfirmation,className:this.handleInputError(errors,\"password\"),type:\"password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Input,{fluid:true,name:\"openHour\",icon:\"clock outline\",iconPosition:\"left\",placeholder:\"Open Hour\",onChange:this.handleChange,value:openHour,type:\"text\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Input,{fluid:true,name:\"closeHour\",icon:\"clock outline\",iconPosition:\"left\",placeholder:\"Close Hour\",onChange:this.handleChange,value:closeHour,type:\"text\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Input,{fluid:true,name:\"address1\",icon:\"address book outline\",iconPosition:\"left\",placeholder:\"Address1\",onChange:this.handleChange,value:address1,type:\"text\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Input,{fluid:true,name:\"address2\",icon:\"address book outline\",iconPosition:\"left\",placeholder:\"Address2\",onChange:this.handleChange,value:address2,type:\"text\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Input,{fluid:true,name:\"city\",placeholder:\"City\",onChange:this.handleChange,value:city,type:\"text\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Input,{fluid:true,name:\"state\",placeholder:\"State\",onChange:this.handleChange,value:state,type:\"text\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Input,{fluid:true,name:\"zipcode\",placeholder:\"Zip Code\",onChange:this.handleChange,value:zipcode,type:\"text\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{disabled:loading,className:loading?\"loading\":\"\",color:\"orange\",fluid:true,size:\"large\",children:\"Submit\"})]})}),errors.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(collections_Message_Message[\"a\" /* default */],{error:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Error\"}),this.displayErrors(errors)]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(collections_Message_Message[\"a\" /* default */],{children:[\"Already a user? \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Link[\"a\" /* default */],{to:\"/login\",children:\"Login\"})]})]})});}}]);return Register;}(react_default.a.Component);/* harmony default export */ var Auth_Register = (Register_Register);\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/modules/Dimmer/Dimmer.js + 2 modules\nvar Dimmer = __webpack_require__(475);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Loader/Loader.js\nvar Loader = __webpack_require__(462);\n\n// CONCATENATED MODULE: ./src/Spinner.js\nvar Spinner_Spinner=function Spinner(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Dimmer[\"a\" /* default */],{active:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Loader[\"a\" /* default */],{size:\"huge\",content:\"Preparing Chat...\"})});};/* harmony default export */ var src_Spinner = (Spinner_Spinner);\n// CONCATENATED MODULE: ./src/registerServiceWorker.js\n// In production, we register a service worker to serve assets from local cache.\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\nvar isLocalhost=Boolean(window.location.hostname==='localhost'||// [::1] is the IPv6 localhost address.\nwindow.location.hostname==='[::1]'||// 127.0.0.1/8 is considered localhost for IPv4.\nwindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function register(){if( true&&'serviceWorker'in navigator){// The URL constructor is available in all browsers that support SW.\nvar publicUrl=new URL(\"\",window.location);if(publicUrl.origin!==window.location.origin){// Our service worker won't work if PUBLIC_URL is on a different origin\n// from what our page is served on. This might happen if a CDN is used to\n// serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\nreturn;}window.addEventListener('load',function(){var swUrl=\"\".concat(\"\",\"/service-worker.js\");if(isLocalhost){// This is running on localhost. Lets check if a service worker still exists or not.\ncheckValidServiceWorker(swUrl);// Add some additional logging to localhost, pointing developers to the\n// service worker/PWA documentation.\nnavigator.serviceWorker.ready.then(function(){console.log('This web app is being served cache-first by a service '+'worker. To learn more, visit https://goo.gl/SC7cgQ');});}else{// Is not local host. Just register service worker\nregisterValidSW(swUrl);}});}}function registerValidSW(swUrl){navigator.serviceWorker.register(swUrl).then(function(registration){registration.onupdatefound=function(){var installingWorker=registration.installing;installingWorker.onstatechange=function(){if(installingWorker.state==='installed'){if(navigator.serviceWorker.controller){// At this point, the old content will have been purged and\n// the fresh content will have been added to the cache.\n// It's the perfect time to display a \"New content is\n// available; please refresh.\" message in your web app.\nconsole.log('New content is available; please refresh.');}else{// At this point, everything has been precached.\n// It's the perfect time to display a\n// \"Content is cached for offline use.\" message.\nconsole.log('Content is cached for offline use.');}}};};}).catch(function(error){console.error('Error during service worker registration:',error);});}function checkValidServiceWorker(swUrl){// Check if the service worker can be found. If it can't reload the page.\nfetch(swUrl).then(function(response){// Ensure service worker exists, and that we really are getting a JS file.\nif(response.status===404||response.headers.get('content-type').indexOf('javascript')===-1){// No service worker found. Probably a different app. Reload the page.\nnavigator.serviceWorker.ready.then(function(registration){registration.unregister().then(function(){window.location.reload();});});}else{// Service worker found. Proceed as normal.\nregisterValidSW(swUrl);}}).catch(function(){console.log('No internet connection found. App is running in offline mode.');});}function unregister(){if('serviceWorker'in navigator){navigator.serviceWorker.ready.then(function(registration){registration.unregister();});}}\n// EXTERNAL MODULE: ./node_modules/semantic-ui-css/semantic.min.css\nvar semantic_min = __webpack_require__(444);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/es/Switch.js + 1 modules\nvar Switch = __webpack_require__(479);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/es/Route.js\nvar Route = __webpack_require__(463);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/es/withRouter.js + 1 modules\nvar withRouter = __webpack_require__(480);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/es/BrowserRouter.js + 2 modules\nvar BrowserRouter = __webpack_require__(472);\n\n// EXTERNAL MODULE: ./node_modules/redux/es/redux.js\nvar redux = __webpack_require__(81);\n\n// EXTERNAL MODULE: ./node_modules/redux-devtools-extension/index.js\nvar redux_devtools_extension = __webpack_require__(266);\n\n// CONCATENATED MODULE: ./src/reducers/index.js\nvar initialUserState={currentUser:null,isLoading:true};var reducers_user_reducer=function user_reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialUserState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case SET_USER:return{currentUser:action.payload.currentUser,isLoading:false};case CLEAR_USER:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{isLoading:false});default:return state;}};var initialChannelState={currentChannel:null,isPrivateChannel:false,userPosts:null};var reducers_channel_reducer=function channel_reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialChannelState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case SET_CURRENT_CHANNEL:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{currentChannel:action.payload.currentChannel});case SET_PRIVATE_CHANNEL:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{isPrivateChannel:action.payload.isPrivateChannel});case SET_USER_POSTS:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{userPosts:action.payload.userPosts});default:return state;}};var initialColorsState={primaryColor:\"#173F5F\",secondaryColor:\"#eee\"};var reducers_colors_reducer=function colors_reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialColorsState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case SET_COLORS:return{primaryColor:action.payload.primaryColor,secondaryColor:action.payload.secondaryColor};default:return state;}};var rootReducer=Object(redux[\"combineReducers\"])({user:reducers_user_reducer,channel:reducers_channel_reducer,colors:reducers_colors_reducer});/* harmony default export */ var reducers = (rootReducer);\n// CONCATENATED MODULE: ./src/index.js\nvar store=Object(redux[\"createStore\"])(reducers,Object(redux_devtools_extension[\"composeWithDevTools\"])());var src_Root=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(Root,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(Root);function Root(){Object(classCallCheck[\"a\" /* default */])(this,Root);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(Root,[{key:\"componentDidMount\",value:function componentDidMount(){var _this=this;firebase.auth().onAuthStateChanged(function(user){if(user){// console.log(user);\n_this.props.setUser(user);_this.props.history.push(\"/\");}else{_this.props.history.push(\"/login\");_this.props.clearUser();}});}},{key:\"render\",value:function render(){return this.props.isLoading?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Spinner,{}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Switch[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Route[\"a\" /* default */],{exact:true,path:\"/\",component:src_components_App}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Route[\"a\" /* default */],{path:\"/login\",component:Auth_Login}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Route[\"a\" /* default */],{path:\"/register\",component:Auth_Register})]});}}]);return Root;}(react_default.a.Component);var mapStateFromProps=function mapStateFromProps(state){return{isLoading:state.user.isLoading};};var RootWithAuth=Object(withRouter[\"a\" /* default */])(Object(es[\"b\" /* connect */])(mapStateFromProps,{setUser:actions_setUser,clearUser:actions_clearUser})(src_Root));react_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"a\" /* Provider */],{store:store,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BrowserRouter[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RootWithAuth,{})})}),document.getElementById(\"root\"));register();\n\n/***/ })\n\n},[[446,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/matthewchang/workspace/github/SEM2020/store-owner-console/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/matthewchang/workspace/github/SEM2020/store-owner-console/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/matthewchang/workspace/github/SEM2020/store-owner-console/node_modules/postcss-loader/src/index.js??postcss!/Users/matthewchang/workspace/github/SEM2020/store-owner-console/src/components/App.css","/Users/matthewchang/workspace/github/SEM2020/store-owner-console/src/firebase.js","/Users/matthewchang/workspace/github/SEM2020/store-owner-console/src/actions/types.js","/Users/matthewchang/workspace/github/SEM2020/store-owner-console/src/actions/index.js","/Users/matthewchang/workspace/github/SEM2020/store-owner-console/src/components/ColorPanel/ColorPanel.js","/Users/matthewchang/workspace/github/SEM2020/store-owner-console/src/components/SidePanel/UserPanel.js","/Users/matthewchang/workspace/github/SEM2020/store-owner-console/src/components/SidePanel/Channels.js","/Users/matthewchang/workspace/github/SEM2020/store-owner-console/src/components/SidePanel/DirectMessages.js","/Users/matthewchang/workspace/github/SEM2020/store-owner-console/src/components/SidePanel/Starred.js","/Users/matthewchang/workspace/github/SEM2020/store-owner-console/src/components/SidePanel/SidePanel.js","/Users/matthewchang/workspace/github/SEM2020/store-owner-console/src/components/Messages/MessagesHeader.js","/Users/matthewchang/workspace/github/SEM2020/store-owner-console/src/components/Messages/FileModal.js","/Users/matthewchang/workspace/github/SEM2020/store-owner-console/src/components/Messages/ProgressBar.js","/Users/matthewchang/workspace/github/SEM2020/store-owner-console/src/components/Messages/MessageForm.js","/Users/matthewchang/workspace/github/SEM2020/store-owner-console/src/components/Messages/Message.js","/Users/matthewchang/workspace/github/SEM2020/store-owner-console/src/components/Messages/Typing.js","/Users/matthewchang/workspace/github/SEM2020/store-owner-console/src/components/Messages/Skeleton.js","/Users/matthewchang/workspace/github/SEM2020/store-owner-console/src/components/Messages/Messages.js","/Users/matthewchang/workspace/github/SEM2020/store-owner-console/src/components/MetaPanel/MetaPanel.js","/Users/matthewchang/workspace/github/SEM2020/store-owner-console/src/components/App.js","/Users/matthewchang/workspace/github/SEM2020/store-owner-console/src/components/Auth/Login.js","/Users/matthewchang/workspace/github/SEM2020/store-owner-console/src/components/Auth/Register.js","/Users/matthewchang/workspace/github/SEM2020/store-owner-console/src/Spinner.js","/Users/matthewchang/workspace/github/SEM2020/store-owner-console/src/registerServiceWorker.js","/Users/matthewchang/workspace/github/SEM2020/store-owner-console/src/reducers/index.js","/Users/matthewchang/workspace/github/SEM2020/store-owner-console/src/index.js"],"names":["config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firebase","initializeApp","SET_USER","CLEAR_USER","SET_CURRENT_CHANNEL","SET_PRIVATE_CHANNEL","SET_USER_POSTS","SET_COLORS","setUser","user","type","actionTypes","payload","currentUser","clearUser","setCurrentChannel","channel","currentChannel","setPrivateChannel","isPrivateChannel","setUserPosts","userPosts","setColors","primaryColor","secondaryColor","ColorPanel","state","modal","primary","secondary","props","usersRef","database","ref","userColors","removeListener","child","uid","off","addListener","userId","on","snap","unshift","val","setState","handleChangePrimary","color","hex","handleChangeSecondary","handleSaveColors","saveColors","push","update","then","console","log","closeModal","catch","err","error","displayUserColors","colors","length","map","i","background","openModal","Menu","React","Component","connect","UserPanel","storeName","previewImage","croppedImage","blob","uploadedCroppedImage","storageRef","storage","userRef","auth","metadata","contentType","dropdownOptions","key","text","displayName","disabled","handleSignout","uploadCroppedImage","put","getDownloadURL","downloadURL","changeAvatar","updateProfile","photoURL","avatar","handleChange","event","file","target","files","reader","FileReader","readAsDataURL","addEventListener","result","handleCropImage","avatarEditor","getImageScaledToCanvas","toBlob","imageUrl","URL","createObjectURL","signOut","once","snapshot","twilioNumber","items","promotions","padding","margin","idx","name","stock","node","Channels","activeChannel","channels","channelName","channelDetails","channelsRef","messagesRef","typingRef","notifications","firstLoad","addListeners","loadedChannels","id","setFirstChannel","addNotificationListener","channelId","handleNotifications","currentChannelId","lastTotal","index","findIndex","notification","total","numChildren","count","lastKnownTotal","removeListeners","forEach","firstChannel","setActiveChannel","addChannel","newChannel","details","createdBy","handleSubmit","preventDefault","isFormValid","value","changeChannel","remove","clearNotifications","updatedNotifications","getNotificationCount","displayChannels","opacity","DirectMessages","users","connectedRef","presenceRef","currentUserUid","loadedUsers","set","onDisconnect","addStatusToUser","connected","updatedUsers","reduce","acc","concat","isUserOnline","status","getChannelId","channelData","currentUserId","fontStyle","Starred","starredChannels","starredChannel","channelToRemove","filteredChannels","filter","SidePanel","fontSize","MessagesHeader","numUniqueUsers","handleSearchChange","searchLoading","handleStar","isChannelStarred","marginBottom","FileModal","authorized","addFile","sendFile","uploadFile","isAuthorized","mime","lookup","clearFile","filename","includes","ProgressBar","uploadState","percentUploaded","MessageForm","uploadTask","message","loading","errors","emojiPicker","handleKeyDown","ctrlKey","keyCode","sendMessage","handleTogglePicker","handleAddEmoji","emoji","oldMessage","newMessage","colonToUnicode","colons","setTimeout","messageInputRef","focus","replace","x","emojiIndex","emojis","unicode","native","createMessage","fileUrl","timestamp","ServerValue","TIMESTAMP","senderName","getMessagesRef","getPath","pathToUpload","filePath","uuidv4","Math","round","bytesTransferred","totalBytes","downloadUrl","sendFileMessage","cancel","some","isOwnMessage","isImage","hasOwnProperty","timeFromNow","moment","fromNow","Message","image","Typing","Skeleton","Messages","privateChannel","privateMessagesRef","messages","messagesLoading","searchTerm","searchResults","typingUsers","listeners","listener","addToListeners","newListener","scrollToBottom","messagesEnd","scrollIntoView","behavior","addMessageListener","addTypingListeners","loadedMessages","countUniqueUsers","countUserPosts","addUserStarsListener","data","channelIds","Object","keys","prevStarred","prevState","starChannel","handleSearchMessages","channelMessages","regex","RegExp","match","uniqueUsers","plural","displayMessages","displayChannelName","displayTypingUsers","display","alignItems","displayMessageSkeleton","Array","_","prevProps","MetaPanel","activeIndex","setActiveIndex","titleProps","newIndex","formatCount","num","displayTopPosters","posts","entries","sort","a","b","slice","App","marginLeft","maxWidth","mapStateToProps","Login","email","password","displayErrors","signInWithEmailAndPassword","signedInUser","handleInputError","inputName","toLowerCase","Register","username","openHour","closeHour","address1","address2","zipcode","city","passwordConfirmation","isFormEmpty","isPasswordValid","createUserWithEmailAndPassword","createdUser","md5","saveUser","Spinner","isLocalhost","Boolean","window","location","hostname","register","process","navigator","publicUrl","origin","swUrl","checkValidServiceWorker","serviceWorker","ready","registerValidSW","registration","onupdatefound","installingWorker","installing","onstatechange","controller","fetch","response","headers","get","indexOf","unregister","reload","initialUserState","isLoading","user_reducer","action","initialChannelState","channel_reducer","initialColorsState","colors_reducer","rootReducer","combineReducers","store","createStore","composeWithDevTools","Root","onAuthStateChanged","history","mapStateFromProps","RootWithAuth","withRouter","ReactDOM","render","document","getElementById","registerServiceWorker"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/database\";\nimport \"firebase/storage\";\n\n\nvar config = {\n  // apiKey: \"AIzaSyDy7le4Y68RTetpOiX2bYO6CvCp7IKBf5Y\",\n  // authDomain: \"react-slack-clone-bfb54.firebaseapp.com\",\n  // databaseURL: \"https://react-slack-clone-bfb54.firebaseio.com\",\n  // projectId: \"react-slack-clone-bfb54\",\n  // storageBucket: \"react-slack-clone-bfb54.appspot.com\",\n  // messagingSenderId: \"645952099075\"\n  apiKey: \"AIzaSyBPYmZJbVMjXr4xpV837uZ888M8kT7KdxQ\",\n    authDomain: \"ivrobot-19973.firebaseapp.com\",\n    databaseURL: \"https://ivrobot-19973.firebaseio.com\",\n    projectId: \"ivrobot-19973\",\n    storageBucket: \"ivrobot-19973.appspot.com\",\n    messagingSenderId: \"173346576382\",\n    appId: \"1:173346576382:web:155e5dd71d80216cded2af\",\n    measurementId: \"G-4SMTHLF91M\"\n};\nfirebase.initializeApp(config);\n\nexport default firebase;","/* User Action Types */\nexport const SET_USER = \"SET_USER\";\nexport const CLEAR_USER = \"CLEAR_USER\";\n\n/* Channel Action Types */\nexport const SET_CURRENT_CHANNEL = \"SET_CURRENT_CHANNEL\";\nexport const SET_PRIVATE_CHANNEL = \"SET_PRIVATE_CHANNEL\";\nexport const SET_USER_POSTS = \"SET_USER_POSTS\";\n\n/* Colors Action Types */\nexport const SET_COLORS = \"SET_COLORS\";\n","import * as actionTypes from \"./types\";\n\n/* User Actions */\nexport const setUser = user => {\n  return {\n    type: actionTypes.SET_USER,\n    payload: {\n      currentUser: user\n    }\n  };\n};\n\nexport const clearUser = () => {\n  return {\n    type: actionTypes.CLEAR_USER\n  };\n};\n\n/* Channel Actions */\nexport const setCurrentChannel = channel => {\n  return {\n    type: actionTypes.SET_CURRENT_CHANNEL,\n    payload: {\n      currentChannel: channel\n    }\n  };\n};\n\nexport const setPrivateChannel = isPrivateChannel => {\n  return {\n    type: actionTypes.SET_PRIVATE_CHANNEL,\n    payload: {\n      isPrivateChannel\n    }\n  };\n};\n\nexport const setUserPosts = userPosts => {\n  return {\n    type: actionTypes.SET_USER_POSTS,\n    payload: {\n      userPosts\n    }\n  };\n};\n\n/* Colors Actions */\nexport const setColors = (primaryColor, secondaryColor) => {\n  return {\n    type: actionTypes.SET_COLORS,\n    payload: {\n      primaryColor,\n      secondaryColor\n    }\n  };\n};\n","import React from \"react\";\nimport firebase from \"../../firebase\";\nimport { connect } from \"react-redux\";\nimport { setColors } from \"../../actions\";\n// prettier-ignore\nimport { Sidebar, Menu, Divider, Button, Modal, Icon, Label, Segment } from \"semantic-ui-react\";\nimport { SliderPicker } from \"react-color\";\n\nclass ColorPanel extends React.Component {\n  state = {\n    modal: false,\n    primary: \"\",\n    secondary: \"\",\n    user: this.props.currentUser,\n    usersRef: firebase.database().ref(\"users\"),\n    userColors: []\n  };\n\n  componentDidMount() {\n    if (this.state.user) {\n      this.addListener(this.state.user.uid);\n    }\n  }\n\n  componentWillUnmount() {\n    this.removeListener();\n  }\n\n  removeListener = () => {\n    this.state.usersRef.child(`${this.state.user.uid}/colors`).off();\n  };\n\n  addListener = userId => {\n    let userColors = [];\n    this.state.usersRef.child(`${userId}/colors`).on(\"child_added\", snap => {\n      userColors.unshift(snap.val());\n      this.setState({ userColors });\n    });\n  };\n\n  handleChangePrimary = color => this.setState({ primary: color.hex });\n\n  handleChangeSecondary = color => this.setState({ secondary: color.hex });\n\n  handleSaveColors = () => {\n    if (this.state.primary && this.state.secondary) {\n      this.saveColors(this.state.primary, this.state.secondary);\n    }\n  };\n\n  saveColors = (primary, secondary) => {\n    this.state.usersRef\n      .child(`${this.state.user.uid}/colors`)\n      .push()\n      .update({\n        primary,\n        secondary\n      })\n      .then(() => {\n        console.log(\"Colors added\");\n        this.closeModal();\n      })\n      .catch(err => console.error(err));\n  };\n\n  displayUserColors = colors =>\n    colors.length > 0 &&\n    colors.map((color, i) => (\n      <React.Fragment key={i}>\n        <Divider />\n        <div\n          className=\"color__container\"\n          onClick={() => this.props.setColors(color.primary, color.secondary)}\n        >\n          <div className=\"color__square\" style={{ background: color.primary }}>\n            <div\n              className=\"color__overlay\"\n              style={{ background: color.secondary }}\n            />\n          </div>\n        </div>\n      </React.Fragment>\n    ));\n\n  openModal = () => this.setState({ modal: true });\n\n  closeModal = () => this.setState({ modal: false });\n\n  render() {\n    const { modal, primary, secondary, userColors } = this.state;\n\n    return (\n      <Sidebar\n        as={Menu}\n        icon=\"labeled\"\n        inverted\n        vertical\n        visible\n        width=\"very thin\"\n      >\n        <Divider />\n        <Button icon=\"add\" size=\"small\" color=\"blue\" onClick={this.openModal} />\n        {this.displayUserColors(userColors)}\n\n        {/* Color Picker Modal */}\n        <Modal basic open={modal} onClose={this.closeModal}>\n          <Modal.Header>Choose App Colors</Modal.Header>\n          <Modal.Content>\n            <Segment inverted>\n              <Label content=\"Primary Color\" />\n              <SliderPicker\n                color={primary}\n                onChange={this.handleChangePrimary}\n              />\n            </Segment>\n\n            <Segment inverted>\n              <Label content=\"Secondary Color\" />\n              <SliderPicker\n                color={secondary}\n                onChange={this.handleChangeSecondary}\n              />\n            </Segment>\n          </Modal.Content>\n          <Modal.Actions>\n            <Button color=\"green\" inverted onClick={this.handleSaveColors}>\n              <Icon name=\"checkmark\" /> Save Colors\n            </Button>\n            <Button color=\"red\" inverted onClick={this.closeModal}>\n              <Icon name=\"remove\" /> Cancel\n            </Button>\n          </Modal.Actions>\n        </Modal>\n      </Sidebar>\n    );\n  }\n}\n\nexport default connect(\n  null,\n  { setColors }\n)(ColorPanel);\n","import React from \"react\";\nimport firebase from \"../../firebase\";\nimport AvatarEditor from \"react-avatar-editor\";\n// prettier-ignore\nimport { Grid, Header, Icon, Dropdown, Image, Modal, Input, Button } from \"semantic-ui-react\";\n\nclass UserPanel extends React.Component {\n  state = {\n    user: this.props.currentUser,\n    storeName: \"\",\n    modal: false,\n    previewImage: \"\",\n    croppedImage: \"\",\n    blob: null,\n    uploadedCroppedImage: \"\",\n    storageRef: firebase.storage().ref(),\n    userRef: firebase.auth().currentUser,\n    usersRef: firebase.database().ref(\"users\"),\n    metadata: {\n      contentType: \"image/jpeg\"\n    }\n  };\n\n  openModal = () => this.setState({ modal: true });\n\n  closeModal = () => this.setState({ modal: false });\n\n  dropdownOptions = () => [\n    {\n      key: \"user\",\n      text: (\n        <span>\n          Signed in as <strong>{this.state.user.displayName}</strong>\n        </span>\n      ),\n      disabled: true\n    },\n    {\n      key: \"avatar\",\n      text: <span onClick={this.openModal}>Change Avatar</span>\n    },\n    {\n      key: \"signout\",\n      text: <span onClick={this.handleSignout}>Sign Out</span>\n    }\n  ];\n\n  uploadCroppedImage = () => {\n    const { storageRef, userRef, blob, metadata } = this.state;\n\n    storageRef\n      .child(`avatars/users/${userRef.uid}`)\n      .put(blob, metadata)\n      .then(snap => {\n        snap.ref.getDownloadURL().then(downloadURL => {\n          this.setState({ uploadedCroppedImage: downloadURL }, () =>\n            this.changeAvatar()\n          );\n        });\n      });\n  };\n\n  changeAvatar = () => {\n    this.state.userRef\n      .updateProfile({\n        photoURL: this.state.uploadedCroppedImage\n      })\n      .then(() => {\n        console.log(\"PhotoURL updated\");\n        this.closeModal();\n      })\n      .catch(err => {\n        console.error(err);\n      });\n\n    this.state.usersRef\n      .child(this.state.user.uid)\n      .update({ avatar: this.state.uploadedCroppedImage })\n      .then(() => {\n        console.log(\"User avatar updated\");\n      })\n      .catch(err => {\n        console.error(err);\n      });\n  };\n\n  handleChange = event => {\n    const file = event.target.files[0];\n    const reader = new FileReader();\n\n    if (file) {\n      reader.readAsDataURL(file);\n      reader.addEventListener(\"load\", () => {\n        this.setState({ previewImage: reader.result });\n      });\n    }\n  };\n\n  handleCropImage = () => {\n    if (this.avatarEditor) {\n      this.avatarEditor.getImageScaledToCanvas().toBlob(blob => {\n        let imageUrl = URL.createObjectURL(blob);\n        this.setState({\n          croppedImage: imageUrl,\n          blob\n        });\n      });\n    }\n  };\n\n  handleSignout = () => {\n    firebase\n      .auth()\n      .signOut()\n      .then(() => console.log(\"signed out!\"));\n  };\n\n  componentDidMount(){\n    this.state.usersRef.child(this.props.currentUser.uid).once('value').then(snapshot => {\n      this.setState({\n        storeName: snapshot.val() && snapshot.val().storeName || '',\n        twilioNumber: snapshot.val() && snapshot.val().twilioNumber || '',\n        items:  snapshot.val() && snapshot.val().items || [],\n        promotions:  snapshot.val() && snapshot.val().promotions || [],\n      })\n    })\n  }\n\n  render() {\n    const { storeName = [], items = [], promotions, twilioNumber, user, modal, previewImage, croppedImage } = this.state;\n    const { primaryColor } = this.props;\n\n    return (\n      <Grid style={{ background: primaryColor }}>\n        <Grid.Column>\n          <Grid.Row style={{ padding: \"1.2em\", margin: 0 }}>\n            {/* App Header */}\n            <Header inverted floated=\"left\" as=\"h2\">\n              <Icon name=\"headphones\" />\n              <Header.Content>IVRobot</Header.Content>\n              \n            </Header>\n            <Header inverted floated=\"left\" as=\"h3\">\n              {storeName}\n            </Header>\n            <Header inverted floated=\"left\" as=\"h6\">\n              Phone Number: {twilioNumber}<br/>\n            </Header>\n\n            <Header inverted floated=\"left\" as=\"h6\">\n              Items:<br/>\n              {items.map((i, idx) => <p key={idx}>{i.name}({i.stock})</p>)}\n            </Header>\n\n            {/* User Dropdown  */}\n            <Header style={{ padding: \"0.25em\" }} as=\"h4\" inverted>\n              <Dropdown\n                trigger={\n                  <span>\n                    <Image src={user.photoURL} spaced=\"right\" avatar />\n                    {user.displayName}\n                  </span>\n                }\n                options={this.dropdownOptions()}\n              />\n            </Header>\n          </Grid.Row>\n\n          {/* Change User Avatar Modal   */}\n          <Modal basic open={modal} onClose={this.closeModal}>\n            <Modal.Header>Change Avatar</Modal.Header>\n            <Modal.Content>\n              <Input\n                onChange={this.handleChange}\n                fluid\n                type=\"file\"\n                label=\"New Avatar\"\n                name=\"previewImage\"\n              />\n              <Grid centered stackable columns={2}>\n                <Grid.Row centered>\n                  <Grid.Column className=\"ui center aligned grid\">\n                    {previewImage && (\n                      <AvatarEditor\n                        ref={node => (this.avatarEditor = node)}\n                        image={previewImage}\n                        width={120}\n                        height={120}\n                        border={50}\n                        scale={1.2}\n                      />\n                    )}\n                  </Grid.Column>\n                  <Grid.Column>\n                    {croppedImage && (\n                      <Image\n                        style={{ margin: \"3.5em auto\" }}\n                        width={100}\n                        height={100}\n                        src={croppedImage}\n                      />\n                    )}\n                  </Grid.Column>\n                </Grid.Row>\n              </Grid>\n            </Modal.Content>\n            <Modal.Actions>\n              {croppedImage && (\n                <Button\n                  color=\"green\"\n                  inverted\n                  onClick={this.uploadCroppedImage}\n                >\n                  <Icon name=\"save\" /> Change Avatar\n                </Button>\n              )}\n              <Button color=\"green\" inverted onClick={this.handleCropImage}>\n                <Icon name=\"image\" /> Preview\n              </Button>\n              <Button color=\"red\" inverted onClick={this.closeModal}>\n                <Icon name=\"remove\" /> Cancel\n              </Button>\n            </Modal.Actions>\n          </Modal>\n        </Grid.Column>\n      </Grid>\n    );\n  }\n}\n\nexport default UserPanel;\n","import React from \"react\";\nimport firebase from \"../../firebase\";\nimport { connect } from \"react-redux\";\nimport { setCurrentChannel, setPrivateChannel } from \"../../actions\";\n// prettier-ignore\nimport { Menu, Icon, Modal, Form, Input, Button, Label } from \"semantic-ui-react\";\n\nclass Channels extends React.Component {\n  state = {\n    activeChannel: \"\",\n    user: this.props.currentUser,\n    channel: null,\n    channels: [],\n    channelName: \"\",\n    channelDetails: \"\",\n    channelsRef: firebase.database().ref(\"customers\").child(this.props.currentUser.uid),\n    messagesRef: firebase.database().ref(\"messages\"),\n    typingRef: firebase.database().ref(\"typing\"),\n    notifications: [],\n    modal: false,\n    firstLoad: true\n  };\n\n  componentDidMount() {\n    this.addListeners();\n  }\n\n  componentWillUnmount() {\n    this.removeListeners();\n  }\n\n  addListeners = () => {\n    let loadedChannels = [];\n    this.state.channelsRef.on(\"child_added\", snap => {\n      loadedChannels.push({...snap.val(), id: snap.key});\n      this.setState({ channels: loadedChannels }, () => this.setFirstChannel());\n      this.addNotificationListener(snap.key);\n    });\n  };\n\n  addNotificationListener = channelId => {\n    this.state.messagesRef.child(channelId).on(\"value\", snap => {\n      if (this.state.channel) {\n        this.handleNotifications(\n          channelId,\n          this.state.channel.id,\n          this.state.notifications,\n          snap\n        );\n      }\n    });\n  };\n\n  handleNotifications = (channelId, currentChannelId, notifications, snap) => {\n    let lastTotal = 0;\n\n    let index = notifications.findIndex(\n      notification => notification.id === channelId\n    );\n\n    if (index !== -1) {\n      if (channelId !== currentChannelId) {\n        lastTotal = notifications[index].total;\n\n        if (snap.numChildren() - lastTotal > 0) {\n          notifications[index].count = snap.numChildren() - lastTotal;\n        }\n      }\n      notifications[index].lastKnownTotal = snap.numChildren();\n    } else {\n      notifications.push({\n        id: channelId,\n        total: snap.numChildren(),\n        lastKnownTotal: snap.numChildren(),\n        count: 0\n      });\n    }\n\n    this.setState({ notifications });\n  };\n\n  removeListeners = () => {\n    this.state.channelsRef.off();\n    this.state.channels.forEach(channel => {\n      this.state.messagesRef.child(channel.id).off();\n    });\n  };\n\n  setFirstChannel = () => {\n    const firstChannel = this.state.channels[0];\n    if (this.state.firstLoad && this.state.channels.length > 0) {\n      this.props.setCurrentChannel(firstChannel);\n      this.setActiveChannel(firstChannel);\n      this.setState({ channel: firstChannel });\n    }\n    this.setState({ firstLoad: false });\n  };\n\n  addChannel = () => {\n    const { channelsRef, channelName, channelDetails, user } = this.state;\n\n    const key = channelsRef.push().key;\n\n    const newChannel = {\n      id: key,\n      name: channelName,\n      details: channelDetails,\n      createdBy: {\n        name: user.displayName,\n        avatar: user.photoURL\n      }\n    };\n\n    channelsRef\n      .child(key)\n      .update(newChannel)\n      .then(() => {\n        this.setState({ channelName: \"\", channelDetails: \"\" });\n        this.closeModal();\n        console.log(\"channel added\");\n      })\n      .catch(err => {\n        console.error(err);\n      });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    if (this.isFormValid(this.state)) {\n      this.addChannel();\n    }\n  };\n\n  handleChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  changeChannel = channel => {\n    this.setActiveChannel(channel);\n    this.state.typingRef\n      .child(this.state.channel.id)\n      .child(this.state.user.uid)\n      .remove();\n    this.clearNotifications();\n    this.props.setCurrentChannel(channel);\n    this.props.setPrivateChannel(false);\n    this.setState({ channel });\n  };\n\n  clearNotifications = () => {\n    let index = this.state.notifications.findIndex(\n      notification => notification.id === this.state.channel.id\n    );\n\n    if (index !== -1) {\n      let updatedNotifications = [...this.state.notifications];\n      updatedNotifications[index].total = this.state.notifications[\n        index\n      ].lastKnownTotal;\n      updatedNotifications[index].count = 0;\n      this.setState({ notifications: updatedNotifications });\n    }\n  };\n\n  setActiveChannel = channel => {\n    this.setState({ activeChannel: channel.id });\n  };\n\n  getNotificationCount = channel => {\n    let count = 0;\n\n    this.state.notifications.forEach(notification => {\n      if (notification.id === channel.id) {\n        count = notification.count;\n      }\n    });\n\n    if (count > 0) return count;\n  };\n\n  displayChannels = channels =>\n    channels.length > 0 &&\n    channels.map(channel => (\n      <Menu.Item\n        key={channel.id}\n        onClick={() => this.changeChannel(channel)}\n        name={channel.name}\n        style={{ opacity: 0.7 }}\n        active={channel.id === this.state.activeChannel}\n      >\n        {this.getNotificationCount(channel) && (\n          <Label color=\"red\">{this.getNotificationCount(channel)}</Label>\n        )}\n         {channel.name}\n      </Menu.Item>\n    ));\n\n  isFormValid = ({ channelName, channelDetails }) =>\n    channelName && channelDetails;\n\n  openModal = () => this.setState({ modal: true });\n\n  closeModal = () => this.setState({ modal: false });\n\n  render() {\n    const { channels, modal } = this.state;\n\n    return (\n      <React.Fragment>\n        <Menu.Menu className=\"menu\">\n          <Menu.Item>\n            <span>\n              <Icon name=\"address book\" /> CUSTOMERS\n            </span>{\" \"}\n            ({channels.length}) \n            {/* <Icon name=\"add\" onClick={this.openModal} /> */}\n          </Menu.Item>\n          {this.displayChannels(channels)}\n        </Menu.Menu>\n\n        {/* Add Channel Modal */}\n        <Modal basic open={modal} onClose={this.closeModal}>\n          <Modal.Header>Add a Channel</Modal.Header>\n          <Modal.Content>\n            <Form onSubmit={this.handleSubmit}>\n              <Form.Field>\n                <Input\n                  fluid\n                  label=\"Name of Channel\"\n                  name=\"channelName\"\n                  onChange={this.handleChange}\n                />\n              </Form.Field>\n\n              <Form.Field>\n                <Input\n                  fluid\n                  label=\"About the Channel\"\n                  name=\"channelDetails\"\n                  onChange={this.handleChange}\n                />\n              </Form.Field>\n            </Form>\n          </Modal.Content>\n\n          <Modal.Actions>\n            <Button color=\"green\" inverted onClick={this.handleSubmit}>\n              <Icon name=\"checkmark\" /> Add\n            </Button>\n            <Button color=\"red\" inverted onClick={this.closeModal}>\n              <Icon name=\"remove\" /> Cancel\n            </Button>\n          </Modal.Actions>\n        </Modal>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default connect(\n  null,\n  { setCurrentChannel, setPrivateChannel }\n)(Channels);\n","import React from \"react\";\nimport firebase from \"../../firebase\";\nimport { connect } from \"react-redux\";\nimport { setCurrentChannel, setPrivateChannel } from \"../../actions\";\nimport { Menu, Icon } from \"semantic-ui-react\";\n\nclass DirectMessages extends React.Component {\n  state = {\n    activeChannel: \"\",\n    user: this.props.currentUser,\n    users: [],\n    usersRef: firebase.database().ref(\"users\"),\n    connectedRef: firebase.database().ref(\".info/connected\"),\n    presenceRef: firebase.database().ref(\"presence\")\n  };\n\n  componentDidMount() {\n    if (this.state.user) {\n      this.addListeners(this.state.user.uid);\n    }\n  }\n\n  componentWillUnmount() {\n    this.removeListeners();\n  }\n\n  removeListeners = () => {\n    this.state.usersRef.off();\n    this.state.presenceRef.off();\n    this.state.connectedRef.off();\n  };\n\n  addListeners = currentUserUid => {\n    let loadedUsers = [];\n    this.state.usersRef.on(\"child_added\", snap => {\n      if (currentUserUid !== snap.key) {\n        let user = snap.val();\n        user[\"uid\"] = snap.key;\n        user[\"status\"] = \"offline\";\n        loadedUsers.push(user);\n        this.setState({ users: loadedUsers });\n      }\n    });\n\n    this.state.connectedRef.on(\"value\", snap => {\n      if (snap.val() === true) {\n        const ref = this.state.presenceRef.child(currentUserUid);\n        ref.set(true);\n        ref.onDisconnect().remove(err => {\n          if (err !== null) {\n            console.error(err);\n          }\n        });\n      }\n    });\n\n    this.state.presenceRef.on(\"child_added\", snap => {\n      if (currentUserUid !== snap.key) {\n        this.addStatusToUser(snap.key);\n      }\n    });\n\n    this.state.presenceRef.on(\"child_removed\", snap => {\n      if (currentUserUid !== snap.key) {\n        this.addStatusToUser(snap.key, false);\n      }\n    });\n  };\n\n  addStatusToUser = (userId, connected = true) => {\n    const updatedUsers = this.state.users.reduce((acc, user) => {\n      if (user.uid === userId) {\n        user[\"status\"] = `${connected ? \"online\" : \"offline\"}`;\n      }\n      return acc.concat(user);\n    }, []);\n    this.setState({ users: updatedUsers });\n  };\n\n  isUserOnline = user => user.status === \"online\";\n\n  changeChannel = user => {\n    const channelId = this.getChannelId(user.uid);\n    const channelData = {\n      id: channelId,\n      name: user.name\n    };\n    this.props.setCurrentChannel(channelData);\n    this.props.setPrivateChannel(true);\n    this.setActiveChannel(user.uid);\n  };\n\n  getChannelId = userId => {\n    const currentUserId = this.state.user.uid;\n    return userId < currentUserId\n      ? `${userId}/${currentUserId}`\n      : `${currentUserId}/${userId}`;\n  };\n\n  setActiveChannel = userId => {\n    this.setState({ activeChannel: userId });\n  };\n\n  render() {\n    const { users, activeChannel } = this.state;\n\n    return (\n      <Menu.Menu className=\"menu\">\n        <Menu.Item>\n          <span>\n            <Icon name=\"mail\" /> Customers\n          </span>{\" \"}\n          ({users.length})\n        </Menu.Item>\n        {users.map(user => (\n          <Menu.Item\n            key={user.uid}\n            active={user.uid === activeChannel}\n            onClick={() => this.changeChannel(user)}\n            style={{ opacity: 0.7, fontStyle: \"italic\" }}\n          >\n            <Icon\n              name=\"circle\"\n              color={this.isUserOnline(user) ? \"green\" : \"red\"}\n            />\n            @ {user.name}\n          </Menu.Item>\n        ))}\n      </Menu.Menu>\n    );\n  }\n}\n\nexport default connect(\n  null,\n  { setCurrentChannel, setPrivateChannel }\n)(DirectMessages);\n","import React from \"react\";\nimport firebase from \"../../firebase\";\nimport { connect } from \"react-redux\";\nimport { setCurrentChannel, setPrivateChannel } from \"../../actions\";\nimport { Menu, Icon } from \"semantic-ui-react\";\n\nclass Starred extends React.Component {\n  state = {\n    user: this.props.currentUser,\n    usersRef: firebase.database().ref(\"users\"),\n    activeChannel: \"\",\n    starredChannels: []\n  };\n\n  componentDidMount() {\n    if (this.state.user) {\n      this.addListeners(this.state.user.uid);\n    }\n  }\n\n  componentWillUnmount() {\n    this.removeListener();\n  }\n\n  removeListener = () => {\n    this.state.usersRef.child(`${this.state.user.uid}/starred`).off();\n  };\n\n  addListeners = userId => {\n    this.state.usersRef\n      .child(userId)\n      .child(\"starred\")\n      .on(\"child_added\", snap => {\n        const starredChannel = { id: snap.key, ...snap.val() };\n        this.setState({\n          starredChannels: [...this.state.starredChannels, starredChannel]\n        });\n      });\n\n    this.state.usersRef\n      .child(userId)\n      .child(\"starred\")\n      .on(\"child_removed\", snap => {\n        const channelToRemove = { id: snap.key, ...snap.val() };\n        const filteredChannels = this.state.starredChannels.filter(channel => {\n          return channel.id !== channelToRemove.id;\n        });\n        this.setState({ starredChannels: filteredChannels });\n      });\n  };\n\n  setActiveChannel = channel => {\n    this.setState({ activeChannel: channel.id });\n  };\n\n  changeChannel = channel => {\n    this.setActiveChannel(channel);\n    this.props.setCurrentChannel(channel);\n    this.props.setPrivateChannel(false);\n  };\n\n  displayChannels = starredChannels =>\n    starredChannels.length > 0 &&\n    starredChannels.map(channel => (\n      <Menu.Item\n        key={channel.id}\n        onClick={() => this.changeChannel(channel)}\n        name={channel.name}\n        style={{ opacity: 0.7 }}\n        active={channel.id === this.state.activeChannel}\n      >\n        # {channel.name}\n      </Menu.Item>\n    ));\n\n  render() {\n    const { starredChannels } = this.state;\n\n    return (\n      <Menu.Menu className=\"menu\">\n        <Menu.Item>\n          <span>\n            <Icon name=\"star\" /> STARRED\n          </span>{\" \"}\n          ({starredChannels.length})\n        </Menu.Item>\n        {this.displayChannels(starredChannels)}\n      </Menu.Menu>\n    );\n  }\n}\n\nexport default connect(\n  null,\n  { setCurrentChannel, setPrivateChannel }\n)(Starred);\n","import React from \"react\";\nimport { Menu } from \"semantic-ui-react\";\n\nimport UserPanel from \"./UserPanel\";\nimport Channels from \"./Channels\";\nimport DirectMessages from \"./DirectMessages\";\nimport Starred from \"./Starred\";\n\nclass SidePanel extends React.Component {\n  render() {\n    const { currentUser, primaryColor } = this.props;\n\n    return (\n      <Menu\n        size=\"large\"\n        inverted\n        fixed=\"left\"\n        vertical\n        style={{ background: primaryColor, fontSize: \"1.2rem\" }}\n      >\n        <UserPanel primaryColor={primaryColor} currentUser={currentUser} />\n        {/* <Starred currentUser={currentUser} /> */}\n        <Channels currentUser={currentUser} />\n        {/* <DirectMessages currentUser={currentUser} /> */}\n      </Menu>\n    );\n  }\n}\n\nexport default SidePanel;\n","import React from \"react\";\nimport { Header, Segment, Input, Icon } from \"semantic-ui-react\";\n\nclass MessagesHeader extends React.Component {\n  render() {\n    const {\n      channelName,\n      numUniqueUsers,\n      handleSearchChange,\n      searchLoading,\n      isPrivateChannel,\n      handleStar,\n      isChannelStarred\n    } = this.props;\n\n    return (\n      <Segment clearing>\n        {/* Channel Title */}\n        <Header fluid=\"true\" as=\"h2\" floated=\"left\" style={{ marginBottom: 0 }}>\n          <span>\n            {channelName}\n            {/* {!isPrivateChannel && (\n              <Icon\n                onClick={handleStar}\n                name={isChannelStarred ? \"star\" : \"star outline\"}\n                color={isChannelStarred ? \"yellow\" : \"black\"}\n              />\n            )} */}\n          </span>\n          {/* <Header.Subheader>{numUniqueUsers}</Header.Subheader> */}\n        </Header>\n\n        {/* Channel Search Input */}\n        {/* <Header floated=\"right\">\n          <Input\n            loading={searchLoading}\n            onChange={handleSearchChange}\n            size=\"mini\"\n            icon=\"search\"\n            name=\"searchTerm\"\n            placeholder=\"Search Messages\"\n          />\n        </Header> */}\n      </Segment>\n    );\n  }\n}\n\nexport default MessagesHeader;\n","import React from \"react\";\nimport mime from \"mime-types\";\nimport { Modal, Input, Button, Icon } from \"semantic-ui-react\";\n\nclass FileModal extends React.Component {\n  state = {\n    file: null,\n    authorized: [\"image/jpeg\", \"image/png\"]\n  };\n\n  addFile = event => {\n    const file = event.target.files[0];\n    if (file) {\n      this.setState({ file });\n    }\n  };\n\n  sendFile = () => {\n    const { file } = this.state;\n    const { uploadFile, closeModal } = this.props;\n\n    if (file !== null) {\n      if (this.isAuthorized(file.name)) {\n        const metadata = { contentType: mime.lookup(file.name) };\n        uploadFile(file, metadata);\n        closeModal();\n        this.clearFile();\n      }\n    }\n  };\n\n  isAuthorized = filename =>\n    this.state.authorized.includes(mime.lookup(filename));\n\n  clearFile = () => this.setState({ file: null });\n\n  render() {\n    const { modal, closeModal } = this.props;\n\n    return (\n      <Modal basic open={modal} onClose={closeModal}>\n        <Modal.Header>Select an Image File</Modal.Header>\n        <Modal.Content>\n          <Input\n            onChange={this.addFile}\n            fluid\n            label=\"File types: jpg, png\"\n            name=\"file\"\n            type=\"file\"\n          />\n        </Modal.Content>\n        <Modal.Actions>\n          <Button onClick={this.sendFile} color=\"green\" inverted>\n            <Icon name=\"checkmark\" /> Send\n          </Button>\n          <Button color=\"red\" inverted onClick={closeModal}>\n            <Icon name=\"remove\" /> Cancel\n          </Button>\n        </Modal.Actions>\n      </Modal>\n    );\n  }\n}\n\nexport default FileModal;\n","import React from \"react\";\nimport { Progress } from \"semantic-ui-react\";\n\nconst ProgressBar = ({ uploadState, percentUploaded }) =>\n  uploadState === \"uploading\" && (\n    <Progress\n      className=\"progress__bar\"\n      percent={percentUploaded}\n      progress\n      indicating\n      size=\"medium\"\n      inverted\n    />\n  );\n\nexport default ProgressBar;\n","import React from \"react\";\nimport uuidv4 from \"uuid/v4\";\nimport firebase from \"../../firebase\";\nimport { Segment, Button, Input } from \"semantic-ui-react\";\nimport { Picker, emojiIndex } from \"emoji-mart\";\nimport \"emoji-mart/css/emoji-mart.css\";\n\nimport FileModal from \"./FileModal\";\nimport ProgressBar from \"./ProgressBar\";\n\nclass MessageForm extends React.Component {\n  state = {\n    storageRef: firebase.storage().ref(),\n    typingRef: firebase.database().ref(\"typing\"),\n    uploadTask: null,\n    uploadState: \"\",\n    percentUploaded: 0,\n    message: \"\",\n    channel: this.props.currentChannel,\n    user: this.props.currentUser,\n    loading: false,\n    errors: [],\n    modal: false,\n    emojiPicker: false\n  };\n\n  componentWillUnmount() {\n    if (this.state.uploadTask !== null) {\n      this.state.uploadTask.cancel();\n      this.setState({ uploadTask: null });\n    }\n  }\n\n  openModal = () => this.setState({ modal: true });\n\n  closeModal = () => this.setState({ modal: false });\n\n  handleChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  handleKeyDown = event => {\n    if (event.ctrlKey && event.keyCode === 13) {\n      this.sendMessage();\n    }\n\n    const { message, typingRef, channel, user } = this.state;\n\n    if (message) {\n      typingRef\n        .child(channel.id)\n        .child(user.uid)\n        .set(user.displayName);\n    } else {\n      typingRef\n        .child(channel.id)\n        .child(user.uid)\n        .remove();\n    }\n  };\n\n  handleTogglePicker = () => {\n    this.setState({ emojiPicker: !this.state.emojiPicker });\n  };\n\n  handleAddEmoji = emoji => {\n    const oldMessage = this.state.message;\n    const newMessage = this.colonToUnicode(` ${oldMessage} ${emoji.colons} `);\n    this.setState({ message: newMessage, emojiPicker: false });\n    setTimeout(() => this.messageInputRef.focus(), 0);\n  };\n\n  colonToUnicode = message => {\n    return message.replace(/:[A-Za-z0-9_+-]+:/g, x => {\n      x = x.replace(/:/g, \"\");\n      let emoji = emojiIndex.emojis[x];\n      if (typeof emoji !== \"undefined\") {\n        let unicode = emoji.native;\n        if (typeof unicode !== \"undefined\") {\n          return unicode;\n        }\n      }\n      x = \":\" + x + \":\";\n      return x;\n    });\n  };\n\n  createMessage = (fileUrl = null) => {\n    const message = {\n      timestamp: firebase.database.ServerValue.TIMESTAMP,\n      id: this.state.user.uid,\n        name: this.state.user.displayName,\n        avatar: this.state.user.photoURL,\n        senderName: this.state.user.displayName\n    };\n    if (fileUrl !== null) {\n      message[\"image\"] = fileUrl;\n    } else {\n      message[\"message\"] = this.state.message;\n    }\n    return message;\n  };\n\n  sendMessage = () => {\n    const { getMessagesRef } = this.props;\n    const { message, channel, user, typingRef } = this.state;\n\n    if (message) {\n      this.setState({ loading: true });\n      getMessagesRef()\n        .child(user.uid)\n        .child(channel.id)\n        .push()\n        .set(this.createMessage())\n        .then(() => {\n          this.setState({ loading: false, message: \"\", errors: [] });\n          typingRef\n            .child(channel.id)\n            .child(user.uid)\n            .remove();\n        })\n        .catch(err => {\n          console.error(err);\n          this.setState({\n            loading: false,\n            errors: this.state.errors.concat(err)\n          });\n        });\n    } else {\n      this.setState({\n        errors: this.state.errors.concat({ message: \"Add a message\" })\n      });\n    }\n  };\n\n  getPath = () => {\n    if (this.props.isPrivateChannel) {\n      return `chat/private/${this.state.channel.id}`;\n    } else {\n      return \"chat/public\";\n    }\n  };\n\n  uploadFile = (file, metadata) => {\n    const pathToUpload = this.state.channel.id;\n    const ref = this.props.getMessagesRef();\n    const filePath = `${this.getPath()}/${uuidv4()}.jpg`;\n\n    this.setState(\n      {\n        uploadState: \"uploading\",\n        uploadTask: this.state.storageRef.child(filePath).put(file, metadata)\n      },\n      () => {\n        this.state.uploadTask.on(\n          \"state_changed\",\n          snap => {\n            const percentUploaded = Math.round(\n              (snap.bytesTransferred / snap.totalBytes) * 100\n            );\n            this.setState({ percentUploaded });\n          },\n          err => {\n            console.error(err);\n            this.setState({\n              errors: this.state.errors.concat(err),\n              uploadState: \"error\",\n              uploadTask: null\n            });\n          },\n          () => {\n            this.state.uploadTask.snapshot.ref\n              .getDownloadURL()\n              .then(downloadUrl => {\n                this.sendFileMessage(downloadUrl, ref, pathToUpload);\n              })\n              .catch(err => {\n                console.error(err);\n                this.setState({\n                  errors: this.state.errors.concat(err),\n                  uploadState: \"error\",\n                  uploadTask: null\n                });\n              });\n          }\n        );\n      }\n    );\n  };\n\n  sendFileMessage = (fileUrl, ref, pathToUpload) => {\n    ref\n      .child(pathToUpload)\n      .push()\n      .set(this.createMessage(fileUrl))\n      .then(() => {\n        this.setState({ uploadState: \"done\" });\n      })\n      .catch(err => {\n        console.error(err);\n        this.setState({\n          errors: this.state.errors.concat(err)\n        });\n      });\n  };\n\n  render() {\n    // prettier-ignore\n    const { errors, message, loading, modal, uploadState, percentUploaded, emojiPicker } = this.state;\n\n    return (\n      <Segment className=\"message__form\">\n        {emojiPicker && (\n          <Picker\n            set=\"apple\"\n            onSelect={this.handleAddEmoji}\n            className=\"emojipicker\"\n            title=\"Pick your emoji\"\n            emoji=\"point_up\"\n          />\n        )}\n        <Input\n          fluid\n          name=\"message\"\n          onChange={this.handleChange}\n          onKeyDown={this.handleKeyDown}\n          value={message}\n          ref={node => (this.messageInputRef = node)}\n          style={{ marginBottom: \"0.7em\" }}\n          label={\n            <Button\n              icon={emojiPicker ? \"close\" : \"add\"}\n              content={emojiPicker ? \"Close\" : null}\n              onClick={this.handleTogglePicker}\n            />\n          }\n          labelPosition=\"left\"\n          className={\n            errors.some(error => error.message.includes(\"message\"))\n              ? \"error\"\n              : \"\"\n          }\n          placeholder=\"Write your message\"\n        />\n        <Button.Group icon widths=\"2\">\n          <Button\n            onClick={this.sendMessage}\n            disabled={loading}\n            color=\"orange\"\n            content=\"Add Reply\"\n            labelPosition=\"left\"\n            icon=\"edit\"\n          />\n          {/* <Button\n            color=\"teal\"\n            disabled={uploadState === \"uploading\"}\n            onClick={this.openModal}\n            content=\"Upload Media\"\n            labelPosition=\"right\"\n            icon=\"cloud upload\"\n          /> */}\n        </Button.Group>\n        <FileModal\n          modal={modal}\n          closeModal={this.closeModal}\n          uploadFile={this.uploadFile}\n        />\n        <ProgressBar\n          uploadState={uploadState}\n          percentUploaded={percentUploaded}\n        />\n      </Segment>\n    );\n  }\n}\n\nexport default MessageForm;\n","import React from \"react\";\nimport moment from \"moment\";\nimport { Comment, Image } from \"semantic-ui-react\";\n\nconst isOwnMessage = (message, user) => {\n  return message.id === \"IVRobot\"\n  // return message.user.id === user.uid ? \"message__self\" : \"\";\n};\n\nconst isImage = message => {\n  return message.hasOwnProperty(\"image\") && !message.hasOwnProperty(\"content\");\n};\n\nconst timeFromNow = timestamp => moment(timestamp).fromNow();\n\nconst Message = ({ message, user }) => (\n  <Comment>\n    <Comment.Avatar src={\"http://gravatar.com/avatar/15ef5bd18c36ed4a2b8e582022117d97?d=identicon\"} />\n    <Comment.Content className={isOwnMessage(message, user)}>\n      <Comment.Author as=\"a\">{message.senderName}</Comment.Author>\n      <Comment.Metadata>{timeFromNow(message.timestamp)}</Comment.Metadata>\n      {isImage(message) ? (\n        <Image src={message.image} className=\"message__image\" />\n      ) : (\n        <Comment.Text>{message.message}</Comment.Text>\n      )}\n    </Comment.Content>\n  </Comment>\n);\n\nexport default Message;\n","import React from 'react';\n\nconst Typing = () => (\n  <div className=\"typing\">\n    <div className=\"typing__dot\"></div>\n    <div className=\"typing__dot\"></div>\n    <div className=\"typing__dot\"></div>\n  </div>\n)\n\nexport default Typing;","import React from \"react\";\n\nconst Skeleton = () => (\n  <div className=\"skeleton\">\n    <div className=\"skeleton__avatar\" />\n    <div className=\"skeleton__author\" />\n    <div className=\"skeleton__details\" />\n  </div>\n);\n\nexport default Skeleton;\n","import React from \"react\";\nimport { Segment, Comment } from \"semantic-ui-react\";\nimport { connect } from \"react-redux\";\nimport { setUserPosts } from \"../../actions\";\nimport firebase from \"../../firebase\";\n\nimport MessagesHeader from \"./MessagesHeader\";\nimport MessageForm from \"./MessageForm\";\nimport Message from \"./Message\";\nimport Typing from \"./Typing\";\nimport Skeleton from \"./Skeleton\";\n\nclass Messages extends React.Component {\n  state = {\n    privateChannel: this.props.isPrivateChannel,\n    privateMessagesRef: firebase.database().ref(\"privateMessages\"),\n    messagesRef: firebase.database().ref(\"messages\"),\n    messages: [],\n    messagesLoading: true,\n    channel: this.props.currentChannel,\n    isChannelStarred: false,\n    user: this.props.currentUser,\n    usersRef: firebase.database().ref(\"users\"),\n    numUniqueUsers: \"\",\n    searchTerm: \"\",\n    searchLoading: false,\n    searchResults: [],\n    typingRef: firebase.database().ref(\"typing\"),\n    typingUsers: [],\n    connectedRef: firebase.database().ref(\".info/connected\"),\n    listeners: []\n  };\n\n  componentDidMount() {\n    const { channel, user, listeners } = this.state;\n\n    if (channel && user) {\n      this.removeListeners(listeners);\n      this.addListeners(channel.id);\n      this.addUserStarsListener(channel.id, user.uid);\n    }\n  }\n\n  componentWillUnmount() {\n    this.removeListeners(this.state.listeners);\n    this.state.connectedRef.off();\n  }\n\n  removeListeners = listeners => {\n    listeners.forEach(listener => {\n      listener.ref.child(listener.id).off(listener.event);\n    });\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.messagesEnd) {\n      this.scrollToBottom();\n    }\n  }\n\n  addToListeners = (id, ref, event) => {\n    const index = this.state.listeners.findIndex(listener => {\n      return (\n        listener.id === id && listener.ref === ref && listener.event === event\n      );\n    });\n\n    if (index === -1) {\n      const newListener = { id, ref, event };\n      this.setState({ listeners: this.state.listeners.concat(newListener) });\n    }\n  };\n\n  scrollToBottom = () => {\n    this.messagesEnd.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  addListeners = channelId => {\n    this.addMessageListener(channelId);\n    this.addTypingListeners(channelId);\n  };\n\n  addTypingListeners = channelId => {\n    let typingUsers = [];\n    this.state.typingRef.child(channelId).on(\"child_added\", snap => {\n      if (snap.key !== this.state.user.uid) {\n        typingUsers = typingUsers.concat({\n          id: snap.key,\n          name: snap.val()\n        });\n        this.setState({ typingUsers });\n      }\n    });\n    this.addToListeners(channelId, this.state.typingRef, \"child_added\");\n\n    this.state.typingRef.child(channelId).on(\"child_removed\", snap => {\n      const index = typingUsers.findIndex(user => user.id === snap.key);\n      if (index !== -1) {\n        typingUsers = typingUsers.filter(user => user.id !== snap.key);\n        this.setState({ typingUsers });\n      }\n    });\n    this.addToListeners(channelId, this.state.typingRef, \"child_removed\");\n\n    this.state.connectedRef.on(\"value\", snap => {\n      if (snap.val() === true) {\n        this.state.typingRef\n          .child(channelId)\n          .child(this.state.user.uid)\n          .onDisconnect()\n          .remove(err => {\n            if (err !== null) {\n              console.error(err);\n            }\n          });\n      }\n    });\n  };\n\n  addMessageListener = channelId => {\n    let loadedMessages = [];\n    const ref = this.getMessagesRef();\n\n    firebase.database().ref(`messages/${this.state.user.uid}/${channelId}`).on(\"child_added\", snap => {\n      loadedMessages.push(snap.val());\n      this.setState({\n        messages: loadedMessages,\n        messagesLoading: false\n      });\n      this.countUniqueUsers(loadedMessages);\n      this.countUserPosts(loadedMessages);\n    });\n    this.addToListeners(channelId, ref, \"child_added\");\n  };\n\n  addUserStarsListener = (channelId, userId) => {\n    this.state.usersRef\n      .child(userId)\n      .child(\"starred\")\n      .once(\"value\")\n      .then(data => {\n        if (data.val() !== null) {\n          const channelIds = Object.keys(data.val());\n          const prevStarred = channelIds.includes(channelId);\n          this.setState({ isChannelStarred: prevStarred });\n        }\n      });\n  };\n\n  getMessagesRef = () => {\n    const { messagesRef, privateMessagesRef, privateChannel } = this.state;\n    return privateChannel ? privateMessagesRef : messagesRef;\n  };\n\n  handleStar = () => {\n    this.setState(\n      prevState => ({\n        isChannelStarred: !prevState.isChannelStarred\n      }),\n      () => this.starChannel()\n    );\n  };\n\n  starChannel = () => {\n    if (this.state.isChannelStarred) {\n      this.state.usersRef.child(`${this.state.user.uid}/starred`).update({\n        [this.state.channel.id]: {\n          name: this.state.channel.name,\n          details: this.state.channel.details,\n          createdBy: {\n            name: this.state.channel.createdBy.name,\n            avatar: this.state.channel.createdBy.avatar\n          }\n        }\n      });\n    } else {\n      this.state.usersRef\n        .child(`${this.state.user.uid}/starred`)\n        .child(this.state.channel.id)\n        .remove(err => {\n          if (err !== null) {\n            console.error(err);\n          }\n        });\n    }\n  };\n\n  handleSearchChange = event => {\n    this.setState(\n      {\n        searchTerm: event.target.value,\n        searchLoading: true\n      },\n      () => this.handleSearchMessages()\n    );\n  };\n\n  handleSearchMessages = () => {\n    const channelMessages = [...this.state.messages];\n    const regex = new RegExp(this.state.searchTerm, \"gi\");\n    const searchResults = channelMessages.reduce((acc, message) => {\n      if (\n        (message.message && message.message.match(regex)) ||\n        message.senderName.match(regex)\n      ) {\n        acc.push(message);\n      }\n      return acc;\n    }, []);\n    this.setState({ searchResults });\n    setTimeout(() => this.setState({ searchLoading: false }), 1000);\n  };\n\n  countUniqueUsers = messages => {\n    const uniqueUsers = messages.reduce((acc, message) => {\n      if (!acc.includes(message.senderName)) {\n        acc.push(message.senderName);\n      }\n      return acc;\n    }, []);\n    const plural = uniqueUsers.length > 1 || uniqueUsers.length === 0;\n    const numUniqueUsers = `${uniqueUsers.length} user${plural ? \"s\" : \"\"}`;\n    this.setState({ numUniqueUsers });\n  };\n\n  countUserPosts = messages => {\n    let userPosts = messages.reduce((acc, message) => {\n      if (message.senderName in acc) {\n        acc[message.senderName].count += 1;\n      } else {\n        acc[message.senderName] = {\n          avatar: message.avatar,\n          count: 1\n        };\n      }\n      return acc;\n    }, {});\n    this.props.setUserPosts(userPosts);\n  };\n\n  displayMessages = messages =>\n    messages.length > 0 &&\n    messages.map(message => (\n      <Message\n        key={message.timestamp}\n        message={message}\n        user={this.state.user}\n      />\n    ));\n\n  displayChannelName = channel => {\n    return channel\n      ? `${this.state.privateChannel ? \"Customer Name: \" : \"Customer Name: \"}${channel.name}`\n      : \"\";\n  };\n\n  displayTypingUsers = users =>\n    users.length > 0 &&\n    users.map(user => (\n      <div\n        style={{ display: \"flex\", alignItems: \"center\", marginBottom: \"0.2em\" }}\n        key={user.id}\n      >\n        <span className=\"user__typing\">{user.name} is typing</span> <Typing />\n      </div>\n    ));\n\n  displayMessageSkeleton = loading =>\n    loading ? (\n      <React.Fragment>\n        {[...Array(10)].map((_, i) => (\n          <Skeleton key={i} />\n        ))}\n      </React.Fragment>\n    ) : null;\n\n  render() {\n    // prettier-ignore\n    const { messagesRef, messages, channel, user, numUniqueUsers, searchTerm, searchResults, searchLoading, privateChannel, isChannelStarred, typingUsers, messagesLoading } = this.state;\n\n    return (\n      <React.Fragment>\n        <MessagesHeader\n          channelName={this.displayChannelName(channel)}\n          numUniqueUsers={numUniqueUsers}\n          handleSearchChange={this.handleSearchChange}\n          searchLoading={searchLoading}\n          isPrivateChannel={privateChannel}\n          handleStar={this.handleStar}\n          isChannelStarred={isChannelStarred}\n        />\n\n        <Segment>\n          <Comment.Group className=\"messages\">\n            {this.displayMessageSkeleton(messagesLoading)}\n            {searchTerm\n              ? this.displayMessages(searchResults)\n              : this.displayMessages(messages)}\n            {this.displayTypingUsers(typingUsers)}\n            <div ref={node => (this.messagesEnd = node)} />\n          </Comment.Group>\n        </Segment>\n\n        <MessageForm\n          messagesRef={messagesRef}\n          currentChannel={channel}\n          currentUser={user}\n          isPrivateChannel={privateChannel}\n          getMessagesRef={this.getMessagesRef}\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nexport default connect(\n  null,\n  { setUserPosts }\n)(Messages);\n","import React from \"react\";\nimport {\n  Segment,\n  Accordion,\n  Header,\n  Icon,\n  Image,\n  List\n} from \"semantic-ui-react\";\n\nclass MetaPanel extends React.Component {\n  state = {\n    channel: this.props.currentChannel,\n    privateChannel: this.props.isPrivateChannel,\n    activeIndex: 0\n  };\n\n  setActiveIndex = (event, titleProps) => {\n    const { index } = titleProps;\n    const { activeIndex } = this.state;\n    const newIndex = activeIndex === index ? -1 : index;\n    this.setState({ activeIndex: newIndex });\n  };\n\n  formatCount = num => (num > 1 || num === 0 ? `${num} posts` : `${num} post`);\n\n  displayTopPosters = posts =>\n    Object.entries(posts)\n      .sort((a, b) => b[1] - a[1])\n      .map(([key, val], i) => (\n        <List.Item key={i}>\n          <Image avatar src={val.avatar} />\n          <List.Content>\n            <List.Header as=\"a\">{key}</List.Header>\n            <List.Description>{this.formatCount(val.count)}</List.Description>\n          </List.Content>\n        </List.Item>\n      ))\n      .slice(0, 2);\n\n  render() {\n    const { activeIndex, privateChannel, channel } = this.state;\n    const { userPosts } = this.props;\n\n    if (privateChannel) return null;\n\n    return (\n      // <Segment loading={!channel}>\n      //   <Header as=\"h3\" attached=\"top\">\n      //     About {channel && channel.name}\n      //   </Header>\n      //   <Accordion styled attached=\"true\">\n      //     <Accordion.Title\n      //       active={activeIndex === 0}\n      //       index={0}\n      //       onClick={this.setActiveIndex}\n      //     >\n      //       <Icon name=\"dropdown\" />\n      //       <Icon name=\"info\" />\n      //       Channel Details\n      //     </Accordion.Title>\n      //     <Accordion.Content active={activeIndex === 0}>\n      //       {channel && channel.details}\n      //     </Accordion.Content>\n\n      //     <Accordion.Title\n      //       active={activeIndex === 1}\n      //       index={1}\n      //       onClick={this.setActiveIndex}\n      //     >\n      //       <Icon name=\"dropdown\" />\n      //       <Icon name=\"user circle\" />\n      //       Top Posters\n      //     </Accordion.Title>\n      //     <Accordion.Content active={activeIndex === 1}>\n      //       <List>{userPosts && this.displayTopPosters(userPosts)}</List>\n      //     </Accordion.Content>\n\n      //     <Accordion.Title\n      //       active={activeIndex === 2}\n      //       index={2}\n      //       onClick={this.setActiveIndex}\n      //     >\n      //       <Icon name=\"dropdown\" />\n      //       <Icon name=\"pencil alternate\" />\n      //       Created By\n      //     </Accordion.Title>\n      //     <Accordion.Content active={activeIndex === 2}>\n      //       <Header as=\"h3\">\n      //         <Image circular src={channel && channel.avatar} />\n      //         {channel && channel.name}\n      //       </Header>\n      //     </Accordion.Content>\n      //   </Accordion>\n      // </Segment>\n      <div></div>\n    );\n  }\n}\n\nexport default MetaPanel;\n","import React from \"react\";\nimport { Grid, Segment, Divider, Header, Icon } from \"semantic-ui-react\";\nimport \"./App.css\";\nimport { connect } from \"react-redux\";\n\nimport ColorPanel from \"./ColorPanel/ColorPanel\";\nimport SidePanel from \"./SidePanel/SidePanel\";\nimport Messages from \"./Messages/Messages\";\nimport MetaPanel from \"./MetaPanel/MetaPanel\";\n\n// prettier-ignore\nconst App = ({ currentUser, currentChannel, isPrivateChannel, userPosts, primaryColor, secondaryColor }) => (\n  <Grid columns=\"equal\" className=\"app\" style={{ background: secondaryColor }}>\n    {/* <ColorPanel\n      key={currentUser && currentUser.name}\n      currentUser={currentUser}\n    /> */}\n    <SidePanel\n      key={currentUser && currentUser.uid}\n      currentUser={currentUser}\n      primaryColor={primaryColor}\n    />\n\n    {currentChannel !== null ? <div><Grid.Column style={{ marginLeft: 320 }}>\n      <Messages\n        key={currentChannel && currentChannel.id}\n        currentChannel={currentChannel}\n        currentUser={currentUser}\n        isPrivateChannel={isPrivateChannel}\n      />\n    </Grid.Column>\n\n    <Grid.Column width={4}>\n      <MetaPanel\n        key={currentChannel && currentChannel.name}\n        userPosts={userPosts}\n        currentChannel={currentChannel}\n        isPrivateChannel={isPrivateChannel}\n      />\n    </Grid.Column></div> : <Grid verticalAlign=\"middle\" className=\"app\"  style={{ marginLeft: 320 }}>\n        <Grid.Column style={{ maxWidth: 500 }}>\n        <Header icon as=\"h2\">\n            <Icon name='headphone' />\n            IVRobot Store Owner's Console. \n          </Header>\n          <p>Welcome to IVRobot store owner's console! Please select customer to start chat.</p>\n          </Grid.Column></Grid>}\n  </Grid>\n);\n\nconst mapStateToProps = state => ({\n  currentUser: state.user.currentUser,\n  currentChannel: state.channel.currentChannel,\n  isPrivateChannel: state.channel.isPrivateChannel,\n  userPosts: state.channel.userPosts,\n  primaryColor: state.colors.primaryColor,\n  secondaryColor: state.colors.secondaryColor\n});\n\nexport default connect(mapStateToProps)(App);\n","import React from \"react\";\nimport firebase from \"../../firebase\";\nimport {\n  Grid,\n  Form,\n  Segment,\n  Button,\n  Header,\n  Message,\n  Icon\n} from \"semantic-ui-react\";\nimport { Link } from \"react-router-dom\";\n\nclass Login extends React.Component {\n  state = {\n    email: \"\",\n    password: \"\",\n    errors: [],\n    loading: false\n  };\n\n  displayErrors = errors =>\n    errors.map((error, i) => <p key={i}>{error.message}</p>);\n\n  handleChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    if (this.isFormValid(this.state)) {\n      this.setState({ errors: [], loading: true });\n      firebase\n        .auth()\n        .signInWithEmailAndPassword(this.state.email, this.state.password)\n        .then(signedInUser => {\n          console.log(signedInUser);\n        })\n        .catch(err => {\n          console.error(err);\n          this.setState({\n            errors: this.state.errors.concat(err),\n            loading: false\n          });\n        });\n    }\n  };\n\n  isFormValid = ({ email, password }) => email && password;\n\n  handleInputError = (errors, inputName) => {\n    return errors.some(error => error.message.toLowerCase().includes(inputName))\n      ? \"error\"\n      : \"\";\n  };\n\n  render() {\n    const { email, password, errors, loading } = this.state;\n\n    return (\n      <Grid textAlign=\"center\" verticalAlign=\"middle\" className=\"app\">\n        <Grid.Column style={{ maxWidth: 450 }}>\n          <Header as=\"h1\" icon color=\"violet\" textAlign=\"center\">\n            <Icon name=\"headphones\" color=\"violet\" />\n            Login to IVRobot\n          </Header>\n          <Form onSubmit={this.handleSubmit} size=\"large\">\n            <Segment stacked>\n              <Form.Input\n                fluid\n                name=\"email\"\n                icon=\"mail\"\n                iconPosition=\"left\"\n                placeholder=\"Email Address\"\n                onChange={this.handleChange}\n                value={email}\n                className={this.handleInputError(errors, \"email\")}\n                type=\"email\"\n              />\n\n              <Form.Input\n                fluid\n                name=\"password\"\n                icon=\"lock\"\n                iconPosition=\"left\"\n                placeholder=\"Password\"\n                onChange={this.handleChange}\n                value={password}\n                className={this.handleInputError(errors, \"password\")}\n                type=\"password\"\n              />\n\n              <Button\n                disabled={loading}\n                className={loading ? \"loading\" : \"\"}\n                color=\"violet\"\n                fluid\n                size=\"large\"\n              >\n                Submit\n              </Button>\n            </Segment>\n          </Form>\n          {errors.length > 0 && (\n            <Message error>\n              <h3>Error</h3>\n              {this.displayErrors(errors)}\n            </Message>\n          )}\n          <Message>\n            Don't have an account? <Link to=\"/register\">Register</Link>\n          </Message>\n        </Grid.Column>\n      </Grid>\n    );\n  }\n}\n\nexport default Login;\n","import React from \"react\";\nimport firebase from \"../../firebase\";\nimport md5 from \"md5\";\nimport {\n  Grid,\n  Form,\n  Segment,\n  Button,\n  Header,\n  Message,\n  Icon\n} from \"semantic-ui-react\";\nimport { Link } from \"react-router-dom\";\n\nclass Register extends React.Component {\n  state = {\n    username: \"\",\n    storeName: \"\",\n    openHour: \"\",\n    closeHour: \"\",\n    address1: \"\",\n    address2: \"\",\n    zipcode: \"\",\n    city: \"\",\n    state: \"\",\n    email: \"\",\n    password: \"\",\n    passwordConfirmation: \"\",\n    errors: [],\n    loading: false,\n    usersRef: firebase.database().ref(\"users\")\n  };\n\n  isFormValid = () => {\n    let errors = [];\n    let error;\n\n    if (this.isFormEmpty(this.state)) {\n      error = { message: \"Fill in all fields\" };\n      this.setState({ errors: errors.concat(error) });\n      return false;\n    } else if (!this.isPasswordValid(this.state)) {\n      error = { message: \"Password is invalid\" };\n      this.setState({ errors: errors.concat(error) });\n      return false;\n    } else {\n      return true;\n    }\n  };\n\n  isFormEmpty = ({ username, storeName, email, password, passwordConfirmation }) => {\n    return (\n      !username.length ||\n      !storeName.length ||\n      !email.length ||\n      !password.length ||\n      !passwordConfirmation.length\n    );\n  };\n\n  isPasswordValid = ({ password, passwordConfirmation }) => {\n    if (password.length < 6 || passwordConfirmation.length < 6) {\n      return false;\n    } else if (password !== passwordConfirmation) {\n      return false;\n    } else {\n      return true;\n    }\n  };\n\n  displayErrors = errors =>\n    errors.map((error, i) => <p key={i}>{error.message}</p>);\n\n  handleChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    if (this.isFormValid()) {\n      this.setState({ errors: [], loading: true });\n\n      const {\n        storeName,\n        openHour,\n        closeHour,\n        address1,\n        address2,\n        zipcode,\n        city,\n        state,\n      } = this.state;\n\n      firebase\n        .auth()\n        .createUserWithEmailAndPassword(this.state.email, this.state.password)\n        .then(createdUser => {\n          console.log(createdUser);\n          createdUser.user\n            .updateProfile({\n              displayName: this.state.username,\n              photoURL: `http://gravatar.com/avatar/${md5(\n                createdUser.user.email\n              )}?d=identicon`\n            })\n            .then(() => {\n              this.saveUser({\n                createdUser, \n                storeName,\n                openHour,\n                closeHour,\n                address1,\n                address2,\n                zipcode,\n                city,\n                state,\n              }).then(() => {\n                console.log(\"user saved\");\n              });\n            })\n            .catch(err => {\n              console.error(err);\n              this.setState({\n                errors: this.state.errors.concat(err),\n                loading: false\n              });\n            });\n        })\n        .catch(err => {\n          console.error(err);\n          this.setState({\n            errors: this.state.errors.concat(err),\n            loading: false\n          });\n        });\n    }\n  };\n\n  saveUser = ({createdUser, \n    storeName,\n    openHour,\n    closeHour,\n    address1,\n    address2,\n    zipcode,\n    city,\n    state,\n  }) => {\n    return this.state.usersRef.child(createdUser.user.uid).set({\n      name: createdUser.user.displayName,\n      avatar: createdUser.user.photoURL,\n      storeName,\n      openHour,\n      closeHour,\n      address1,\n      address2,\n      zipcode,\n      city,\n      state,\n\n    });\n  };\n\n  handleInputError = (errors, inputName) => {\n    return errors.some(error => error.message.toLowerCase().includes(inputName))\n      ? \"error\"\n      : \"\";\n  };\n\n  render() {\n    const {\n      username,\n      storeName,\n      openHour,\n      closeHour,\n      address1,\n      address2,\n      zipcode,\n      city,\n      state,\n      email,\n      password,\n      passwordConfirmation,\n      errors,\n      loading\n    } = this.state;\n\n    return (\n      <Grid textAlign=\"center\" verticalAlign=\"middle\" className=\"app\">\n        <Grid.Column style={{ maxWidth: 450 }}>\n          <Header as=\"h1\" icon color=\"orange\" textAlign=\"center\">\n            <Icon name=\"add user\" color=\"orange\" />\n            Register for IVRobot\n          </Header>\n          <Form onSubmit={this.handleSubmit} size=\"large\">\n            <Segment stacked>\n              <Form.Input\n                fluid\n                name=\"username\"\n                icon=\"user\"\n                iconPosition=\"left\"\n                placeholder=\"Username\"\n                onChange={this.handleChange}\n                value={username}\n                type=\"text\"\n              />\n\n<Form.Input\n                fluid\n                name=\"storeName\"\n                icon=\"warehouse\"\n                iconPosition=\"left\"\n                placeholder=\"Store Name\"\n                onChange={this.handleChange}\n                value={storeName}\n                type=\"text\"\n              />\n\n              <Form.Input\n                fluid\n                name=\"email\"\n                icon=\"mail\"\n                iconPosition=\"left\"\n                placeholder=\"Email Address\"\n                onChange={this.handleChange}\n                value={email}\n                className={this.handleInputError(errors, \"email\")}\n                type=\"email\"\n              />\n\n              <Form.Input\n                fluid\n                name=\"password\"\n                icon=\"lock\"\n                iconPosition=\"left\"\n                placeholder=\"Password\"\n                onChange={this.handleChange}\n                value={password}\n                className={this.handleInputError(errors, \"password\")}\n                type=\"password\"\n              />\n\n              <Form.Input\n                fluid\n                name=\"passwordConfirmation\"\n                icon=\"repeat\"\n                iconPosition=\"left\"\n                placeholder=\"Password Confirmation\"\n                onChange={this.handleChange}\n                value={passwordConfirmation}\n                className={this.handleInputError(errors, \"password\")}\n                type=\"password\"\n              />\n\n\n<Form.Input\n                fluid\n                name=\"openHour\"\n                icon=\"clock outline\"\n                iconPosition=\"left\"\n                placeholder=\"Open Hour\"\n                onChange={this.handleChange}\n                value={openHour}\n                type=\"text\"\n              />\n\n<Form.Input\n                fluid\n                name=\"closeHour\"\n                icon=\"clock outline\"\n                iconPosition=\"left\"\n                placeholder=\"Close Hour\"\n                onChange={this.handleChange}\n                value={closeHour}\n                type=\"text\"\n              />\n\n<Form.Input\n                fluid\n                name=\"address1\"\n                icon=\"address book outline\"\n                iconPosition=\"left\"\n                placeholder=\"Address1\"\n                onChange={this.handleChange}\n                value={address1}\n                type=\"text\"\n              />\n\n<Form.Input\n                fluid\n                name=\"address2\"\n                icon=\"address book outline\"\n                iconPosition=\"left\"\n                placeholder=\"Address2\"\n                onChange={this.handleChange}\n                value={address2}\n                type=\"text\"\n              />\n\n<Form.Input\n                fluid\n                name=\"city\"\n\n                placeholder=\"City\"\n                onChange={this.handleChange}\n                value={city}\n                type=\"text\"\n              />\n\n<Form.Input\n                fluid\n                name=\"state\"\n                placeholder=\"State\"\n                onChange={this.handleChange}\n                value={state}\n                type=\"text\"\n              />\n\n<Form.Input\n                fluid\n                name=\"zipcode\"\n                placeholder=\"Zip Code\"\n                onChange={this.handleChange}\n                value={zipcode}\n                type=\"text\"\n              />\n\n              <Button\n                disabled={loading}\n                className={loading ? \"loading\" : \"\"}\n                color=\"orange\"\n                fluid\n                size=\"large\"\n              >\n                Submit\n              </Button>\n            </Segment>\n          </Form>\n          {errors.length > 0 && (\n            <Message error>\n              <h3>Error</h3>\n              {this.displayErrors(errors)}\n            </Message>\n          )}\n          <Message>\n            Already a user? <Link to=\"/login\">Login</Link>\n          </Message>\n        </Grid.Column>\n      </Grid>\n    );\n  }\n}\n\nexport default Register;\n","import React from \"react\";\nimport { Loader, Dimmer } from \"semantic-ui-react\";\n\nconst Spinner = () => (\n  <Dimmer active>\n    <Loader size=\"huge\" content={\"Preparing Chat...\"} />\n  </Dimmer>\n);\n\nexport default Spinner;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { combineReducers } from \"redux\";\nimport * as actionTypes from \"../actions/types\";\n\nconst initialUserState = {\n  currentUser: null,\n  isLoading: true\n};\n\nconst user_reducer = (state = initialUserState, action) => {\n  switch (action.type) {\n    case actionTypes.SET_USER:\n      return {\n        currentUser: action.payload.currentUser,\n        isLoading: false\n      };\n    case actionTypes.CLEAR_USER:\n      return {\n        ...state,\n        isLoading: false\n      };\n    default:\n      return state;\n  }\n};\n\nconst initialChannelState = {\n  currentChannel: null,\n  isPrivateChannel: false,\n  userPosts: null\n};\n\nconst channel_reducer = (state = initialChannelState, action) => {\n  switch (action.type) {\n    case actionTypes.SET_CURRENT_CHANNEL:\n      return {\n        ...state,\n        currentChannel: action.payload.currentChannel\n      };\n    case actionTypes.SET_PRIVATE_CHANNEL:\n      return {\n        ...state,\n        isPrivateChannel: action.payload.isPrivateChannel\n      };\n    case actionTypes.SET_USER_POSTS:\n      return {\n        ...state,\n        userPosts: action.payload.userPosts\n      };\n    default:\n      return state;\n  }\n};\n\nconst initialColorsState = {\n  primaryColor: \"#173F5F\",\n  secondaryColor: \"#eee\"\n};\n\nconst colors_reducer = (state = initialColorsState, action) => {\n  switch (action.type) {\n    case actionTypes.SET_COLORS:\n      return {\n        primaryColor: action.payload.primaryColor,\n        secondaryColor: action.payload.secondaryColor\n      };\n    default:\n      return state;\n  }\n};\n\nconst rootReducer = combineReducers({\n  user: user_reducer,\n  channel: channel_reducer,\n  colors: colors_reducer\n});\n\nexport default rootReducer;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport Login from \"./components/Auth/Login\";\nimport Register from \"./components/Auth/Register\";\nimport Spinner from \"./Spinner\";\nimport registerServiceWorker from \"./registerServiceWorker\";\nimport firebase from \"./firebase\";\n\nimport \"semantic-ui-css/semantic.min.css\";\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  withRouter\n} from \"react-router-dom\";\n\nimport { createStore } from \"redux\";\nimport { Provider, connect } from \"react-redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport rootReducer from \"./reducers\";\nimport { setUser, clearUser } from \"./actions\";\n\nconst store = createStore(rootReducer, composeWithDevTools());\n\nclass Root extends React.Component {\n  componentDidMount() {\n    firebase.auth().onAuthStateChanged(user => {\n      if (user) {\n        // console.log(user);\n        this.props.setUser(user);\n        this.props.history.push(\"/\");\n      } else {\n        this.props.history.push(\"/login\");\n        this.props.clearUser();\n      }\n    });\n  }\n\n  render() {\n    return this.props.isLoading ? (\n      <Spinner />\n    ) : (\n      <Switch>\n        <Route exact path=\"/\" component={App} />\n        <Route path=\"/login\" component={Login} />\n        <Route path=\"/register\" component={Register} />\n      </Switch>\n    );\n  }\n}\n\nconst mapStateFromProps = state => ({\n  isLoading: state.user.isLoading\n});\n\nconst RootWithAuth = withRouter(\n  connect(\n    mapStateFromProps,\n    { setUser, clearUser }\n  )(Root)\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router>\n      <RootWithAuth />\n    </Router>\n  </Provider>,\n  document.getElementById(\"root\")\n);\nregisterServiceWorker();\n"]}}